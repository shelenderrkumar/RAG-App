"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle";
exports.ids = ["vendor-chunks/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle"];
exports.modules = {

/***/ "(ssr)/../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/chunk-BJPOCE4O.mjs":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/chunk-BJPOCE4O.mjs ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __export: () => (/* binding */ __export)
/* harmony export */ });
/* __next_internal_client_entry_do_not_use__ __export auto */ var __defProp = Object.defineProperty;
var __export = (target, all)=>{
    for(var name in all)__defProp(target, name, {
        get: all[name],
        enumerable: true
    });
};
 //# sourceMappingURL=chunk-BJPOCE4O.mjs.map


/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/chunk-ZQNZLTZL.mjs":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/chunk-ZQNZLTZL.mjs ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PipeableTransformStream: () => (/* binding */ PipeableTransformStream),\n/* harmony export */   createEdgeRuntimeAPI: () => (/* binding */ createEdgeRuntimeAPI),\n/* harmony export */   getEdgeRuntimeResponse: () => (/* binding */ getEdgeRuntimeResponse),\n/* harmony export */   getEdgeRuntimeStream: () => (/* binding */ getEdgeRuntimeStream),\n/* harmony export */   mergeModelConfigs: () => (/* binding */ mergeModelConfigs),\n/* harmony export */   runResultStream: () => (/* binding */ runResultStream),\n/* harmony export */   streamPartEncoderStream: () => (/* binding */ streamPartEncoderStream),\n/* harmony export */   toCoreMessage: () => (/* binding */ toCoreMessage),\n/* harmony export */   toCoreMessages: () => (/* binding */ toCoreMessages),\n/* harmony export */   toLanguageModelMessages: () => (/* binding */ toLanguageModelMessages),\n/* harmony export */   toLanguageModelTools: () => (/* binding */ toLanguageModelTools),\n/* harmony export */   toolResultStream: () => (/* binding */ toolResultStream)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(ssr)/../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod-to-json-schema */ \"(ssr)/../node_modules/.pnpm/zod-to-json-schema@3.23.3_zod@3.23.8/node_modules/zod-to-json-schema/dist/esm/index.js\");\n/* harmony import */ var secure_json_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! secure-json-parse */ \"(ssr)/../node_modules/.pnpm/secure-json-parse@2.7.0/node_modules/secure-json-parse/index.js\");\n/* __next_internal_client_entry_do_not_use__ mergeModelConfigs,toLanguageModelMessages,toCoreMessages,toCoreMessage,toLanguageModelTools,PipeableTransformStream,streamPartEncoderStream,runResultStream,toolResultStream,getEdgeRuntimeStream,getEdgeRuntimeResponse,createEdgeRuntimeAPI auto */ // src/runtimes/edge/converters/toLanguageModelMessages.ts\nvar assistantMessageSplitter = ()=>{\n    const stash = [];\n    let assistantMessage = {\n        role: \"assistant\",\n        content: []\n    };\n    let toolMessage = {\n        role: \"tool\",\n        content: []\n    };\n    return {\n        addTextContentPart: (part)=>{\n            if (toolMessage.content.length > 0) {\n                stash.push(assistantMessage);\n                stash.push(toolMessage);\n                assistantMessage = {\n                    role: \"assistant\",\n                    content: []\n                };\n                toolMessage = {\n                    role: \"tool\",\n                    content: []\n                };\n            }\n            assistantMessage.content.push(part);\n        },\n        addToolCallPart: (part)=>{\n            assistantMessage.content.push({\n                type: \"tool-call\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                args: part.args\n            });\n            toolMessage.content.push({\n                type: \"tool-result\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                result: part.result ?? \"<no result>\",\n                isError: part.isError ?? false\n            });\n        },\n        getMessages: ()=>{\n            if (toolMessage.content.length > 0) {\n                return [\n                    ...stash,\n                    assistantMessage,\n                    toolMessage\n                ];\n            }\n            return [\n                ...stash,\n                assistantMessage\n            ];\n        }\n    };\n};\nfunction toLanguageModelMessages(message) {\n    return message.flatMap((message2)=>{\n        const role = message2.role;\n        switch(role){\n            case \"system\":\n                {\n                    return [\n                        {\n                            role: \"system\",\n                            content: message2.content[0].text\n                        }\n                    ];\n                }\n            case \"user\":\n                {\n                    const msg = {\n                        role: \"user\",\n                        content: message2.content.map((part)=>{\n                            const type = part.type;\n                            switch(type){\n                                case \"text\":\n                                    {\n                                        return part;\n                                    }\n                                case \"image\":\n                                    {\n                                        return {\n                                            type: \"image\",\n                                            image: new URL(part.image)\n                                        };\n                                    }\n                                default:\n                                    {\n                                        const unhandledType = type;\n                                        throw new Error(`Unspported content part type: ${unhandledType}`);\n                                    }\n                            }\n                        })\n                    };\n                    return [\n                        msg\n                    ];\n                }\n            case \"assistant\":\n                {\n                    const splitter = assistantMessageSplitter();\n                    for (const part of message2.content){\n                        const type = part.type;\n                        switch(type){\n                            case \"text\":\n                                {\n                                    splitter.addTextContentPart(part);\n                                    break;\n                                }\n                            case \"tool-call\":\n                                {\n                                    splitter.addToolCallPart(part);\n                                    break;\n                                }\n                            default:\n                                {\n                                    const unhandledType = type;\n                                    throw new Error(`Unhandled content part type: ${unhandledType}`);\n                                }\n                        }\n                    }\n                    return splitter.getMessages();\n                }\n            default:\n                {\n                    const unhandledRole = role;\n                    throw new Error(`Unknown message role: ${unhandledRole}`);\n                }\n        }\n    });\n}\n// src/runtimes/edge/converters/toCoreMessages.ts\nvar toCoreMessages = (message)=>{\n    return message.map(toCoreMessage);\n};\nvar toCoreMessage = (message)=>{\n    const role = message.role;\n    switch(role){\n        case \"assistant\":\n            return {\n                role,\n                content: message.content.map((part)=>{\n                    if (part.type === \"ui\") throw new Error(\"UI parts are not supported\");\n                    if (part.type === \"tool-call\") {\n                        const { argsText, ...rest } = part;\n                        return rest;\n                    }\n                    return part;\n                })\n            };\n        case \"user\":\n            return {\n                role,\n                content: [\n                    ...message.content.map((part)=>{\n                        if (part.type === \"ui\") throw new Error(\"UI parts are not supported\");\n                        return part;\n                    }),\n                    ...message.attachments.map((a)=>a.content).flat()\n                ]\n            };\n        case \"system\":\n            return {\n                role,\n                content: message.content\n            };\n        default:\n            {\n                const unsupportedRole = role;\n                throw new Error(`Unknown message role: ${unsupportedRole}`);\n            }\n    }\n};\n// src/runtimes/edge/converters/toLanguageModelTools.ts\n\n\nvar toLanguageModelTools = (tools)=>{\n    return Object.entries(tools).map(([name, tool])=>({\n            type: \"function\",\n            name,\n            ...tool.description ? {\n                description: tool.description\n            } : void 0,\n            parameters: tool.parameters instanceof zod__WEBPACK_IMPORTED_MODULE_1__.z.ZodType ? (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tool.parameters) : tool.parameters\n        }));\n};\n// src/runtimes/edge/streams/assistantEncoderStream.ts\nfunction assistantEncoderStream() {\n    const toolCalls = /* @__PURE__ */ new Set();\n    return new TransformStream({\n        transform (chunk, controller) {\n            const chunkType = chunk.type;\n            switch(chunkType){\n                case \"text-delta\":\n                    {\n                        controller.enqueue({\n                            type: \"0\" /* TextDelta */ ,\n                            value: chunk.textDelta\n                        });\n                        break;\n                    }\n                case \"tool-call-delta\":\n                    {\n                        if (!toolCalls.has(chunk.toolCallId)) {\n                            toolCalls.add(chunk.toolCallId);\n                            controller.enqueue({\n                                type: \"1\" /* ToolCallBegin */ ,\n                                value: {\n                                    id: chunk.toolCallId,\n                                    name: chunk.toolName\n                                }\n                            });\n                        }\n                        controller.enqueue({\n                            type: \"2\" /* ToolCallArgsTextDelta */ ,\n                            value: chunk.argsTextDelta\n                        });\n                        break;\n                    }\n                // ignore\n                case \"tool-call\":\n                case \"response-metadata\":\n                    break;\n                case \"tool-result\":\n                    {\n                        controller.enqueue({\n                            type: \"3\" /* ToolCallResult */ ,\n                            value: {\n                                id: chunk.toolCallId,\n                                result: chunk.result\n                            }\n                        });\n                        break;\n                    }\n                case \"finish\":\n                    {\n                        const { type, ...rest } = chunk;\n                        controller.enqueue({\n                            type: \"F\" /* Finish */ ,\n                            value: rest\n                        });\n                        break;\n                    }\n                case \"error\":\n                    {\n                        controller.enqueue({\n                            type: \"E\" /* Error */ ,\n                            value: chunk.error\n                        });\n                        break;\n                    }\n                default:\n                    {\n                        const unhandledType = chunkType;\n                        throw new Error(`Unhandled chunk type: ${unhandledType}`);\n                    }\n            }\n        }\n    });\n}\n// src/types/ModelConfigTypes.ts\n\nvar LanguageModelV1CallSettingsSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    maxTokens: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().int().positive().optional(),\n    temperature: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n    topP: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n    presencePenalty: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n    frequencyPenalty: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n    seed: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().int().optional(),\n    headers: zod__WEBPACK_IMPORTED_MODULE_1__.z.record(zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional()).optional()\n});\nvar LanguageModelConfigSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    apiKey: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    baseUrl: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    modelName: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional()\n});\nvar mergeModelConfigs = (configSet)=>{\n    const configs = Array.from(configSet).map((c)=>c.getModelConfig()).sort((a, b)=>(b.priority ?? 0) - (a.priority ?? 0));\n    return configs.reduce((acc, config)=>{\n        if (config.system) {\n            if (acc.system) {\n                acc.system += `\n\n${config.system}`;\n            } else {\n                acc.system = config.system;\n            }\n        }\n        if (config.tools) {\n            for (const [name, tool] of Object.entries(config.tools)){\n                if (acc.tools?.[name]) {\n                    throw new Error(`You tried to define a tool with the name ${name}, but it already exists.`);\n                }\n                if (!acc.tools) acc.tools = {};\n                acc.tools[name] = tool;\n            }\n        }\n        if (config.config) {\n            acc.config = {\n                ...acc.config,\n                ...config.config\n            };\n        }\n        if (config.callSettings) {\n            acc.callSettings = {\n                ...acc.callSettings,\n                ...config.callSettings\n            };\n        }\n        return acc;\n    }, {});\n};\n// src/runtimes/edge/EdgeRuntimeRequestOptions.ts\n\nvar LanguageModelV1FunctionToolSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"function\"),\n    name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n    description: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    parameters: zod__WEBPACK_IMPORTED_MODULE_1__.z.custom((val)=>typeof val === \"object\" && val !== null)\n});\nvar TextContentPartSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"text\"),\n    text: zod__WEBPACK_IMPORTED_MODULE_1__.z.string()\n});\nvar ImageContentPartSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"image\"),\n    image: zod__WEBPACK_IMPORTED_MODULE_1__.z.string()\n});\nvar CoreToolCallContentPartSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"tool-call\"),\n    toolCallId: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n    toolName: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n    args: zod__WEBPACK_IMPORTED_MODULE_1__.z.record(zod__WEBPACK_IMPORTED_MODULE_1__.z.unknown()),\n    result: zod__WEBPACK_IMPORTED_MODULE_1__.z.unknown().optional(),\n    isError: zod__WEBPACK_IMPORTED_MODULE_1__.z.boolean().optional()\n});\nvar CoreUserMessageSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    role: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"user\"),\n    content: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(zod__WEBPACK_IMPORTED_MODULE_1__.z.discriminatedUnion(\"type\", [\n        TextContentPartSchema,\n        ImageContentPartSchema\n    ])).min(1)\n});\nvar CoreAssistantMessageSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    role: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"assistant\"),\n    content: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(zod__WEBPACK_IMPORTED_MODULE_1__.z.discriminatedUnion(\"type\", [\n        TextContentPartSchema,\n        CoreToolCallContentPartSchema\n    ])).min(1)\n});\nvar CoreSystemMessageSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    role: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"system\"),\n    content: zod__WEBPACK_IMPORTED_MODULE_1__.z.tuple([\n        TextContentPartSchema\n    ])\n});\nvar CoreMessageSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.discriminatedUnion(\"role\", [\n    CoreSystemMessageSchema,\n    CoreUserMessageSchema,\n    CoreAssistantMessageSchema\n]);\nvar EdgeRuntimeRequestOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    system: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    messages: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(CoreMessageSchema).min(1),\n    tools: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(LanguageModelV1FunctionToolSchema).optional()\n}).merge(LanguageModelV1CallSettingsSchema).merge(LanguageModelConfigSchema);\n// src/runtimes/edge/streams/toolResultStream.ts\n\n\nfunction toolResultStream(tools, abortSignal) {\n    const toolCallExecutions = /* @__PURE__ */ new Map();\n    return new TransformStream({\n        transform (chunk, controller) {\n            controller.enqueue(chunk);\n            const chunkType = chunk.type;\n            switch(chunkType){\n                case \"tool-call\":\n                    {\n                        const { toolCallId, toolCallType, toolName, args: argsText } = chunk;\n                        const tool = tools?.[toolName];\n                        if (!tool || !tool.execute) return;\n                        const args = secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(argsText);\n                        if (tool.parameters instanceof zod__WEBPACK_IMPORTED_MODULE_1__.z.ZodType) {\n                            const result = tool.parameters.safeParse(args);\n                            if (!result.success) {\n                                controller.enqueue({\n                                    type: \"tool-result\",\n                                    toolCallType,\n                                    toolCallId,\n                                    toolName,\n                                    result: \"Function parameter validation failed. \" + JSON.stringify(result.error.issues),\n                                    isError: true\n                                });\n                                return;\n                            } else {\n                                toolCallExecutions.set(toolCallId, (async ()=>{\n                                    if (!tool.execute) return;\n                                    try {\n                                        const result2 = await tool.execute(args, {\n                                            abortSignal\n                                        });\n                                        controller.enqueue({\n                                            type: \"tool-result\",\n                                            toolCallType,\n                                            toolCallId,\n                                            toolName,\n                                            result: result2\n                                        });\n                                    } catch (error) {\n                                        controller.enqueue({\n                                            type: \"tool-result\",\n                                            toolCallType,\n                                            toolCallId,\n                                            toolName,\n                                            result: \"Error: \" + error,\n                                            isError: true\n                                        });\n                                    } finally{\n                                        toolCallExecutions.delete(toolCallId);\n                                    }\n                                })());\n                            }\n                        }\n                        break;\n                    }\n                // ignore other parts\n                case \"text-delta\":\n                case \"tool-call-delta\":\n                case \"tool-result\":\n                case \"finish\":\n                case \"error\":\n                case \"response-metadata\":\n                    break;\n                default:\n                    {\n                        const unhandledType = chunkType;\n                        throw new Error(`Unhandled chunk type: ${unhandledType}`);\n                    }\n            }\n        },\n        async flush () {\n            await Promise.all(toolCallExecutions.values());\n        }\n    });\n}\n// src/runtimes/edge/partial-json/parse-partial-json.ts\n\n// src/runtimes/edge/partial-json/fix-json.ts\nfunction fixJson(input) {\n    const stack = [\n        \"ROOT\"\n    ];\n    let lastValidIndex = -1;\n    let literalStart = null;\n    function processValueStart(char, i, swapState) {\n        {\n            switch(char){\n                case '\"':\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_STRING\");\n                        break;\n                    }\n                case \"f\":\n                case \"t\":\n                case \"n\":\n                    {\n                        lastValidIndex = i;\n                        literalStart = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_LITERAL\");\n                        break;\n                    }\n                case \"-\":\n                    {\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"0\":\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"{\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_OBJECT_START\");\n                        break;\n                    }\n                case \"[\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_ARRAY_START\");\n                        break;\n                    }\n            }\n        }\n    }\n    function processAfterObjectValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n                    break;\n                }\n            case \"}\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    function processAfterArrayValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                    break;\n                }\n            case \"]\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    for(let i = 0; i < input.length; i++){\n        const char = input[i];\n        const currentState = stack[stack.length - 1];\n        switch(currentState){\n            case \"ROOT\":\n                processValueStart(char, i, \"FINISH\");\n                break;\n            case \"INSIDE_OBJECT_START\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n                {\n                    switch(char){\n                        case \":\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n                {\n                    processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    processAfterObjectValue(char, i);\n                    break;\n                }\n            case \"INSIDE_STRING\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"\\\\\":\n                            {\n                                stack.push(\"INSIDE_STRING_ESCAPE\");\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n                {\n                    switch(char){\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    switch(char){\n                        case \",\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n                {\n                    processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_STRING_ESCAPE\":\n                {\n                    stack.pop();\n                    lastValidIndex = i;\n                    break;\n                }\n            case \"INSIDE_NUMBER\":\n                {\n                    switch(char){\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\":\n                        case \"8\":\n                        case \"9\":\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"e\":\n                        case \"E\":\n                        case \"-\":\n                        case \".\":\n                            {\n                                break;\n                            }\n                        case \",\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                break;\n                            }\n                        default:\n                            {\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, i + 1);\n                    if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n                        stack.pop();\n                        if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                            processAfterObjectValue(char, i);\n                        } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                            processAfterArrayValue(char, i);\n                        }\n                    } else {\n                        lastValidIndex = i;\n                    }\n                    break;\n                }\n        }\n    }\n    let result = input.slice(0, lastValidIndex + 1);\n    for(let i = stack.length - 1; i >= 0; i--){\n        const state = stack[i];\n        switch(state){\n            case \"INSIDE_STRING\":\n                {\n                    result += '\"';\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n            case \"INSIDE_OBJECT_START\":\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    result += \"}\";\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    result += \"]\";\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, input.length);\n                    if (\"true\".startsWith(partialLiteral)) {\n                        result += \"true\".slice(partialLiteral.length);\n                    } else if (\"false\".startsWith(partialLiteral)) {\n                        result += \"false\".slice(partialLiteral.length);\n                    } else if (\"null\".startsWith(partialLiteral)) {\n                        result += \"null\".slice(partialLiteral.length);\n                    }\n                }\n        }\n    }\n    return result;\n}\n// src/runtimes/edge/partial-json/parse-partial-json.ts\nvar parsePartialJson = (json)=>{\n    try {\n        return secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(json);\n    } catch  {\n        try {\n            return secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(fixJson(json));\n        } catch  {\n            return void 0;\n        }\n    }\n};\n// src/runtimes/edge/streams/runResultStream.ts\nfunction runResultStream() {\n    let message = {\n        content: [],\n        status: {\n            type: \"running\"\n        }\n    };\n    const currentToolCall = {\n        toolCallId: \"\",\n        argsText: \"\"\n    };\n    return new TransformStream({\n        transform (chunk, controller) {\n            const chunkType = chunk.type;\n            switch(chunkType){\n                case \"text-delta\":\n                    {\n                        message = appendOrUpdateText(message, chunk.textDelta);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"tool-call-delta\":\n                    {\n                        const { toolCallId, toolName, argsTextDelta } = chunk;\n                        if (currentToolCall.toolCallId !== toolCallId) {\n                            currentToolCall.toolCallId = toolCallId;\n                            currentToolCall.argsText = argsTextDelta;\n                        } else {\n                            currentToolCall.argsText += argsTextDelta;\n                        }\n                        message = appendOrUpdateToolCall(message, toolCallId, toolName, currentToolCall.argsText);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"tool-call\":\n                case \"response-metadata\":\n                    break;\n                case \"tool-result\":\n                    {\n                        message = appendOrUpdateToolResult(message, chunk.toolCallId, chunk.toolName, chunk.result);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"finish\":\n                    {\n                        message = appendOrUpdateFinish(message, chunk);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"error\":\n                    {\n                        if (chunk.error instanceof Error && chunk.error.name === \"AbortError\") {\n                            message = appendOrUpdateCancel(message);\n                            controller.enqueue(message);\n                            break;\n                        } else {\n                            throw chunk.error;\n                        }\n                    }\n                default:\n                    {\n                        const unhandledType = chunkType;\n                        throw new Error(`Unhandled chunk type: ${unhandledType}`);\n                    }\n            }\n        }\n    });\n}\nvar appendOrUpdateText = (message, textDelta)=>{\n    let contentParts = message.content ?? [];\n    let contentPart = message.content?.at(-1);\n    if (contentPart?.type !== \"text\") {\n        contentPart = {\n            type: \"text\",\n            text: textDelta\n        };\n    } else {\n        contentParts = contentParts.slice(0, -1);\n        contentPart = {\n            type: \"text\",\n            text: contentPart.text + textDelta\n        };\n    }\n    return {\n        ...message,\n        content: contentParts.concat([\n            contentPart\n        ])\n    };\n};\nvar appendOrUpdateToolCall = (message, toolCallId, toolName, argsText)=>{\n    let contentParts = message.content ?? [];\n    let contentPart = message.content?.at(-1);\n    if (contentPart?.type !== \"tool-call\" || contentPart.toolCallId !== toolCallId) {\n        contentPart = {\n            type: \"tool-call\",\n            toolCallId,\n            toolName,\n            argsText,\n            args: parsePartialJson(argsText)\n        };\n    } else {\n        contentParts = contentParts.slice(0, -1);\n        contentPart = {\n            ...contentPart,\n            argsText,\n            args: parsePartialJson(argsText)\n        };\n    }\n    return {\n        ...message,\n        content: contentParts.concat([\n            contentPart\n        ])\n    };\n};\nvar appendOrUpdateToolResult = (message, toolCallId, toolName, result)=>{\n    let found = false;\n    const newContentParts = message.content?.map((part)=>{\n        if (part.type !== \"tool-call\" || part.toolCallId !== toolCallId) return part;\n        found = true;\n        if (part.toolName !== toolName) throw new Error(`Tool call ${toolCallId} found with tool name ${part.toolName}, but expected ${toolName}`);\n        return {\n            ...part,\n            result\n        };\n    });\n    if (!found) throw new Error(`Received tool result for unknown tool call \"${toolName}\" / \"${toolCallId}\". This is likely an internal bug in assistant-ui.`);\n    return {\n        ...message,\n        content: newContentParts\n    };\n};\nvar appendOrUpdateFinish = (message, chunk)=>{\n    const { type, ...rest } = chunk;\n    return {\n        ...message,\n        status: getStatus(chunk),\n        metadata: {\n            ...message.metadata,\n            roundtrips: [\n                ...message.metadata?.roundtrips ?? [],\n                {\n                    logprobs: rest.logprobs,\n                    usage: rest.usage\n                }\n            ]\n        }\n    };\n};\nvar getStatus = (chunk)=>{\n    if (chunk.finishReason === \"tool-calls\") {\n        return {\n            type: \"requires-action\",\n            reason: \"tool-calls\"\n        };\n    } else if (chunk.finishReason === \"stop\" || chunk.finishReason === \"unknown\") {\n        return {\n            type: \"complete\",\n            reason: chunk.finishReason\n        };\n    } else {\n        return {\n            type: \"incomplete\",\n            reason: chunk.finishReason\n        };\n    }\n};\nvar appendOrUpdateCancel = (message)=>{\n    return {\n        ...message,\n        status: {\n            type: \"incomplete\",\n            reason: \"cancelled\"\n        }\n    };\n};\n// src/runtimes/edge/streams/utils/PipeableTransformStream.ts\nvar PipeableTransformStream = class extends TransformStream {\n    constructor(transform){\n        super();\n        const readable = transform(super.readable);\n        Object.defineProperty(this, \"readable\", {\n            value: readable,\n            writable: false\n        });\n    }\n};\n// src/runtimes/edge/streams/utils/streamPartEncoderStream.ts\nfunction encodeStreamPart({ type, value }) {\n    return `${type}:${JSON.stringify(value)}\n`;\n}\nfunction streamPartEncoderStream() {\n    const encodeStream = new TransformStream({\n        transform (chunk, controller) {\n            controller.enqueue(encodeStreamPart(chunk));\n        }\n    });\n    return new PipeableTransformStream((readable)=>{\n        return readable.pipeThrough(encodeStream).pipeThrough(new TextEncoderStream());\n    });\n}\n// src/runtimes/edge/createEdgeRuntimeAPI.ts\nvar voidStream = ()=>{\n    return new WritableStream({\n        abort (reason) {\n            console.error(\"Server stream processing aborted:\", reason);\n        }\n    });\n};\nvar getEdgeRuntimeStream = async ({ abortSignal, requestData: unsafeRequest, options: { model: modelOrCreator, system: serverSystem, tools: serverTools = {}, toolChoice, onFinish, ...unsafeSettings } })=>{\n    const settings = LanguageModelV1CallSettingsSchema.parse(unsafeSettings);\n    const lmServerTools = toLanguageModelTools(serverTools);\n    const hasServerTools = Object.values(serverTools).some((v)=>!!v.execute);\n    const { system: clientSystem, tools: clientTools = [], messages, apiKey, baseUrl, modelName, ...callSettings } = EdgeRuntimeRequestOptionsSchema.parse(unsafeRequest);\n    const systemMessages = [];\n    if (serverSystem) systemMessages.push(serverSystem);\n    if (clientSystem) systemMessages.push(clientSystem);\n    const system = systemMessages.join(\"\\n\\n\");\n    for (const clientTool of clientTools){\n        if (serverTools?.[clientTool.name]) {\n            throw new Error(`Tool ${clientTool.name} was defined in both the client and server tools. This is not allowed.`);\n        }\n    }\n    let model;\n    model = typeof modelOrCreator === \"function\" ? await modelOrCreator({\n        apiKey,\n        baseUrl,\n        modelName\n    }) : modelOrCreator;\n    let stream;\n    const streamResult = await streamMessage({\n        ...settings,\n        ...callSettings,\n        model,\n        abortSignal,\n        ...!!system ? {\n            system\n        } : void 0,\n        messages,\n        tools: lmServerTools.concat(clientTools),\n        ...toolChoice ? {\n            toolChoice\n        } : void 0\n    });\n    stream = streamResult.stream;\n    const canExecuteTools = hasServerTools && toolChoice?.type !== \"none\";\n    if (canExecuteTools) {\n        stream = stream.pipeThrough(toolResultStream(serverTools, abortSignal));\n    }\n    if (canExecuteTools || onFinish) {\n        const tees = stream.tee();\n        stream = tees[0];\n        let serverStream = tees[1];\n        if (onFinish) {\n            let lastChunk;\n            serverStream = serverStream.pipeThrough(runResultStream()).pipeThrough(new TransformStream({\n                transform (chunk) {\n                    lastChunk = chunk;\n                },\n                flush () {\n                    if (!lastChunk?.status || lastChunk.status.type === \"running\") return;\n                    const resultingMessages = [\n                        ...messages,\n                        toCoreMessage({\n                            role: \"assistant\",\n                            content: lastChunk.content\n                        })\n                    ];\n                    onFinish({\n                        messages: resultingMessages,\n                        metadata: {\n                            roundtrips: lastChunk.metadata?.roundtrips\n                        }\n                    });\n                }\n            }));\n        }\n        serverStream.pipeTo(voidStream()).catch((e)=>{\n            console.error(\"Server stream processing error:\", e);\n        });\n    }\n    return stream;\n};\nvar getEdgeRuntimeResponse = async (options)=>{\n    const stream = await getEdgeRuntimeStream(options);\n    return new Response(stream.pipeThrough(assistantEncoderStream()).pipeThrough(streamPartEncoderStream()), {\n        headers: {\n            \"Content-Type\": \"text/plain; charset=utf-8\"\n        }\n    });\n};\nvar createEdgeRuntimeAPI = (options)=>({\n        POST: async (request)=>getEdgeRuntimeResponse({\n                abortSignal: request.signal,\n                requestData: await request.json(),\n                options\n            })\n    });\nasync function streamMessage({ model, system, messages, tools, toolChoice, ...options }) {\n    return model.doStream({\n        inputFormat: \"messages\",\n        mode: {\n            type: \"regular\",\n            ...tools ? {\n                tools\n            } : void 0,\n            ...toolChoice ? {\n                toolChoice\n            } : void 0\n        },\n        prompt: convertToLanguageModelPrompt(system, messages),\n        ...options\n    });\n}\nfunction convertToLanguageModelPrompt(system, messages) {\n    const languageModelMessages = [];\n    if (system != null) {\n        languageModelMessages.push({\n            role: \"system\",\n            content: system\n        });\n    }\n    languageModelMessages.push(...toLanguageModelMessages(messages));\n    return languageModelMessages;\n}\n //# sourceMappingURL=chunk-ZQNZLTZL.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhc3Npc3RhbnQtdWkrcmVhY3RAMC41LjUxX0B0eXBlcytyZWFjdC1kb21AMTguMy4wX0B0eXBlcytyZWFjdEAxOC4zLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdF83dXlpNG5lYjZlbzdtbmRodW9zdmJzeHNsZS9ub2RlX21vZHVsZXMvQGFzc2lzdGFudC11aS9yZWFjdC9kaXN0L2NodW5rLVpRTlpMVFpMLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBY0EsSUFBTUEsMkJBQTJCO0lBQy9CLE1BQU1DLFFBQWtDLEVBQUM7SUFDekMsSUFBSUMsbUJBQW1CO1FBQ3JCQyxNQUFNO1FBQ05DLFNBQVMsRUFBQztJQUNaO0lBQ0EsSUFBSUMsY0FBYztRQUNoQkYsTUFBTTtRQUNOQyxTQUFTLEVBQUM7SUFDWjtJQUVBLE9BQU87UUFDTEUsb0JBQW9CLENBQUNDO1lBQ25CLElBQUlGLFlBQVlELE9BQUEsQ0FBUUksTUFBQSxHQUFTLEdBQUc7Z0JBQ2xDUCxNQUFNUSxJQUFBLENBQUtQO2dCQUNYRCxNQUFNUSxJQUFBLENBQUtKO2dCQUVYSCxtQkFBbUI7b0JBQ2pCQyxNQUFNO29CQUNOQyxTQUFTLEVBQUM7Z0JBSVo7Z0JBRUFDLGNBQWM7b0JBQ1pGLE1BQU07b0JBQ05DLFNBQVMsRUFBQztnQkFDWjtZQUNGO1lBRUFGLGlCQUFpQkUsT0FBQSxDQUFRSyxJQUFBLENBQUtGO1FBQ2hDO1FBQ0FHLGlCQUFpQixDQUFDSDtZQUNoQkwsaUJBQWlCRSxPQUFBLENBQVFLLElBQUEsQ0FBSztnQkFDNUJFLE1BQU07Z0JBQ05DLFlBQVlMLEtBQUtLLFVBQUE7Z0JBQ2pCQyxVQUFVTixLQUFLTSxRQUFBO2dCQUNmQyxNQUFNUCxLQUFLTyxJQUFBO1lBQ2I7WUFFQVQsWUFBWUQsT0FBQSxDQUFRSyxJQUFBLENBQUs7Z0JBQ3ZCRSxNQUFNO2dCQUNOQyxZQUFZTCxLQUFLSyxVQUFBO2dCQUNqQkMsVUFBVU4sS0FB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LE1BQU07WUFDTixHQUFJOEIsUUFBUTtnQkFBRUE7WUFBTSxJQUFJO1lBQ3hCLEdBQUlnSyxhQUFhO2dCQUFFQTtZQUFXLElBQUk7UUFDcEM7UUFDQWtDLFFBQVFDLDZCQUE2QjNJLFFBQVFvQjtRQUM3QyxHQUFJK0UsT0FBQTtJQUNOO0FBQ0Y7QUFFTyxTQUFTd0MsNkJBQ2QzSSxNQUFBLEVBQ0FvQixRQUFBO0lBRUEsTUFBTXdILHdCQUErQyxFQUFDO0lBRXRELElBQUk1SSxVQUFVLE1BQU07UUFDbEI0SSxzQkFBc0JwTyxJQUFBLENBQUs7WUFBRU4sTUFBTTtZQUFVQyxTQUFTNkY7UUFBTztJQUMvRDtJQUNBNEksc0JBQXNCcE8sSUFBQSxJQUFRUyx3QkFBd0JtRztJQUV0RCxPQUFPd0g7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9lZGdlL2NvbnZlcnRlcnMvdG9MYW5ndWFnZU1vZGVsTWVzc2FnZXMudHM/ZjgxZSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZWRnZS9jb252ZXJ0ZXJzL3RvQ29yZU1lc3NhZ2VzLnRzPzcxODAiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvY29udmVydGVycy90b0xhbmd1YWdlTW9kZWxUb29scy50cz83YzM0Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvYXNzaXN0YW50RW5jb2RlclN0cmVhbS50cz83YmJkIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzLnRzP2U3N2MiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9ucy50cz82ZTI3Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvdG9vbFJlc3VsdFN0cmVhbS50cz81MjhlIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9lZGdlL3BhcnRpYWwtanNvbi9wYXJzZS1wYXJ0aWFsLWpzb24udHM/OTMyNiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZWRnZS9wYXJ0aWFsLWpzb24vZml4LWpzb24udHM/YTIwNiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZWRnZS9zdHJlYW1zL3J1blJlc3VsdFN0cmVhbS50cz9lODU0Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvdXRpbHMvUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW0udHM/NmU2ZiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZWRnZS9zdHJlYW1zL3V0aWxzL3N0cmVhbVBhcnRFbmNvZGVyU3RyZWFtLnRzPzY4NWIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvY3JlYXRlRWRnZVJ1bnRpbWVBUEkudHM/MjJhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjFJbWFnZVBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMU1lc3NhZ2UsXG4gIExhbmd1YWdlTW9kZWxWMVRleHRQYXJ0LFxuICBMYW5ndWFnZU1vZGVsVjFUb29sQ2FsbFBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMVRvb2xSZXN1bHRQYXJ0LFxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgQ29yZU1lc3NhZ2UsXG4gIFRocmVhZE1lc3NhZ2UsXG4gIFRleHRDb250ZW50UGFydCxcbiAgQ29yZVRvb2xDYWxsQ29udGVudFBhcnQsXG59IGZyb20gXCIuLi8uLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuXG5jb25zdCBhc3Npc3RhbnRNZXNzYWdlU3BsaXR0ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHN0YXNoOiBMYW5ndWFnZU1vZGVsVjFNZXNzYWdlW10gPSBbXTtcbiAgbGV0IGFzc2lzdGFudE1lc3NhZ2UgPSB7XG4gICAgcm9sZTogXCJhc3Npc3RhbnRcIiBhcyBjb25zdCxcbiAgICBjb250ZW50OiBbXSBhcyAoTGFuZ3VhZ2VNb2RlbFYxVGV4dFBhcnQgfCBMYW5ndWFnZU1vZGVsVjFUb29sQ2FsbFBhcnQpW10sXG4gIH07XG4gIGxldCB0b29sTWVzc2FnZSA9IHtcbiAgICByb2xlOiBcInRvb2xcIiBhcyBjb25zdCxcbiAgICBjb250ZW50OiBbXSBhcyBMYW5ndWFnZU1vZGVsVjFUb29sUmVzdWx0UGFydFtdLFxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYWRkVGV4dENvbnRlbnRQYXJ0OiAocGFydDogVGV4dENvbnRlbnRQYXJ0KSA9PiB7XG4gICAgICBpZiAodG9vbE1lc3NhZ2UuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHN0YXNoLnB1c2goYXNzaXN0YW50TWVzc2FnZSk7XG4gICAgICAgIHN0YXNoLnB1c2godG9vbE1lc3NhZ2UpO1xuXG4gICAgICAgIGFzc2lzdGFudE1lc3NhZ2UgPSB7XG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIiBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiBbXSBhcyAoXG4gICAgICAgICAgICB8IExhbmd1YWdlTW9kZWxWMVRleHRQYXJ0XG4gICAgICAgICAgICB8IExhbmd1YWdlTW9kZWxWMVRvb2xDYWxsUGFydFxuICAgICAgICAgIClbXSxcbiAgICAgICAgfTtcblxuICAgICAgICB0b29sTWVzc2FnZSA9IHtcbiAgICAgICAgICByb2xlOiBcInRvb2xcIiBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiBbXSBhcyBMYW5ndWFnZU1vZGVsVjFUb29sUmVzdWx0UGFydFtdLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBhc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnQucHVzaChwYXJ0KTtcbiAgICB9LFxuICAgIGFkZFRvb2xDYWxsUGFydDogKHBhcnQ6IENvcmVUb29sQ2FsbENvbnRlbnRQYXJ0KSA9PiB7XG4gICAgICBhc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnQucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgIGFyZ3M6IHBhcnQuYXJncyxcbiAgICAgIH0pO1xuXG4gICAgICB0b29sTWVzc2FnZS5jb250ZW50LnB1c2goe1xuICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgIHJlc3VsdDogcGFydC5yZXN1bHQgPz8gXCI8bm8gcmVzdWx0PlwiLFxuICAgICAgICBpc0Vycm9yOiBwYXJ0LmlzRXJyb3IgPz8gZmFsc2UsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldE1lc3NhZ2VzOiAoKSA9PiB7XG4gICAgICBpZiAodG9vbE1lc3NhZ2UuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBbLi4uc3Rhc2gsIGFzc2lzdGFudE1lc3NhZ2UsIHRvb2xNZXNzYWdlXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFsuLi5zdGFzaCwgYXNzaXN0YW50TWVzc2FnZV07XG4gICAgfSxcbiAgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0xhbmd1YWdlTW9kZWxNZXNzYWdlcyhcbiAgbWVzc2FnZTogcmVhZG9ubHkgQ29yZU1lc3NhZ2VbXSB8IHJlYWRvbmx5IFRocmVhZE1lc3NhZ2VbXSxcbik6IExhbmd1YWdlTW9kZWxWMU1lc3NhZ2VbXSB7XG4gIHJldHVybiBtZXNzYWdlLmZsYXRNYXAoKG1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCByb2xlID0gbWVzc2FnZS5yb2xlO1xuICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgY2FzZSBcInN5c3RlbVwiOiB7XG4gICAgICAgIHJldHVybiBbeyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRbMF0udGV4dCB9XTtcbiAgICAgIH1cblxuICAgICAgY2FzZSBcInVzZXJcIjoge1xuICAgICAgICBjb25zdCBtc2c6IExhbmd1YWdlTW9kZWxWMU1lc3NhZ2UgPSB7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50Lm1hcChcbiAgICAgICAgICAgIChwYXJ0KTogTGFuZ3VhZ2VNb2RlbFYxVGV4dFBhcnQgfCBMYW5ndWFnZU1vZGVsVjFJbWFnZVBhcnQgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB0eXBlID0gcGFydC50eXBlO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjoge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJpbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogbmV3IFVSTChwYXJ0LmltYWdlKSxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogXCJ1aVwiID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFVuc3Bwb3J0ZWQgY29udGVudCBwYXJ0IHR5cGU6ICR7dW5oYW5kbGVkVHlwZX1gLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFttc2ddO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiYXNzaXN0YW50XCI6IHtcbiAgICAgICAgY29uc3Qgc3BsaXR0ZXIgPSBhc3Npc3RhbnRNZXNzYWdlU3BsaXR0ZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIHNwbGl0dGVyLmFkZFRleHRDb250ZW50UGFydChwYXJ0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6IHtcbiAgICAgICAgICAgICAgc3BsaXR0ZXIuYWRkVG9vbENhbGxQYXJ0KHBhcnQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogXCJ1aVwiID0gdHlwZTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgY29udGVudCBwYXJ0IHR5cGU6ICR7dW5oYW5kbGVkVHlwZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwbGl0dGVyLmdldE1lc3NhZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgdW5oYW5kbGVkUm9sZTogbmV2ZXIgPSByb2xlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSByb2xlOiAke3VuaGFuZGxlZFJvbGV9YCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IFRocmVhZE1lc3NhZ2UsIENvcmVNZXNzYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCB0b0NvcmVNZXNzYWdlcyA9IChtZXNzYWdlOiBUaHJlYWRNZXNzYWdlW10pOiBDb3JlTWVzc2FnZVtdID0+IHtcbiAgcmV0dXJuIG1lc3NhZ2UubWFwKHRvQ29yZU1lc3NhZ2UpO1xufTtcblxuZXhwb3J0IGNvbnN0IHRvQ29yZU1lc3NhZ2UgPSAobWVzc2FnZTogVGhyZWFkTWVzc2FnZSk6IENvcmVNZXNzYWdlID0+IHtcbiAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTtcbiAgc3dpdGNoIChyb2xlKSB7XG4gICAgY2FzZSBcImFzc2lzdGFudFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50Lm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwidWlcIikgdGhyb3cgbmV3IEVycm9yKFwiVUkgcGFydHMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0b29sLWNhbGxcIikge1xuICAgICAgICAgICAgY29uc3QgeyBhcmdzVGV4dCwgLi4ucmVzdCB9ID0gcGFydDtcbiAgICAgICAgICAgIHJldHVybiByZXN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgfSksXG4gICAgICB9O1xuXG4gICAgY2FzZSBcInVzZXJcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAuLi5tZXNzYWdlLmNvbnRlbnQubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgICBpZiAocGFydC50eXBlID09PSBcInVpXCIpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVJIHBhcnRzIGFyZSBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4ubWVzc2FnZS5hdHRhY2htZW50cy5tYXAoKGEpID0+IGEuY29udGVudCkuZmxhdCgpLFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgIGNhc2UgXCJzeXN0ZW1cIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgIH07XG5cbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCB1bnN1cHBvcnRlZFJvbGU6IG5ldmVyID0gcm9sZTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHJvbGU6ICR7dW5zdXBwb3J0ZWRSb2xlfWApO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBKU09OU2NoZW1hNyB9IGZyb20gXCJqc29uLXNjaGVtYVwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB6b2RUb0pzb25TY2hlbWEgZnJvbSBcInpvZC10by1qc29uLXNjaGVtYVwiO1xuaW1wb3J0IHsgVG9vbCB9IGZyb20gXCIuLi8uLi8uLi90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCB0b0xhbmd1YWdlTW9kZWxUb29scyA9IChcbiAgdG9vbHM6IFJlY29yZDxzdHJpbmcsIFRvb2w8YW55LCBhbnk+Pixcbik6IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbFtdID0+IHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRvb2xzKS5tYXAoKFtuYW1lLCB0b29sXSkgPT4gKHtcbiAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgbmFtZSxcbiAgICAuLi4odG9vbC5kZXNjcmlwdGlvbiA/IHsgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24gfSA6IHVuZGVmaW5lZCksXG4gICAgcGFyYW1ldGVyczogKHRvb2wucGFyYW1ldGVycyBpbnN0YW5jZW9mIHouWm9kVHlwZVxuICAgICAgPyB6b2RUb0pzb25TY2hlbWEodG9vbC5wYXJhbWV0ZXJzKVxuICAgICAgOiB0b29sLnBhcmFtZXRlcnMpIGFzIEpTT05TY2hlbWE3LFxuICB9KSk7XG59O1xuIiwiaW1wb3J0IHtcbiAgQXNzaXN0YW50U3RyZWFtQ2h1bmssXG4gIEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZSxcbn0gZnJvbSBcIi4vQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlXCI7XG5pbXBvcnQgeyBTdHJlYW1QYXJ0IH0gZnJvbSBcIi4vdXRpbHMvU3RyZWFtUGFydFwiO1xuaW1wb3J0IHsgVG9vbFJlc3VsdFN0cmVhbVBhcnQgfSBmcm9tIFwiLi90b29sUmVzdWx0U3RyZWFtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3Npc3RhbnRFbmNvZGVyU3RyZWFtKCkge1xuICBjb25zdCB0b29sQ2FsbHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgVG9vbFJlc3VsdFN0cmVhbVBhcnQsXG4gICAgU3RyZWFtUGFydDxBc3Npc3RhbnRTdHJlYW1DaHVuaz5cbiAgPih7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICBjb25zdCBjaHVua1R5cGUgPSBjaHVuay50eXBlO1xuICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHQtZGVsdGFcIjoge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVGV4dERlbHRhLFxuICAgICAgICAgICAgdmFsdWU6IGNodW5rLnRleHREZWx0YSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidG9vbC1jYWxsLWRlbHRhXCI6IHtcbiAgICAgICAgICBpZiAoIXRvb2xDYWxscy5oYXMoY2h1bmsudG9vbENhbGxJZCkpIHtcbiAgICAgICAgICAgIHRvb2xDYWxscy5hZGQoY2h1bmsudG9vbENhbGxJZCk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICB0eXBlOiBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxCZWdpbixcbiAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICBpZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxBcmdzVGV4dERlbHRhLFxuICAgICAgICAgICAgdmFsdWU6IGNodW5rLmFyZ3NUZXh0RGVsdGEsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgY2FzZSBcInRvb2wtY2FsbFwiOlxuICAgICAgICBjYXNlIFwicmVzcG9uc2UtbWV0YWRhdGFcIjpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwidG9vbC1yZXN1bHRcIjoge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxSZXN1bHQsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICBpZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgcmVzdWx0OiBjaHVuay5yZXN1bHQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBcImZpbmlzaFwiOiB7XG4gICAgICAgICAgY29uc3QgeyB0eXBlLCAuLi5yZXN0IH0gPSBjaHVuaztcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLkZpbmlzaCxcbiAgICAgICAgICAgIHZhbHVlOiByZXN0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBcImVycm9yXCI6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLkVycm9yLFxuICAgICAgICAgICAgdmFsdWU6IGNodW5rLmVycm9yLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCB1bmhhbmRsZWRUeXBlOiBuZXZlciA9IGNodW5rVHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBjaHVuayB0eXBlOiAke3VuaGFuZGxlZFR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cbiIsImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgdHlwZSB7IEpTT05TY2hlbWE3IH0gZnJvbSBcImpzb24tc2NoZW1hXCI7XG5cbmV4cG9ydCBjb25zdCBMYW5ndWFnZU1vZGVsVjFDYWxsU2V0dGluZ3NTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG1heFRva2Vuczogei5udW1iZXIoKS5pbnQoKS5wb3NpdGl2ZSgpLm9wdGlvbmFsKCksXG4gIHRlbXBlcmF0dXJlOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIHRvcFA6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgcHJlc2VuY2VQZW5hbHR5OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGZyZXF1ZW5jeVBlbmFsdHk6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgc2VlZDogei5udW1iZXIoKS5pbnQoKS5vcHRpb25hbCgpLFxuICBoZWFkZXJzOiB6LnJlY29yZCh6LnN0cmluZygpLm9wdGlvbmFsKCkpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IHR5cGUgTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzID0gei5pbmZlcjxcbiAgdHlwZW9mIExhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5nc1NjaGVtYVxuPjtcblxuZXhwb3J0IGNvbnN0IExhbmd1YWdlTW9kZWxDb25maWdTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGFwaUtleTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBiYXNlVXJsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIG1vZGVsTmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIExhbmd1YWdlTW9kZWxDb25maWcgPSB6LmluZmVyPHR5cGVvZiBMYW5ndWFnZU1vZGVsQ29uZmlnU2NoZW1hPjtcblxudHlwZSBUb29sRXhlY3V0ZUZ1bmN0aW9uPFRBcmdzLCBUUmVzdWx0PiA9IChcbiAgYXJnczogVEFyZ3MsXG4gIGNvbnRleHQ6IHtcbiAgICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWw7XG4gIH0sXG4pID0+IFRSZXN1bHQgfCBQcm9taXNlPFRSZXN1bHQ+O1xuXG5leHBvcnQgdHlwZSBUb29sPFxuICBUQXJncyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gUmVjb3JkPHN0cmluZyB8IG51bWJlciwgdW5rbm93bj4sXG4gIFRSZXN1bHQgPSB1bmtub3duLFxuPiA9IHtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHBhcmFtZXRlcnM6IHouWm9kU2NoZW1hPFRBcmdzPiB8IEpTT05TY2hlbWE3O1xuICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxUQXJncywgVFJlc3VsdD47XG59O1xuXG5leHBvcnQgdHlwZSBNb2RlbENvbmZpZyA9IHtcbiAgcHJpb3JpdHk/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHN5c3RlbT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgdG9vbHM/OiBSZWNvcmQ8c3RyaW5nLCBUb29sPGFueSwgYW55Pj4gfCB1bmRlZmluZWQ7XG4gIGNhbGxTZXR0aW5ncz86IExhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgY29uZmlnPzogTGFuZ3VhZ2VNb2RlbENvbmZpZyB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIE1vZGVsQ29uZmlnUHJvdmlkZXIgPSB7IGdldE1vZGVsQ29uZmlnOiAoKSA9PiBNb2RlbENvbmZpZyB9O1xuXG5leHBvcnQgY29uc3QgbWVyZ2VNb2RlbENvbmZpZ3MgPSAoXG4gIGNvbmZpZ1NldDogU2V0PE1vZGVsQ29uZmlnUHJvdmlkZXI+LFxuKTogTW9kZWxDb25maWcgPT4ge1xuICBjb25zdCBjb25maWdzID0gQXJyYXkuZnJvbShjb25maWdTZXQpXG4gICAgLm1hcCgoYykgPT4gYy5nZXRNb2RlbENvbmZpZygpKVxuICAgIC5zb3J0KChhLCBiKSA9PiAoYi5wcmlvcml0eSA/PyAwKSAtIChhLnByaW9yaXR5ID8/IDApKTtcblxuICByZXR1cm4gY29uZmlncy5yZWR1Y2UoKGFjYywgY29uZmlnKSA9PiB7XG4gICAgaWYgKGNvbmZpZy5zeXN0ZW0pIHtcbiAgICAgIGlmIChhY2Muc3lzdGVtKSB7XG4gICAgICAgIC8vIFRPRE8gc2hvdWxkIHRoZSBzZXBhcmF0b3IgYmUgY29uZmlndXJhYmxlP1xuICAgICAgICBhY2Muc3lzdGVtICs9IGBcXG5cXG4ke2NvbmZpZy5zeXN0ZW19YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjYy5zeXN0ZW0gPSBjb25maWcuc3lzdGVtO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29uZmlnLnRvb2xzKSB7XG4gICAgICBmb3IgKGNvbnN0IFtuYW1lLCB0b29sXSBvZiBPYmplY3QuZW50cmllcyhjb25maWcudG9vbHMpKSB7XG4gICAgICAgIGlmIChhY2MudG9vbHM/LltuYW1lXSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBZb3UgdHJpZWQgdG8gZGVmaW5lIGEgdG9vbCB3aXRoIHRoZSBuYW1lICR7bmFtZX0sIGJ1dCBpdCBhbHJlYWR5IGV4aXN0cy5gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY2MudG9vbHMpIGFjYy50b29scyA9IHt9O1xuICAgICAgICBhY2MudG9vbHNbbmFtZV0gPSB0b29sO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29uZmlnLmNvbmZpZykge1xuICAgICAgYWNjLmNvbmZpZyA9IHtcbiAgICAgICAgLi4uYWNjLmNvbmZpZyxcbiAgICAgICAgLi4uY29uZmlnLmNvbmZpZyxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChjb25maWcuY2FsbFNldHRpbmdzKSB7XG4gICAgICBhY2MuY2FsbFNldHRpbmdzID0ge1xuICAgICAgICAuLi5hY2MuY2FsbFNldHRpbmdzLFxuICAgICAgICAuLi5jb25maWcuY2FsbFNldHRpbmdzLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30gYXMgTW9kZWxDb25maWcpO1xufTtcbiIsImltcG9ydCB7IEpTT05TY2hlbWE3IH0gZnJvbSBcImpzb24tc2NoZW1hXCI7XG5pbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsQ29uZmlnU2NoZW1hLFxuICBMYW5ndWFnZU1vZGVsVjFDYWxsU2V0dGluZ3NTY2hlbWEsXG59IGZyb20gXCIuLi8uLi90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG5jb25zdCBMYW5ndWFnZU1vZGVsVjFGdW5jdGlvblRvb2xTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbChcImZ1bmN0aW9uXCIpLFxuICBuYW1lOiB6LnN0cmluZygpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBwYXJhbWV0ZXJzOiB6LmN1c3RvbTxKU09OU2NoZW1hNz4oXG4gICAgKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIiAmJiB2YWwgIT09IG51bGwsXG4gICksXG59KTtcblxuY29uc3QgVGV4dENvbnRlbnRQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoXCJ0ZXh0XCIpLFxuICB0ZXh0OiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IEltYWdlQ29udGVudFBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbChcImltYWdlXCIpLFxuICBpbWFnZTogei5zdHJpbmcoKSxcbn0pO1xuXG5jb25zdCBDb3JlVG9vbENhbGxDb250ZW50UGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKFwidG9vbC1jYWxsXCIpLFxuICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgYXJnczogei5yZWNvcmQoei51bmtub3duKCkpLFxuICByZXN1bHQ6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gIGlzRXJyb3I6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG59KTtcbi8vIGFyZ3MgaXMgcmVxdWlyZWQgYnV0IHVua25vd247XG5cbmNvbnN0IENvcmVVc2VyTWVzc2FnZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcm9sZTogei5saXRlcmFsKFwidXNlclwiKSxcbiAgY29udGVudDogelxuICAgIC5hcnJheShcbiAgICAgIHouZGlzY3JpbWluYXRlZFVuaW9uKFwidHlwZVwiLCBbXG4gICAgICAgIFRleHRDb250ZW50UGFydFNjaGVtYSxcbiAgICAgICAgSW1hZ2VDb250ZW50UGFydFNjaGVtYSxcbiAgICAgIF0pLFxuICAgIClcbiAgICAubWluKDEpLFxufSk7XG5cbmNvbnN0IENvcmVBc3Npc3RhbnRNZXNzYWdlU2NoZW1hID0gei5vYmplY3Qoe1xuICByb2xlOiB6LmxpdGVyYWwoXCJhc3Npc3RhbnRcIiksXG4gIGNvbnRlbnQ6IHpcbiAgICAuYXJyYXkoXG4gICAgICB6LmRpc2NyaW1pbmF0ZWRVbmlvbihcInR5cGVcIiwgW1xuICAgICAgICBUZXh0Q29udGVudFBhcnRTY2hlbWEsXG4gICAgICAgIENvcmVUb29sQ2FsbENvbnRlbnRQYXJ0U2NoZW1hLFxuICAgICAgXSksXG4gICAgKVxuICAgIC5taW4oMSksXG59KTtcblxuY29uc3QgQ29yZVN5c3RlbU1lc3NhZ2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJvbGU6IHoubGl0ZXJhbChcInN5c3RlbVwiKSxcbiAgY29udGVudDogei50dXBsZShbVGV4dENvbnRlbnRQYXJ0U2NoZW1hXSksXG59KTtcblxuY29uc3QgQ29yZU1lc3NhZ2VTY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbihcInJvbGVcIiwgW1xuICBDb3JlU3lzdGVtTWVzc2FnZVNjaGVtYSxcbiAgQ29yZVVzZXJNZXNzYWdlU2NoZW1hLFxuICBDb3JlQXNzaXN0YW50TWVzc2FnZVNjaGVtYSxcbl0pO1xuXG5leHBvcnQgY29uc3QgRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9uc1NjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgc3lzdGVtOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgbWVzc2FnZXM6IHouYXJyYXkoQ29yZU1lc3NhZ2VTY2hlbWEpLm1pbigxKSxcbiAgICB0b29sczogei5hcnJheShMYW5ndWFnZU1vZGVsVjFGdW5jdGlvblRvb2xTY2hlbWEpLm9wdGlvbmFsKCksXG4gIH0pXG4gIC5tZXJnZShMYW5ndWFnZU1vZGVsVjFDYWxsU2V0dGluZ3NTY2hlbWEpXG4gIC5tZXJnZShMYW5ndWFnZU1vZGVsQ29uZmlnU2NoZW1hKTtcblxuZXhwb3J0IHR5cGUgRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9ucyA9IHouaW5mZXI8XG4gIHR5cGVvZiBFZGdlUnVudGltZVJlcXVlc3RPcHRpb25zU2NoZW1hXG4+O1xuIiwiaW1wb3J0IHsgVG9vbCB9IGZyb20gXCIuLi8uLi8uLi90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzXCI7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjFTdHJlYW1QYXJ0IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgc2pzb24gZnJvbSBcInNlY3VyZS1qc29uLXBhcnNlXCI7XG5cbmV4cG9ydCB0eXBlIFRvb2xSZXN1bHRTdHJlYW1QYXJ0ID1cbiAgfCBMYW5ndWFnZU1vZGVsVjFTdHJlYW1QYXJ0XG4gIHwge1xuICAgICAgdHlwZTogXCJ0b29sLXJlc3VsdFwiO1xuICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCI7XG4gICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICB0b29sTmFtZTogc3RyaW5nO1xuICAgICAgcmVzdWx0OiB1bmtub3duO1xuICAgICAgaXNFcnJvcj86IGJvb2xlYW47XG4gICAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xSZXN1bHRTdHJlYW0oXG4gIHRvb2xzOiBSZWNvcmQ8c3RyaW5nLCBUb29sPiB8IHVuZGVmaW5lZCxcbiAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsLFxuKSB7XG4gIGNvbnN0IHRvb2xDYWxsRXhlY3V0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBQcm9taXNlPGFueT4+KCk7XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW08VG9vbFJlc3VsdFN0cmVhbVBhcnQsIFRvb2xSZXN1bHRTdHJlYW1QYXJ0Pih7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAvLyBmb3J3YXJkIGV2ZXJ5dGhpbmdcbiAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG5cbiAgICAgIC8vIGhhbmRsZSB0b29sIGNhbGxzXG4gICAgICBjb25zdCBjaHVua1R5cGUgPSBjaHVuay50eXBlO1xuICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICAgICAgY29uc3QgeyB0b29sQ2FsbElkLCB0b29sQ2FsbFR5cGUsIHRvb2xOYW1lLCBhcmdzOiBhcmdzVGV4dCB9ID0gY2h1bms7XG4gICAgICAgICAgY29uc3QgdG9vbCA9IHRvb2xzPy5bdG9vbE5hbWVdO1xuICAgICAgICAgIGlmICghdG9vbCB8fCAhdG9vbC5leGVjdXRlKSByZXR1cm47XG5cbiAgICAgICAgICBjb25zdCBhcmdzID0gc2pzb24ucGFyc2UoYXJnc1RleHQpO1xuICAgICAgICAgIGlmICh0b29sLnBhcmFtZXRlcnMgaW5zdGFuY2VvZiB6LlpvZFR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRvb2wucGFyYW1ldGVycy5zYWZlUGFyc2UoYXJncyk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLXJlc3VsdFwiLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZSxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIHJlc3VsdDpcbiAgICAgICAgICAgICAgICAgIFwiRnVuY3Rpb24gcGFyYW1ldGVyIHZhbGlkYXRpb24gZmFpbGVkLiBcIiArXG4gICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShyZXN1bHQuZXJyb3IuaXNzdWVzKSxcbiAgICAgICAgICAgICAgICBpc0Vycm9yOiB0cnVlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdG9vbENhbGxFeGVjdXRpb25zLnNldChcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXRvb2wuZXhlY3V0ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0b29sLmV4ZWN1dGUoYXJncywgeyBhYm9ydFNpZ25hbCB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBcIkVycm9yOiBcIiArIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgIGlzRXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxFeGVjdXRpb25zLmRlbGV0ZSh0b29sQ2FsbElkKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSgpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlnbm9yZSBvdGhlciBwYXJ0c1xuICAgICAgICBjYXNlIFwidGV4dC1kZWx0YVwiOlxuICAgICAgICBjYXNlIFwidG9vbC1jYWxsLWRlbHRhXCI6XG4gICAgICAgIGNhc2UgXCJ0b29sLXJlc3VsdFwiOlxuICAgICAgICBjYXNlIFwiZmluaXNoXCI6XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICBjYXNlIFwicmVzcG9uc2UtbWV0YWRhdGFcIjpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogbmV2ZXIgPSBjaHVua1R5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgY2h1bmsgdHlwZTogJHt1bmhhbmRsZWRUeXBlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFzeW5jIGZsdXNoKCkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodG9vbENhbGxFeGVjdXRpb25zLnZhbHVlcygpKTtcbiAgICB9LFxuICB9KTtcbn1cbiIsImltcG9ydCBzanNvbiBmcm9tIFwic2VjdXJlLWpzb24tcGFyc2VcIjtcbmltcG9ydCB7IGZpeEpzb24gfSBmcm9tIFwiLi9maXgtanNvblwiO1xuXG5leHBvcnQgY29uc3QgcGFyc2VQYXJ0aWFsSnNvbiA9IChqc29uOiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gc2pzb24ucGFyc2UoanNvbik7XG4gIH0gY2F0Y2gge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc2pzb24ucGFyc2UoZml4SnNvbihqc29uKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufTtcbiIsIi8vIExJQ0VOU0UgZm9yIHRoaXMgZmlsZSBvbmx5XG5cbi8vIENvcHlyaWdodCAyMDIzIFZlcmNlbCwgSW5jLlxuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxudHlwZSBTdGF0ZSA9XG4gIHwgXCJST09UXCJcbiAgfCBcIkZJTklTSFwiXG4gIHwgXCJJTlNJREVfU1RSSU5HXCJcbiAgfCBcIklOU0lERV9TVFJJTkdfRVNDQVBFXCJcbiAgfCBcIklOU0lERV9MSVRFUkFMXCJcbiAgfCBcIklOU0lERV9OVU1CRVJcIlxuICB8IFwiSU5TSURFX09CSkVDVF9TVEFSVFwiXG4gIHwgXCJJTlNJREVfT0JKRUNUX0tFWVwiXG4gIHwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiXG4gIHwgXCJJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRVwiXG4gIHwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCJcbiAgfCBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIlxuICB8IFwiSU5TSURFX0FSUkFZX1NUQVJUXCJcbiAgfCBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiXG4gIHwgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjtcblxuLy8gSW1wbGVtZW50ZWQgYXMgYSBzY2FubmVyIHdpdGggYWRkaXRpb25hbCBmaXhpbmdcbi8vIHRoYXQgcGVyZm9ybXMgYSBzaW5nbGUgbGluZWFyIHRpbWUgc2NhbiBwYXNzIG92ZXIgdGhlIHBhcnRpYWwgSlNPTi5cbi8vXG4vLyBUaGUgc3RhdGVzIHNob3VsZCBpZGVhbGx5IG1hdGNoIHJlbGV2YW50IHN0YXRlcyBmcm9tIHRoZSBKU09OIHNwZWM6XG4vLyBodHRwczovL3d3dy5qc29uLm9yZy9qc29uLWVuLmh0bWxcbi8vXG4vLyBQbGVhc2Ugbm90ZSB0aGF0IGludmFsaWQgSlNPTiBpcyBub3QgY29uc2lkZXJlZC9jb3ZlcmVkLCBiZWNhdXNlIGl0XG4vLyBpcyBhc3N1bWVkIHRoYXQgdGhlIHJlc3VsdGluZyBKU09OIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IGEgc3RhbmRhcmRcbi8vIEpTT04gcGFyc2VyIHRoYXQgd2lsbCBkZXRlY3QgYW55IGludmFsaWQgSlNPTi5cbmV4cG9ydCBmdW5jdGlvbiBmaXhKc29uKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzdGFjazogU3RhdGVbXSA9IFtcIlJPT1RcIl07XG4gIGxldCBsYXN0VmFsaWRJbmRleCA9IC0xO1xuICBsZXQgbGl0ZXJhbFN0YXJ0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBwcm9jZXNzVmFsdWVTdGFydChjaGFyOiBzdHJpbmcsIGk6IG51bWJlciwgc3dhcFN0YXRlOiBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgY2FzZSBcInRcIjpcbiAgICAgICAgY2FzZSBcIm5cIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBsaXRlcmFsU3RhcnQgPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX0xJVEVSQUxcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlIFwiLVwiOiB7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfTlVNQkVSXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgIGNhc2UgXCI0XCI6XG4gICAgICAgIGNhc2UgXCI1XCI6XG4gICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgIGNhc2UgXCI3XCI6XG4gICAgICAgIGNhc2UgXCI4XCI6XG4gICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfTlVNQkVSXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBcIntcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlIFwiW1wiOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX0FSUkFZX1NUQVJUXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhcjogc3RyaW5nLCBpOiBudW1iZXIpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyOiBzdHJpbmcsIGk6IG51bWJlcikge1xuICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyID0gaW5wdXRbaV0hO1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuXG4gICAgc3dpdGNoIChjdXJyZW50U3RhdGUpIHtcbiAgICAgIGNhc2UgXCJST09UXCI6XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiRklOSVNIXCIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9LRVlcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9BRlRFUl9LRVlcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCI6XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCIpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRVwiOiB7XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiSU5TSURFX1NUUklOR1wiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwiXFxcXFwiOiB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX1NUUklOR19FU0NBUEVcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiOiB7XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdfRVNDQVBFXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9OVU1CRVJcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICBjYXNlIFwiM1wiOlxuICAgICAgICAgIGNhc2UgXCI0XCI6XG4gICAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgICBjYXNlIFwiNlwiOlxuICAgICAgICAgIGNhc2UgXCI3XCI6XG4gICAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgICBjYXNlIFwiOVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICBjYXNlIFwiLlwiOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfTElURVJBTFwiOiB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxMaXRlcmFsID0gaW5wdXQuc3Vic3RyaW5nKGxpdGVyYWxTdGFydCEsIGkgKyAxKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgIVwiZmFsc2VcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSAmJlxuICAgICAgICAgICFcInRydWVcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSAmJlxuICAgICAgICAgICFcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKVxuICAgICAgICApIHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcblxuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCByZXN1bHQgPSBpbnB1dC5zbGljZSgwLCBsYXN0VmFsaWRJbmRleCArIDEpO1xuXG4gIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RhY2tbaV07XG5cbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICBjYXNlIFwiSU5TSURFX1NUUklOR1wiOiB7XG4gICAgICAgIHJlc3VsdCArPSAnXCInO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9TVEFSVFwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHJlc3VsdCArPSBcIn1cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICByZXN1bHQgKz0gXCJdXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiSU5TSURFX0xJVEVSQUxcIjoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQhLCBpbnB1dC5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChcInRydWVcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSBcInRydWVcIi5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKFwiZmFsc2VcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSBcImZhbHNlXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSBcIm51bGxcIi5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsImltcG9ydCB7IENoYXRNb2RlbFJ1blJlc3VsdCB9IGZyb20gXCIuLi8uLi9sb2NhbC9DaGF0TW9kZWxBZGFwdGVyXCI7XG5pbXBvcnQgeyBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSBcIi4uL3BhcnRpYWwtanNvbi9wYXJzZS1wYXJ0aWFsLWpzb25cIjtcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxWMVN0cmVhbVBhcnQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHsgVG9vbFJlc3VsdFN0cmVhbVBhcnQgfSBmcm9tIFwiLi90b29sUmVzdWx0U3RyZWFtXCI7XG5pbXBvcnQgeyBNZXNzYWdlU3RhdHVzIH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBydW5SZXN1bHRTdHJlYW0oKSB7XG4gIGxldCBtZXNzYWdlOiBDaGF0TW9kZWxSdW5SZXN1bHQgPSB7XG4gICAgY29udGVudDogW10sXG4gICAgc3RhdHVzOiB7IHR5cGU6IFwicnVubmluZ1wiIH0sXG4gIH07XG4gIGNvbnN0IGN1cnJlbnRUb29sQ2FsbCA9IHsgdG9vbENhbGxJZDogXCJcIiwgYXJnc1RleHQ6IFwiXCIgfTtcblxuICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbTxUb29sUmVzdWx0U3RyZWFtUGFydCwgQ2hhdE1vZGVsUnVuUmVzdWx0Pih7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICBjb25zdCBjaHVua1R5cGUgPSBjaHVuay50eXBlO1xuICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHQtZGVsdGFcIjoge1xuICAgICAgICAgIG1lc3NhZ2UgPSBhcHBlbmRPclVwZGF0ZVRleHQobWVzc2FnZSwgY2h1bmsudGV4dERlbHRhKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInRvb2wtY2FsbC1kZWx0YVwiOiB7XG4gICAgICAgICAgY29uc3QgeyB0b29sQ2FsbElkLCB0b29sTmFtZSwgYXJnc1RleHREZWx0YSB9ID0gY2h1bms7XG4gICAgICAgICAgaWYgKGN1cnJlbnRUb29sQ2FsbC50b29sQ2FsbElkICE9PSB0b29sQ2FsbElkKSB7XG4gICAgICAgICAgICBjdXJyZW50VG9vbENhbGwudG9vbENhbGxJZCA9IHRvb2xDYWxsSWQ7XG4gICAgICAgICAgICBjdXJyZW50VG9vbENhbGwuYXJnc1RleHQgPSBhcmdzVGV4dERlbHRhO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50VG9vbENhbGwuYXJnc1RleHQgKz0gYXJnc1RleHREZWx0YTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtZXNzYWdlID0gYXBwZW5kT3JVcGRhdGVUb29sQ2FsbChcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICBjdXJyZW50VG9vbENhbGwuYXJnc1RleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6XG4gICAgICAgIGNhc2UgXCJyZXNwb25zZS1tZXRhZGF0YVwiOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJ0b29sLXJlc3VsdFwiOiB7XG4gICAgICAgICAgbWVzc2FnZSA9IGFwcGVuZE9yVXBkYXRlVG9vbFJlc3VsdChcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICBjaHVuay5yZXN1bHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZpbmlzaFwiOiB7XG4gICAgICAgICAgbWVzc2FnZSA9IGFwcGVuZE9yVXBkYXRlRmluaXNoKG1lc3NhZ2UsIGNodW5rKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImVycm9yXCI6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjaHVuay5lcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgICAgICBjaHVuay5lcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGFwcGVuZE9yVXBkYXRlQ2FuY2VsKG1lc3NhZ2UpO1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNodW5rLmVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogbmV2ZXIgPSBjaHVua1R5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgY2h1bmsgdHlwZTogJHt1bmhhbmRsZWRUeXBlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59XG5cbmNvbnN0IGFwcGVuZE9yVXBkYXRlVGV4dCA9IChtZXNzYWdlOiBDaGF0TW9kZWxSdW5SZXN1bHQsIHRleHREZWx0YTogc3RyaW5nKSA9PiB7XG4gIGxldCBjb250ZW50UGFydHMgPSBtZXNzYWdlLmNvbnRlbnQgPz8gW107XG4gIGxldCBjb250ZW50UGFydCA9IG1lc3NhZ2UuY29udGVudD8uYXQoLTEpO1xuICBpZiAoY29udGVudFBhcnQ/LnR5cGUgIT09IFwidGV4dFwiKSB7XG4gICAgY29udGVudFBhcnQgPSB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiB0ZXh0RGVsdGEgfTtcbiAgfSBlbHNlIHtcbiAgICBjb250ZW50UGFydHMgPSBjb250ZW50UGFydHMuc2xpY2UoMCwgLTEpO1xuICAgIGNvbnRlbnRQYXJ0ID0geyB0eXBlOiBcInRleHRcIiwgdGV4dDogY29udGVudFBhcnQudGV4dCArIHRleHREZWx0YSB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4ubWVzc2FnZSxcbiAgICBjb250ZW50OiBjb250ZW50UGFydHMuY29uY2F0KFtjb250ZW50UGFydF0pLFxuICB9O1xufTtcblxuY29uc3QgYXBwZW5kT3JVcGRhdGVUb29sQ2FsbCA9IChcbiAgbWVzc2FnZTogQ2hhdE1vZGVsUnVuUmVzdWx0LFxuICB0b29sQ2FsbElkOiBzdHJpbmcsXG4gIHRvb2xOYW1lOiBzdHJpbmcsXG4gIGFyZ3NUZXh0OiBzdHJpbmcsXG4pID0+IHtcbiAgbGV0IGNvbnRlbnRQYXJ0cyA9IG1lc3NhZ2UuY29udGVudCA/PyBbXTtcbiAgbGV0IGNvbnRlbnRQYXJ0ID0gbWVzc2FnZS5jb250ZW50Py5hdCgtMSk7XG4gIGlmIChcbiAgICBjb250ZW50UGFydD8udHlwZSAhPT0gXCJ0b29sLWNhbGxcIiB8fFxuICAgIGNvbnRlbnRQYXJ0LnRvb2xDYWxsSWQgIT09IHRvb2xDYWxsSWRcbiAgKSB7XG4gICAgY29udGVudFBhcnQgPSB7XG4gICAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgICAgdG9vbENhbGxJZCxcbiAgICAgIHRvb2xOYW1lLFxuICAgICAgYXJnc1RleHQsXG4gICAgICBhcmdzOiBwYXJzZVBhcnRpYWxKc29uKGFyZ3NUZXh0KSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnRlbnRQYXJ0cyA9IGNvbnRlbnRQYXJ0cy5zbGljZSgwLCAtMSk7XG4gICAgY29udGVudFBhcnQgPSB7XG4gICAgICAuLi5jb250ZW50UGFydCxcbiAgICAgIGFyZ3NUZXh0LFxuICAgICAgYXJnczogcGFyc2VQYXJ0aWFsSnNvbihhcmdzVGV4dCksXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLm1lc3NhZ2UsXG4gICAgY29udGVudDogY29udGVudFBhcnRzLmNvbmNhdChbY29udGVudFBhcnRdKSxcbiAgfTtcbn07XG5cbmNvbnN0IGFwcGVuZE9yVXBkYXRlVG9vbFJlc3VsdCA9IChcbiAgbWVzc2FnZTogQ2hhdE1vZGVsUnVuUmVzdWx0LFxuICB0b29sQ2FsbElkOiBzdHJpbmcsXG4gIHRvb2xOYW1lOiBzdHJpbmcsXG4gIHJlc3VsdDogYW55LFxuKSA9PiB7XG4gIGxldCBmb3VuZCA9IGZhbHNlO1xuICBjb25zdCBuZXdDb250ZW50UGFydHMgPSBtZXNzYWdlLmNvbnRlbnQ/Lm1hcCgocGFydCkgPT4ge1xuICAgIGlmIChwYXJ0LnR5cGUgIT09IFwidG9vbC1jYWxsXCIgfHwgcGFydC50b29sQ2FsbElkICE9PSB0b29sQ2FsbElkKVxuICAgICAgcmV0dXJuIHBhcnQ7XG4gICAgZm91bmQgPSB0cnVlO1xuXG4gICAgaWYgKHBhcnQudG9vbE5hbWUgIT09IHRvb2xOYW1lKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVG9vbCBjYWxsICR7dG9vbENhbGxJZH0gZm91bmQgd2l0aCB0b29sIG5hbWUgJHtwYXJ0LnRvb2xOYW1lfSwgYnV0IGV4cGVjdGVkICR7dG9vbE5hbWV9YCxcbiAgICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ucGFydCxcbiAgICAgIHJlc3VsdCxcbiAgICB9O1xuICB9KTtcbiAgaWYgKCFmb3VuZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgdG9vbCByZXN1bHQgZm9yIHVua25vd24gdG9vbCBjYWxsIFwiJHt0b29sTmFtZX1cIiAvIFwiJHt0b29sQ2FsbElkfVwiLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLmAsXG4gICAgKTtcblxuICByZXR1cm4ge1xuICAgIC4uLm1lc3NhZ2UsXG4gICAgY29udGVudDogbmV3Q29udGVudFBhcnRzISxcbiAgfTtcbn07XG5cbmNvbnN0IGFwcGVuZE9yVXBkYXRlRmluaXNoID0gKFxuICBtZXNzYWdlOiBDaGF0TW9kZWxSdW5SZXN1bHQsXG4gIGNodW5rOiBMYW5ndWFnZU1vZGVsVjFTdHJlYW1QYXJ0ICYgeyB0eXBlOiBcImZpbmlzaFwiIH0sXG4pOiBDaGF0TW9kZWxSdW5SZXN1bHQgPT4ge1xuICBjb25zdCB7IHR5cGUsIC4uLnJlc3QgfSA9IGNodW5rO1xuICByZXR1cm4ge1xuICAgIC4uLm1lc3NhZ2UsXG4gICAgc3RhdHVzOiBnZXRTdGF0dXMoY2h1bmspLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAuLi5tZXNzYWdlLm1ldGFkYXRhLFxuICAgICAgcm91bmR0cmlwczogW1xuICAgICAgICAuLi4obWVzc2FnZS5tZXRhZGF0YT8ucm91bmR0cmlwcyA/PyBbXSksXG4gICAgICAgIHtcbiAgICAgICAgICBsb2dwcm9iczogcmVzdC5sb2dwcm9icyxcbiAgICAgICAgICB1c2FnZTogcmVzdC51c2FnZSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfTtcbn07XG5cbmNvbnN0IGdldFN0YXR1cyA9IChcbiAgY2h1bms6IExhbmd1YWdlTW9kZWxWMVN0cmVhbVBhcnQgJiB7IHR5cGU6IFwiZmluaXNoXCIgfSxcbik6IE1lc3NhZ2VTdGF0dXMgPT4ge1xuICBpZiAoY2h1bmsuZmluaXNoUmVhc29uID09PSBcInRvb2wtY2FsbHNcIikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInJlcXVpcmVzLWFjdGlvblwiLFxuICAgICAgcmVhc29uOiBcInRvb2wtY2FsbHNcIixcbiAgICB9O1xuICB9IGVsc2UgaWYgKFxuICAgIGNodW5rLmZpbmlzaFJlYXNvbiA9PT0gXCJzdG9wXCIgfHxcbiAgICBjaHVuay5maW5pc2hSZWFzb24gPT09IFwidW5rbm93blwiXG4gICkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImNvbXBsZXRlXCIsXG4gICAgICByZWFzb246IGNodW5rLmZpbmlzaFJlYXNvbixcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImluY29tcGxldGVcIixcbiAgICAgIHJlYXNvbjogY2h1bmsuZmluaXNoUmVhc29uLFxuICAgIH07XG4gIH1cbn07XG5cbmNvbnN0IGFwcGVuZE9yVXBkYXRlQ2FuY2VsID0gKFxuICBtZXNzYWdlOiBDaGF0TW9kZWxSdW5SZXN1bHQsXG4pOiBDaGF0TW9kZWxSdW5SZXN1bHQgPT4ge1xuICByZXR1cm4ge1xuICAgIC4uLm1lc3NhZ2UsXG4gICAgc3RhdHVzOiB7XG4gICAgICB0eXBlOiBcImluY29tcGxldGVcIixcbiAgICAgIHJlYXNvbjogXCJjYW5jZWxsZWRcIixcbiAgICB9LFxuICB9O1xufTtcbiIsImV4cG9ydCBjbGFzcyBQaXBlYWJsZVRyYW5zZm9ybVN0cmVhbTxJLCBPPiBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbTxJLCBPPiB7XG4gIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogKHJlYWRhYmxlOiBSZWFkYWJsZVN0cmVhbTxJPikgPT4gUmVhZGFibGVTdHJlYW08Tz4pIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHJlYWRhYmxlID0gdHJhbnNmb3JtKHN1cGVyLnJlYWRhYmxlIGFzIGFueSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVhZGFibGVcIiwge1xuICAgICAgdmFsdWU6IHJlYWRhYmxlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQaXBlYWJsZVRyYW5zZm9ybVN0cmVhbSB9IGZyb20gXCIuL1BpcGVhYmxlVHJhbnNmb3JtU3RyZWFtXCI7XG5pbXBvcnQgeyBTdHJlYW1QYXJ0IH0gZnJvbSBcIi4vU3RyZWFtUGFydFwiO1xuXG5mdW5jdGlvbiBlbmNvZGVTdHJlYW1QYXJ0PFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oe1xuICB0eXBlLFxuICB2YWx1ZSxcbn06IFN0cmVhbVBhcnQ8VD4pOiBzdHJpbmcge1xuICByZXR1cm4gYCR7dHlwZSBhcyBzdHJpbmd9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfVxcbmA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJlYW1QYXJ0RW5jb2RlclN0cmVhbTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KCkge1xuICBjb25zdCBlbmNvZGVTdHJlYW0gPSBuZXcgVHJhbnNmb3JtU3RyZWFtPFN0cmVhbVBhcnQ8VD4sIHN0cmluZz4oe1xuICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZVN0cmVhbVBhcnQ8VD4oY2h1bmspKTtcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gbmV3IFBpcGVhYmxlVHJhbnNmb3JtU3RyZWFtKChyZWFkYWJsZSkgPT4ge1xuICAgIHJldHVybiByZWFkYWJsZVxuICAgICAgLnBpcGVUaHJvdWdoKGVuY29kZVN0cmVhbSlcbiAgICAgIC5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYxLFxuICBMYW5ndWFnZU1vZGVsVjFUb29sQ2hvaWNlLFxuICBMYW5ndWFnZU1vZGVsVjFGdW5jdGlvblRvb2wsXG4gIExhbmd1YWdlTW9kZWxWMVByb21wdCxcbiAgTGFuZ3VhZ2VNb2RlbFYxQ2FsbE9wdGlvbnMsXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQge1xuICBDb3JlTWVzc2FnZSxcbiAgVGhyZWFkTWVzc2FnZSxcbiAgVGhyZWFkUm91bmR0cmlwLFxufSBmcm9tIFwiLi4vLi4vdHlwZXMvQXNzaXN0YW50VHlwZXNcIjtcbmltcG9ydCB7IGFzc2lzdGFudEVuY29kZXJTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1zL2Fzc2lzdGFudEVuY29kZXJTdHJlYW1cIjtcbmltcG9ydCB7IEVkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnNTY2hlbWEgfSBmcm9tIFwiLi9FZGdlUnVudGltZVJlcXVlc3RPcHRpb25zXCI7XG5pbXBvcnQgeyB0b0xhbmd1YWdlTW9kZWxNZXNzYWdlcyB9IGZyb20gXCIuL2NvbnZlcnRlcnMvdG9MYW5ndWFnZU1vZGVsTWVzc2FnZXNcIjtcbmltcG9ydCB7IFRvb2wgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IHRvTGFuZ3VhZ2VNb2RlbFRvb2xzIH0gZnJvbSBcIi4vY29udmVydGVycy90b0xhbmd1YWdlTW9kZWxUb29sc1wiO1xuaW1wb3J0IHtcbiAgdG9vbFJlc3VsdFN0cmVhbSxcbiAgVG9vbFJlc3VsdFN0cmVhbVBhcnQsXG59IGZyb20gXCIuL3N0cmVhbXMvdG9vbFJlc3VsdFN0cmVhbVwiO1xuaW1wb3J0IHsgcnVuUmVzdWx0U3RyZWFtIH0gZnJvbSBcIi4vc3RyZWFtcy9ydW5SZXN1bHRTdHJlYW1cIjtcbmltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxDb25maWcsXG4gIExhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5ncyxcbiAgTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzU2NoZW1hLFxufSBmcm9tIFwiLi4vLi4vdHlwZXMvTW9kZWxDb25maWdUeXBlc1wiO1xuaW1wb3J0IHsgQ2hhdE1vZGVsUnVuUmVzdWx0IH0gZnJvbSBcIi4uL2xvY2FsXCI7XG5pbXBvcnQgeyB0b0NvcmVNZXNzYWdlIH0gZnJvbSBcIi4vY29udmVydGVycy90b0NvcmVNZXNzYWdlc1wiO1xuaW1wb3J0IHsgc3RyZWFtUGFydEVuY29kZXJTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1zL3V0aWxzL3N0cmVhbVBhcnRFbmNvZGVyU3RyZWFtXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG50eXBlIEZpbmlzaFJlc3VsdCA9IHtcbiAgbWVzc2FnZXM6IENvcmVNZXNzYWdlW107XG4gIG1ldGFkYXRhOiB7XG4gICAgcm91bmR0cmlwczogVGhyZWFkUm91bmR0cmlwW107XG4gIH07XG59O1xuXG50eXBlIExhbmd1YWdlTW9kZWxDcmVhdG9yID0gKFxuICBjb25maWc6IExhbmd1YWdlTW9kZWxDb25maWcsXG4pID0+IFByb21pc2U8TGFuZ3VhZ2VNb2RlbFYxPiB8IExhbmd1YWdlTW9kZWxWMTtcblxuZXhwb3J0IHR5cGUgQ3JlYXRlRWRnZVJ1bnRpbWVBUElPcHRpb25zID0gTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzICYge1xuICBtb2RlbDogTGFuZ3VhZ2VNb2RlbFYxIHwgTGFuZ3VhZ2VNb2RlbENyZWF0b3I7XG4gIHN5c3RlbT86IHN0cmluZztcbiAgdG9vbHM/OiBSZWNvcmQ8c3RyaW5nLCBUb29sPGFueSwgYW55Pj47XG4gIHRvb2xDaG9pY2U/OiBMYW5ndWFnZU1vZGVsVjFUb29sQ2hvaWNlO1xuICBvbkZpbmlzaD86IChyZXN1bHQ6IEZpbmlzaFJlc3VsdCkgPT4gdm9pZDtcbn07XG5cbmNvbnN0IHZvaWRTdHJlYW0gPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgV3JpdGFibGVTdHJlYW0oe1xuICAgIGFib3J0KHJlYXNvbikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlNlcnZlciBzdHJlYW0gcHJvY2Vzc2luZyBhYm9ydGVkOlwiLCByZWFzb24pO1xuICAgIH0sXG4gIH0pO1xufTtcblxudHlwZSBHZXRFZGdlUnVudGltZVN0cmVhbU9wdGlvbnMgPSB7XG4gIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbDtcbiAgcmVxdWVzdERhdGE6IHouaW5mZXI8dHlwZW9mIEVkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnNTY2hlbWE+O1xuICBvcHRpb25zOiBDcmVhdGVFZGdlUnVudGltZUFQSU9wdGlvbnM7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RWRnZVJ1bnRpbWVTdHJlYW0gPSBhc3luYyAoe1xuICBhYm9ydFNpZ25hbCxcbiAgcmVxdWVzdERhdGE6IHVuc2FmZVJlcXVlc3QsXG4gIG9wdGlvbnM6IHtcbiAgICBtb2RlbDogbW9kZWxPckNyZWF0b3IsXG4gICAgc3lzdGVtOiBzZXJ2ZXJTeXN0ZW0sXG4gICAgdG9vbHM6IHNlcnZlclRvb2xzID0ge30sXG4gICAgdG9vbENob2ljZSxcbiAgICBvbkZpbmlzaCxcbiAgICAuLi51bnNhZmVTZXR0aW5nc1xuICB9LFxufTogR2V0RWRnZVJ1bnRpbWVTdHJlYW1PcHRpb25zKSA9PiB7XG4gIGNvbnN0IHNldHRpbmdzID0gTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzU2NoZW1hLnBhcnNlKHVuc2FmZVNldHRpbmdzKTtcbiAgY29uc3QgbG1TZXJ2ZXJUb29scyA9IHRvTGFuZ3VhZ2VNb2RlbFRvb2xzKHNlcnZlclRvb2xzKTtcbiAgY29uc3QgaGFzU2VydmVyVG9vbHMgPSBPYmplY3QudmFsdWVzKHNlcnZlclRvb2xzKS5zb21lKCh2KSA9PiAhIXYuZXhlY3V0ZSk7XG5cbiAgY29uc3Qge1xuICAgIHN5c3RlbTogY2xpZW50U3lzdGVtLFxuICAgIHRvb2xzOiBjbGllbnRUb29scyA9IFtdLFxuICAgIG1lc3NhZ2VzLFxuICAgIGFwaUtleSxcbiAgICBiYXNlVXJsLFxuICAgIG1vZGVsTmFtZSxcbiAgICAuLi5jYWxsU2V0dGluZ3NcbiAgfSA9IEVkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnNTY2hlbWEucGFyc2UodW5zYWZlUmVxdWVzdCk7XG5cbiAgY29uc3Qgc3lzdGVtTWVzc2FnZXMgPSBbXTtcbiAgaWYgKHNlcnZlclN5c3RlbSkgc3lzdGVtTWVzc2FnZXMucHVzaChzZXJ2ZXJTeXN0ZW0pO1xuICBpZiAoY2xpZW50U3lzdGVtKSBzeXN0ZW1NZXNzYWdlcy5wdXNoKGNsaWVudFN5c3RlbSk7XG4gIGNvbnN0IHN5c3RlbSA9IHN5c3RlbU1lc3NhZ2VzLmpvaW4oXCJcXG5cXG5cIik7XG5cbiAgZm9yIChjb25zdCBjbGllbnRUb29sIG9mIGNsaWVudFRvb2xzKSB7XG4gICAgaWYgKHNlcnZlclRvb2xzPy5bY2xpZW50VG9vbC5uYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVG9vbCAke2NsaWVudFRvb2wubmFtZX0gd2FzIGRlZmluZWQgaW4gYm90aCB0aGUgY2xpZW50IGFuZCBzZXJ2ZXIgdG9vbHMuIFRoaXMgaXMgbm90IGFsbG93ZWQuYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbGV0IG1vZGVsO1xuXG4gIG1vZGVsID1cbiAgICB0eXBlb2YgbW9kZWxPckNyZWF0b3IgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyBhd2FpdCBtb2RlbE9yQ3JlYXRvcih7IGFwaUtleSwgYmFzZVVybCwgbW9kZWxOYW1lIH0pXG4gICAgICA6IG1vZGVsT3JDcmVhdG9yO1xuXG4gIGxldCBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFRvb2xSZXN1bHRTdHJlYW1QYXJ0PjtcbiAgY29uc3Qgc3RyZWFtUmVzdWx0ID0gYXdhaXQgc3RyZWFtTWVzc2FnZSh7XG4gICAgLi4uKHNldHRpbmdzIGFzIFBhcnRpYWw8U3RyZWFtTWVzc2FnZU9wdGlvbnM+KSxcbiAgICAuLi5jYWxsU2V0dGluZ3MsXG5cbiAgICBtb2RlbCxcbiAgICBhYm9ydFNpZ25hbCxcblxuICAgIC4uLighIXN5c3RlbSA/IHsgc3lzdGVtIH0gOiB1bmRlZmluZWQpLFxuICAgIG1lc3NhZ2VzLFxuICAgIHRvb2xzOiBsbVNlcnZlclRvb2xzLmNvbmNhdChjbGllbnRUb29scyBhcyBMYW5ndWFnZU1vZGVsVjFGdW5jdGlvblRvb2xbXSksXG4gICAgLi4uKHRvb2xDaG9pY2UgPyB7IHRvb2xDaG9pY2UgfSA6IHVuZGVmaW5lZCksXG4gIH0pO1xuICBzdHJlYW0gPSBzdHJlYW1SZXN1bHQuc3RyZWFtO1xuXG4gIC8vIGFkZCB0b29sIHJlc3VsdHMgaWYgd2UgaGF2ZSBzZXJ2ZXIgdG9vbHNcbiAgY29uc3QgY2FuRXhlY3V0ZVRvb2xzID0gaGFzU2VydmVyVG9vbHMgJiYgdG9vbENob2ljZT8udHlwZSAhPT0gXCJub25lXCI7XG4gIGlmIChjYW5FeGVjdXRlVG9vbHMpIHtcbiAgICBzdHJlYW0gPSBzdHJlYW0ucGlwZVRocm91Z2godG9vbFJlc3VsdFN0cmVhbShzZXJ2ZXJUb29scywgYWJvcnRTaWduYWwpKTtcbiAgfVxuXG4gIGlmIChjYW5FeGVjdXRlVG9vbHMgfHwgb25GaW5pc2gpIHtcbiAgICAvLyB0ZWUgdGhlIHN0cmVhbSB0byBwcm9jZXNzIHNlcnZlciB0b29scyBhbmQgb25GaW5pc2ggYXNhcFxuICAgIGNvbnN0IHRlZXMgPSBzdHJlYW0udGVlKCk7XG4gICAgc3RyZWFtID0gdGVlc1swXTtcbiAgICBsZXQgc2VydmVyU3RyZWFtID0gdGVlc1sxXTtcblxuICAgIGlmIChvbkZpbmlzaCkge1xuICAgICAgbGV0IGxhc3RDaHVuazogQ2hhdE1vZGVsUnVuUmVzdWx0O1xuICAgICAgc2VydmVyU3RyZWFtID0gc2VydmVyU3RyZWFtLnBpcGVUaHJvdWdoKHJ1blJlc3VsdFN0cmVhbSgpKS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgdHJhbnNmb3JtKGNodW5rKSB7XG4gICAgICAgICAgICBsYXN0Q2h1bmsgPSBjaHVuaztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZsdXNoKCkge1xuICAgICAgICAgICAgaWYgKCFsYXN0Q2h1bms/LnN0YXR1cyB8fCBsYXN0Q2h1bmsuc3RhdHVzLnR5cGUgPT09IFwicnVubmluZ1wiKVxuICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdGluZ01lc3NhZ2VzID0gW1xuICAgICAgICAgICAgICAuLi5tZXNzYWdlcyxcbiAgICAgICAgICAgICAgdG9Db3JlTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgICAgICBjb250ZW50OiBsYXN0Q2h1bmsuY29udGVudCxcbiAgICAgICAgICAgICAgfSBhcyBUaHJlYWRNZXNzYWdlKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBvbkZpbmlzaCh7XG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiByZXN1bHRpbmdNZXNzYWdlcyxcbiAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICByb3VuZHRyaXBzOiBsYXN0Q2h1bmsubWV0YWRhdGE/LnJvdW5kdHJpcHMhLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGRyYWluIHRoZSBzZXJ2ZXIgc3RyZWFtXG4gICAgc2VydmVyU3RyZWFtLnBpcGVUbyh2b2lkU3RyZWFtKCkpLmNhdGNoKChlKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiU2VydmVyIHN0cmVhbSBwcm9jZXNzaW5nIGVycm9yOlwiLCBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzdHJlYW07XG59O1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgZ2V0RWRnZVJ1bnRpbWVSZXNwb25zZSB7XG4gIGV4cG9ydCB0eXBlIHsgR2V0RWRnZVJ1bnRpbWVTdHJlYW1PcHRpb25zIGFzIE9wdGlvbnMgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldEVkZ2VSdW50aW1lUmVzcG9uc2UgPSBhc3luYyAoXG4gIG9wdGlvbnM6IGdldEVkZ2VSdW50aW1lUmVzcG9uc2UuT3B0aW9ucyxcbikgPT4ge1xuICBjb25zdCBzdHJlYW0gPSBhd2FpdCBnZXRFZGdlUnVudGltZVN0cmVhbShvcHRpb25zKTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICBzdHJlYW1cbiAgICAgIC5waXBlVGhyb3VnaChhc3Npc3RhbnRFbmNvZGVyU3RyZWFtKCkpXG4gICAgICAucGlwZVRocm91Z2goc3RyZWFtUGFydEVuY29kZXJTdHJlYW0oKSksXG4gICAge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFZGdlUnVudGltZUFQSSA9IChvcHRpb25zOiBDcmVhdGVFZGdlUnVudGltZUFQSU9wdGlvbnMpID0+ICh7XG4gIFBPU1Q6IGFzeW5jIChyZXF1ZXN0OiBSZXF1ZXN0KSA9PlxuICAgIGdldEVkZ2VSdW50aW1lUmVzcG9uc2Uoe1xuICAgICAgYWJvcnRTaWduYWw6IHJlcXVlc3Quc2lnbmFsLFxuICAgICAgcmVxdWVzdERhdGE6IGF3YWl0IHJlcXVlc3QuanNvbigpLFxuICAgICAgb3B0aW9ucyxcbiAgICB9KSxcbn0pO1xuXG50eXBlIFN0cmVhbU1lc3NhZ2VPcHRpb25zID0gTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzICYge1xuICBtb2RlbDogTGFuZ3VhZ2VNb2RlbFYxO1xuICBzeXN0ZW0/OiBzdHJpbmc7XG4gIG1lc3NhZ2VzOiBDb3JlTWVzc2FnZVtdO1xuICB0b29scz86IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbFtdO1xuICB0b29sQ2hvaWNlPzogTGFuZ3VhZ2VNb2RlbFYxVG9vbENob2ljZTtcbiAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gc3RyZWFtTWVzc2FnZSh7XG4gIG1vZGVsLFxuICBzeXN0ZW0sXG4gIG1lc3NhZ2VzLFxuICB0b29scyxcbiAgdG9vbENob2ljZSxcbiAgLi4ub3B0aW9uc1xufTogU3RyZWFtTWVzc2FnZU9wdGlvbnMpIHtcbiAgcmV0dXJuIG1vZGVsLmRvU3RyZWFtKHtcbiAgICBpbnB1dEZvcm1hdDogXCJtZXNzYWdlc1wiLFxuICAgIG1vZGU6IHtcbiAgICAgIHR5cGU6IFwicmVndWxhclwiLFxuICAgICAgLi4uKHRvb2xzID8geyB0b29scyB9IDogdW5kZWZpbmVkKSxcbiAgICAgIC4uLih0b29sQ2hvaWNlID8geyB0b29sQ2hvaWNlIH0gOiB1bmRlZmluZWQpLFxuICAgIH0sXG4gICAgcHJvbXB0OiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHN5c3RlbSwgbWVzc2FnZXMpLFxuICAgIC4uLihvcHRpb25zIGFzIFBhcnRpYWw8TGFuZ3VhZ2VNb2RlbFYxQ2FsbE9wdGlvbnM+KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KFxuICBzeXN0ZW06IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgbWVzc2FnZXM6IENvcmVNZXNzYWdlW10sXG4pOiBMYW5ndWFnZU1vZGVsVjFQcm9tcHQge1xuICBjb25zdCBsYW5ndWFnZU1vZGVsTWVzc2FnZXM6IExhbmd1YWdlTW9kZWxWMVByb21wdCA9IFtdO1xuXG4gIGlmIChzeXN0ZW0gIT0gbnVsbCkge1xuICAgIGxhbmd1YWdlTW9kZWxNZXNzYWdlcy5wdXNoKHsgcm9sZTogXCJzeXN0ZW1cIiwgY29udGVudDogc3lzdGVtIH0pO1xuICB9XG4gIGxhbmd1YWdlTW9kZWxNZXNzYWdlcy5wdXNoKC4uLnRvTGFuZ3VhZ2VNb2RlbE1lc3NhZ2VzKG1lc3NhZ2VzKSk7XG5cbiAgcmV0dXJuIGxhbmd1YWdlTW9kZWxNZXNzYWdlcztcbn1cbiJdLCJuYW1lcyI6WyJhc3Npc3RhbnRNZXNzYWdlU3BsaXR0ZXIiLCJzdGFzaCIsImFzc2lzdGFudE1lc3NhZ2UiLCJyb2xlIiwiY29udGVudCIsInRvb2xNZXNzYWdlIiwiYWRkVGV4dENvbnRlbnRQYXJ0IiwicGFydCIsImxlbmd0aCIsInB1c2giLCJhZGRUb29sQ2FsbFBhcnQiLCJ0eXBlIiwidG9vbENhbGxJZCIsInRvb2xOYW1lIiwiYXJncyIsInJlc3VsdCIsImlzRXJyb3IiLCJnZXRNZXNzYWdlcyIsInRvTGFuZ3VhZ2VNb2RlbE1lc3NhZ2VzIiwibWVzc2FnZSIsImZsYXRNYXAiLCJ0ZXh0IiwibXNnIiwibWFwIiwiaW1hZ2UiLCJVUkwiLCJ1bmhhbmRsZWRUeXBlIiwiRXJyb3IiLCJzcGxpdHRlciIsInVuaGFuZGxlZFJvbGUiLCJ0b0NvcmVNZXNzYWdlcyIsInRvQ29yZU1lc3NhZ2UiLCJhcmdzVGV4dCIsInJlc3QiLCJhdHRhY2htZW50cyIsImEiLCJmbGF0IiwidW5zdXBwb3J0ZWRSb2xlIiwieiIsInpvZFRvSnNvblNjaGVtYSIsInRvTGFuZ3VhZ2VNb2RlbFRvb2xzIiwidG9vbHMiLCJPYmplY3QiLCJlbnRyaWVzIiwibmFtZSIsInRvb2wiLCJkZXNjcmlwdGlvbiIsInBhcmFtZXRlcnMiLCJab2RUeXBlIiwiYXNzaXN0YW50RW5jb2RlclN0cmVhbSIsInRvb2xDYWxscyIsIlNldCIsIlRyYW5zZm9ybVN0cmVhbSIsInRyYW5zZm9ybSIsImNodW5rIiwiY29udHJvbGxlciIsImNodW5rVHlwZSIsImVucXVldWUiLCJ2YWx1ZSIsInRleHREZWx0YSIsImhhcyIsImFkZCIsImlkIiwiYXJnc1RleHREZWx0YSIsImVycm9yIiwiTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzU2NoZW1hIiwib2JqZWN0IiwibWF4VG9rZW5zIiwibnVtYmVyIiwiaW50IiwicG9zaXRpdmUiLCJvcHRpb25hbCIsInRlbXBlcmF0dXJlIiwidG9wUCIsInByZXNlbmNlUGVuYWx0eSIsImZyZXF1ZW5jeVBlbmFsdHkiLCJzZWVkIiwiaGVhZGVycyIsInJlY29yZCIsInN0cmluZyIsIkxhbmd1YWdlTW9kZWxDb25maWdTY2hlbWEiLCJhcGlLZXkiLCJiYXNlVXJsIiwibW9kZWxOYW1lIiwibWVyZ2VNb2RlbENvbmZpZ3MiLCJjb25maWdTZXQiLCJjb25maWdzIiwiQXJyYXkiLCJmcm9tIiwiYyIsImdldE1vZGVsQ29uZmlnIiwic29ydCIsImIiLCJwcmlvcml0eSIsInJlZHVjZSIsImFjYyIsImNvbmZpZyIsInN5c3RlbSIsImNhbGxTZXR0aW5ncyIsIkxhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbFNjaGVtYSIsImxpdGVyYWwiLCJjdXN0b20iLCJ2YWwiLCJUZXh0Q29udGVudFBhcnRTY2hlbWEiLCJJbWFnZUNvbnRlbnRQYXJ0U2NoZW1hIiwiQ29yZVRvb2xDYWxsQ29udGVudFBhcnRTY2hlbWEiLCJ1bmtub3duIiwiYm9vbGVhbiIsIkNvcmVVc2VyTWVzc2FnZVNjaGVtYSIsImFycmF5IiwiZGlzY3JpbWluYXRlZFVuaW9uIiwibWluIiwiQ29yZUFzc2lzdGFudE1lc3NhZ2VTY2hlbWEiLCJDb3JlU3lzdGVtTWVzc2FnZVNjaGVtYSIsInR1cGxlIiwiQ29yZU1lc3NhZ2VTY2hlbWEiLCJFZGdlUnVudGltZVJlcXVlc3RPcHRpb25zU2NoZW1hIiwibWVzc2FnZXMiLCJtZXJnZSIsInNqc29uIiwidG9vbFJlc3VsdFN0cmVhbSIsImFib3J0U2lnbmFsIiwidG9vbENhbGxFeGVjdXRpb25zIiwiTWFwIiwidG9vbENhbGxUeXBlIiwiZXhlY3V0ZSIsInBhcnNlIiwic2FmZVBhcnNlIiwic3VjY2VzcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJpc3N1ZXMiLCJzZXQiLCJkZWxldGUiLCJmbHVzaCIsIlByb21pc2UiLCJhbGwiLCJ2YWx1ZXMiLCJmaXhKc29uIiwiaW5wdXQiLCJzdGFjayIsImxhc3RWYWxpZEluZGV4IiwibGl0ZXJhbFN0YXJ0IiwicHJvY2Vzc1ZhbHVlU3RhcnQiLCJjaGFyIiwiaSIsInN3YXBTdGF0ZSIsInBvcCIsInByb2Nlc3NBZnRlck9iamVjdFZhbHVlIiwicHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZSIsImN1cnJlbnRTdGF0ZSIsInBhcnRpYWxMaXRlcmFsIiwic3Vic3RyaW5nIiwic3RhcnRzV2l0aCIsInNsaWNlIiwic3RhdGUiLCJwYXJzZVBhcnRpYWxKc29uIiwianNvbiIsInJ1blJlc3VsdFN0cmVhbSIsInN0YXR1cyIsImN1cnJlbnRUb29sQ2FsbCIsImFwcGVuZE9yVXBkYXRlVGV4dCIsImFwcGVuZE9yVXBkYXRlVG9vbENhbGwiLCJhcHBlbmRPclVwZGF0ZVRvb2xSZXN1bHQiLCJhcHBlbmRPclVwZGF0ZUZpbmlzaCIsImFwcGVuZE9yVXBkYXRlQ2FuY2VsIiwiY29udGVudFBhcnRzIiwiY29udGVudFBhcnQiLCJhdCIsImNvbmNhdCIsImZvdW5kIiwibmV3Q29udGVudFBhcnRzIiwiZ2V0U3RhdHVzIiwibWV0YWRhdGEiLCJyb3VuZHRyaXBzIiwibG9ncHJvYnMiLCJ1c2FnZSIsImZpbmlzaFJlYXNvbiIsInJlYXNvbiIsIlBpcGVhYmxlVHJhbnNmb3JtU3RyZWFtIiwiY29uc3RydWN0b3IiLCJyZWFkYWJsZSIsImRlZmluZVByb3BlcnR5Iiwid3JpdGFibGUiLCJlbmNvZGVTdHJlYW1QYXJ0Iiwic3RyZWFtUGFydEVuY29kZXJTdHJlYW0iLCJlbmNvZGVTdHJlYW0iLCJwaXBlVGhyb3VnaCIsIlRleHRFbmNvZGVyU3RyZWFtIiwidm9pZFN0cmVhbSIsIldyaXRhYmxlU3RyZWFtIiwiYWJvcnQiLCJjb25zb2xlIiwiZ2V0RWRnZVJ1bnRpbWVTdHJlYW0iLCJyZXF1ZXN0RGF0YSIsInVuc2FmZVJlcXVlc3QiLCJvcHRpb25zIiwibW9kZWwiLCJtb2RlbE9yQ3JlYXRvciIsInNlcnZlclN5c3RlbSIsInNlcnZlclRvb2xzIiwidG9vbENob2ljZSIsIm9uRmluaXNoIiwidW5zYWZlU2V0dGluZ3MiLCJzZXR0aW5ncyIsImxtU2VydmVyVG9vbHMiLCJoYXNTZXJ2ZXJUb29scyIsInNvbWUiLCJ2IiwiY2xpZW50U3lzdGVtIiwiY2xpZW50VG9vbHMiLCJzeXN0ZW1NZXNzYWdlcyIsImpvaW4iLCJjbGllbnRUb29sIiwic3RyZWFtIiwic3RyZWFtUmVzdWx0Iiwic3RyZWFtTWVzc2FnZSIsImNhbkV4ZWN1dGVUb29scyIsInRlZXMiLCJ0ZWUiLCJzZXJ2ZXJTdHJlYW0iLCJsYXN0Q2h1bmsiLCJyZXN1bHRpbmdNZXNzYWdlcyIsInBpcGVUbyIsImNhdGNoIiwiZSIsImdldEVkZ2VSdW50aW1lUmVzcG9uc2UiLCJSZXNwb25zZSIsImNyZWF0ZUVkZ2VSdW50aW1lQVBJIiwiUE9TVCIsInJlcXVlc3QiLCJzaWduYWwiLCJkb1N0cmVhbSIsImlucHV0Rm9ybWF0IiwibW9kZSIsInByb21wdCIsImNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQiLCJsYW5ndWFnZU1vZGVsTWVzc2FnZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/chunk-ZQNZLTZL.mjs\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/index.mjs":
/*!******************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/index.mjs ***!
  \******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionBarPrimitive: () => (/* binding */ actionBar_exports),\n/* harmony export */   AssistantActionBar: () => (/* binding */ assistant_action_bar_default),\n/* harmony export */   AssistantMessage: () => (/* binding */ assistant_message_default),\n/* harmony export */   AssistantModal: () => (/* binding */ assistant_modal_default),\n/* harmony export */   AssistantModalPrimitive: () => (/* binding */ assistantModal_exports),\n/* harmony export */   AssistantRuntimeProvider: () => (/* binding */ AssistantRuntimeProvider),\n/* harmony export */   BranchPicker: () => (/* binding */ branch_picker_default),\n/* harmony export */   BranchPickerPrimitive: () => (/* binding */ branchPicker_exports),\n/* harmony export */   Composer: () => (/* binding */ composer_default),\n/* harmony export */   ComposerAttachment: () => (/* binding */ composer_attachment_default),\n/* harmony export */   ComposerPrimitive: () => (/* binding */ composer_exports),\n/* harmony export */   CompositeAttachmentAdapter: () => (/* binding */ CompositeAttachmentAdapter),\n/* harmony export */   ContentPart: () => (/* binding */ content_part_default),\n/* harmony export */   ContentPartPrimitive: () => (/* binding */ contentPart_exports),\n/* harmony export */   EdgeChatAdapter: () => (/* binding */ EdgeChatAdapter),\n/* harmony export */   EditComposer: () => (/* binding */ edit_composer_default),\n/* harmony export */   ExternalStoreRuntime: () => (/* binding */ ExternalStoreRuntime),\n/* harmony export */   INTERNAL: () => (/* binding */ internal_exports),\n/* harmony export */   MessagePrimitive: () => (/* binding */ message_exports),\n/* harmony export */   SimpleImageAttachmentAdapter: () => (/* binding */ SimpleImageAttachmentAdapter),\n/* harmony export */   SimpleTextAttachmentAdapter: () => (/* binding */ SimpleTextAttachmentAdapter),\n/* harmony export */   Thread: () => (/* binding */ thread_default),\n/* harmony export */   ThreadConfigProvider: () => (/* binding */ ThreadConfigProvider),\n/* harmony export */   ThreadPrimitive: () => (/* binding */ thread_exports),\n/* harmony export */   ThreadWelcome: () => (/* binding */ thread_welcome_default),\n/* harmony export */   UserActionBar: () => (/* binding */ user_action_bar_default),\n/* harmony export */   UserMessage: () => (/* binding */ user_message_default),\n/* harmony export */   UserMessageAttachment: () => (/* binding */ user_message_attachment_default),\n/* harmony export */   WebSpeechSynthesisAdapter: () => (/* binding */ WebSpeechSynthesisAdapter),\n/* harmony export */   fromCoreMessage: () => (/* binding */ fromCoreMessage),\n/* harmony export */   fromCoreMessages: () => (/* binding */ fromCoreMessages),\n/* harmony export */   fromLanguageModelMessages: () => (/* binding */ fromLanguageModelMessages),\n/* harmony export */   fromLanguageModelTools: () => (/* binding */ fromLanguageModelTools),\n/* harmony export */   getExternalStoreMessage: () => (/* binding */ getExternalStoreMessage),\n/* harmony export */   makeAssistantTool: () => (/* binding */ makeAssistantTool),\n/* harmony export */   makeAssistantToolUI: () => (/* binding */ makeAssistantToolUI),\n/* harmony export */   streamUtils: () => (/* binding */ streamUtils),\n/* harmony export */   subscribeToMainThread: () => (/* binding */ subscribeToMainThread),\n/* harmony export */   toCoreMessage: () => (/* reexport safe */ _chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toCoreMessage),\n/* harmony export */   toCoreMessages: () => (/* reexport safe */ _chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toCoreMessages),\n/* harmony export */   toLanguageModelMessages: () => (/* reexport safe */ _chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toLanguageModelMessages),\n/* harmony export */   toLanguageModelTools: () => (/* reexport safe */ _chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toLanguageModelTools),\n/* harmony export */   useActionBarCopy: () => (/* binding */ useActionBarCopy),\n/* harmony export */   useActionBarEdit: () => (/* binding */ useActionBarEdit),\n/* harmony export */   useActionBarReload: () => (/* binding */ useActionBarReload),\n/* harmony export */   useActionBarSpeak: () => (/* binding */ useActionBarSpeak),\n/* harmony export */   useActionBarStopSpeaking: () => (/* binding */ useActionBarStopSpeaking),\n/* harmony export */   useAppendMessage: () => (/* binding */ useAppendMessage),\n/* harmony export */   useAssistantContext: () => (/* binding */ useAssistantContext),\n/* harmony export */   useAssistantInstructions: () => (/* binding */ useAssistantInstructions),\n/* harmony export */   useAssistantTool: () => (/* binding */ useAssistantTool),\n/* harmony export */   useAssistantToolUI: () => (/* binding */ useAssistantToolUI),\n/* harmony export */   useBranchPickerCount: () => (/* binding */ useBranchPickerCount),\n/* harmony export */   useBranchPickerNext: () => (/* binding */ useBranchPickerNext),\n/* harmony export */   useBranchPickerNumber: () => (/* binding */ useBranchPickerNumber),\n/* harmony export */   useBranchPickerPrevious: () => (/* binding */ useBranchPickerPrevious),\n/* harmony export */   useComposerAddAttachment: () => (/* binding */ useComposerAddAttachment),\n/* harmony export */   useComposerCancel: () => (/* binding */ useComposerCancel),\n/* harmony export */   useComposerContext: () => (/* binding */ useComposerContext),\n/* harmony export */   useComposerIf: () => (/* binding */ useComposerIf),\n/* harmony export */   useComposerSend: () => (/* binding */ useComposerSend),\n/* harmony export */   useContentPartContext: () => (/* binding */ useContentPartContext),\n/* harmony export */   useContentPartDisplay: () => (/* binding */ useContentPartDisplay),\n/* harmony export */   useContentPartImage: () => (/* binding */ useContentPartImage),\n/* harmony export */   useContentPartText: () => (/* binding */ useContentPartText),\n/* harmony export */   useDangerousInBrowserRuntime: () => (/* binding */ useDangerousInBrowserRuntime),\n/* harmony export */   useEdgeRuntime: () => (/* binding */ useEdgeRuntime),\n/* harmony export */   useExternalMessageConverter: () => (/* binding */ useExternalMessageConverter),\n/* harmony export */   useExternalStoreRuntime: () => (/* binding */ useExternalStoreRuntime),\n/* harmony export */   useLocalRuntime: () => (/* binding */ useLocalRuntime),\n/* harmony export */   useMessageContext: () => (/* binding */ useMessageContext),\n/* harmony export */   useMessageIf: () => (/* binding */ useMessageIf),\n/* harmony export */   useSwitchToNewThread: () => (/* binding */ useSwitchToNewThread),\n/* harmony export */   useThreadConfig: () => (/* binding */ useThreadConfig),\n/* harmony export */   useThreadContext: () => (/* binding */ useThreadContext),\n/* harmony export */   useThreadEmpty: () => (/* binding */ useThreadEmpty),\n/* harmony export */   useThreadIf: () => (/* binding */ useThreadIf),\n/* harmony export */   useThreadScrollToBottom: () => (/* binding */ useThreadScrollToBottom),\n/* harmony export */   useThreadSuggestion: () => (/* binding */ useThreadSuggestion)\n/* harmony export */ });\n/* harmony import */ var _chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-ZQNZLTZL.mjs */ \"(ssr)/../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/chunk-ZQNZLTZL.mjs\");\n/* harmony import */ var _chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-BJPOCE4O.mjs */ \"(ssr)/../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/chunk-BJPOCE4O.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/.pnpm/next@14.2.9_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"(ssr)/../node_modules/.pnpm/zustand@4.5.5_@types+react@18.3.5_react@18.3.1/node_modules/zustand/esm/index.mjs\");\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nanoid/non-secure */ \"(ssr)/../node_modules/.pnpm/nanoid@5.0.7/node_modules/nanoid/non-secure/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../node_modules/.pnpm/next@14.2.9_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @radix-ui/react-use-callback-ref */ \"(ssr)/../node_modules/.pnpm/@radix-ui+react-use-callback-ref@1.1.0_@types+react@18.3.5_react@18.3.1/node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @radix-ui/react-tooltip */ \"(ssr)/../node_modules/.pnpm/@radix-ui+react-tooltip@1.1.2_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@radix-ui/react-tooltip/dist/index.mjs\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ \"(ssr)/../node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/../node_modules/.pnpm/class-variance-authority@0.7.0/node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(ssr)/../node_modules/.pnpm/@radix-ui+react-primitive@2.0.0_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @radix-ui/primitive */ \"(ssr)/../node_modules/.pnpm/@radix-ui+primitive@1.1.0/node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_escape_keydown__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @radix-ui/react-use-escape-keydown */ \"(ssr)/../node_modules/.pnpm/@radix-ui+react-use-escape-keydown@1.1.0_@types+react@18.3.5_react@18.3.1/node_modules/@radix-ui/react-use-escape-keydown/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @radix-ui/react-popover */ \"(ssr)/../node_modules/.pnpm/@radix-ui+react-popover@1.1.1_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@radix-ui/react-popover/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @radix-ui/react-compose-refs */ \"(ssr)/../node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.0_@types+react@18.3.5_react@18.3.1/node_modules/@radix-ui/react-compose-refs/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/../node_modules/.pnpm/@radix-ui+react-slot@1.1.0_@types+react@18.3.5_react@18.3.1/node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react_textarea_autosize__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react-textarea-autosize */ \"(ssr)/../node_modules/.pnpm/react-textarea-autosize@8.5.3_@types+react@18.3.5_react@18.3.1/node_modules/react-textarea-autosize/dist/react-textarea-autosize.development.esm.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/audio-lines.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/circle-stop.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeftIcon_ChevronRightIcon_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeftIcon,ChevronRightIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeftIcon_ChevronRightIcon_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeftIcon,ChevronRightIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @radix-ui/react-avatar */ \"(ssr)/../node_modules/.pnpm/@radix-ui+react-avatar@1.1.0_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@radix-ui/react-avatar/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_BotIcon_ChevronDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=BotIcon,ChevronDownIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_BotIcon_ChevronDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=BotIcon,ChevronDownIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDownIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/arrow-down.js\");\n/* harmony import */ var _barrel_optimize_names_PaperclipIcon_SendHorizontalIcon_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=PaperclipIcon,SendHorizontalIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_PaperclipIcon_SendHorizontalIcon_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=PaperclipIcon,SendHorizontalIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/send-horizontal.js\");\n/* harmony import */ var _barrel_optimize_names_CircleXIcon_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=CircleXIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/circle-x.js\");\n/* harmony import */ var _barrel_optimize_names_PencilIcon_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=PencilIcon!=!lucide-react */ \"(ssr)/../node_modules/.pnpm/lucide-react@0.439.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/pencil.js\");\n/* __next_internal_client_entry_do_not_use__ ActionBarPrimitive,AssistantActionBar,AssistantMessage,AssistantModal,AssistantModalPrimitive,AssistantRuntimeProvider,BranchPicker,BranchPickerPrimitive,Composer,ComposerAttachment,ComposerPrimitive,CompositeAttachmentAdapter,ContentPart,ContentPartPrimitive,EdgeChatAdapter,EditComposer,ExternalStoreRuntime,INTERNAL,MessagePrimitive,SimpleImageAttachmentAdapter,SimpleTextAttachmentAdapter,Thread,ThreadConfigProvider,ThreadPrimitive,ThreadWelcome,UserActionBar,UserMessage,UserMessageAttachment,WebSpeechSynthesisAdapter,fromCoreMessage,fromCoreMessages,fromLanguageModelMessages,fromLanguageModelTools,getExternalStoreMessage,makeAssistantTool,makeAssistantToolUI,streamUtils,subscribeToMainThread,toCoreMessage,toCoreMessages,toLanguageModelMessages,toLanguageModelTools,useActionBarCopy,useActionBarEdit,useActionBarReload,useActionBarSpeak,useActionBarStopSpeaking,useAppendMessage,useAssistantContext,useAssistantInstructions,useAssistantTool,useAssistantToolUI,useBranchPickerCount,useBranchPickerNext,useBranchPickerNumber,useBranchPickerPrevious,useComposerAddAttachment,useComposerCancel,useComposerContext,useComposerIf,useComposerSend,useContentPartContext,useContentPartDisplay,useContentPartImage,useContentPartText,useDangerousInBrowserRuntime,useEdgeRuntime,useExternalMessageConverter,useExternalStoreRuntime,useLocalRuntime,useMessageContext,useMessageIf,useSwitchToNewThread,useThreadConfig,useThreadContext,useThreadEmpty,useThreadIf,useThreadScrollToBottom,useThreadSuggestion auto */ \n\n// src/context/providers/AssistantRuntimeProvider.tsx\n\n// src/context/providers/AssistantProvider.tsx\n\n// src/context/react/AssistantContext.ts\n\nvar AssistantContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useAssistantContext(options) {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AssistantContext);\n    if (!options?.optional && !context) throw new Error(\"This component must be used within an AssistantRuntimeProvider.\");\n    return context;\n}\n// src/context/stores/AssistantModelConfig.ts\n\n// src/utils/ProxyConfigProvider.ts\nvar ProxyConfigProvider = class {\n    getModelConfig() {\n        return (0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.mergeModelConfigs)(this._providers);\n    }\n    registerModelConfigProvider(provider) {\n        this._providers.add(provider);\n        return ()=>{\n            this._providers.delete(provider);\n        };\n    }\n    constructor(){\n        this._providers = /* @__PURE__ */ new Set();\n    }\n};\n// src/context/stores/AssistantModelConfig.ts\nvar makeAssistantModelConfigStore = ()=>(0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>{\n        const proxy = new ProxyConfigProvider();\n        return Object.freeze({\n            getModelConfig: ()=>{\n                return proxy.getModelConfig();\n            },\n            registerModelConfigProvider: (provider)=>{\n                return proxy.registerModelConfigProvider(provider);\n            }\n        });\n    });\n// src/context/stores/AssistantToolUIs.ts\n\nvar makeAssistantToolUIsStore = ()=>(0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)((set)=>{\n        const renderers = /* @__PURE__ */ new Map();\n        return Object.freeze({\n            getToolUI: (name)=>{\n                const arr = renderers.get(name);\n                const last = arr?.at(-1);\n                if (last) return last;\n                return null;\n            },\n            setToolUI: (name, render)=>{\n                let arr = renderers.get(name);\n                if (!arr) {\n                    arr = [];\n                    renderers.set(name, arr);\n                }\n                arr.push(render);\n                set({});\n                return ()=>{\n                    const index = arr.indexOf(render);\n                    if (index !== -1) {\n                        arr.splice(index, 1);\n                    }\n                    if (index === arr.length) {\n                        set({});\n                    }\n                };\n            }\n        });\n    });\n// src/context/providers/ThreadProvider.tsx\n\n// src/context/react/ThreadContext.ts\n\nvar ThreadContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useThreadContext(options) {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ThreadContext);\n    if (!options?.optional && !context) throw new Error(\"This component must be used within an AssistantRuntimeProvider.\");\n    return context;\n}\n// src/context/stores/Composer.ts\n\nvar makeComposerStore = (useThreadRuntime)=>{\n    const focusListeners = /* @__PURE__ */ new Set();\n    return (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)()((_, get)=>{\n        const runtime = useThreadRuntime.getState();\n        return {\n            get value () {\n                return get().text;\n            },\n            setValue (value) {\n                get().setText(value);\n            },\n            attachments: runtime.composer.attachments,\n            addAttachment: (file)=>{\n                useThreadRuntime.getState().composer.addAttachment(file);\n            },\n            removeAttachment: (attachmentId)=>{\n                useThreadRuntime.getState().composer.removeAttachment(attachmentId);\n            },\n            reset: ()=>{\n                useThreadRuntime.getState().composer.reset();\n            },\n            text: runtime.composer.text,\n            setText: (text)=>{\n                useThreadRuntime.getState().composer.setText(text);\n            },\n            canCancel: runtime.capabilities.cancel,\n            isEditing: true,\n            isEmpty: runtime.composer.isEmpty,\n            send: ()=>{\n                const runtime2 = useThreadRuntime.getState();\n                runtime2.composer.send();\n            },\n            cancel: ()=>{\n                useThreadRuntime.getState().cancelRun();\n            },\n            focus: ()=>{\n                for (const listener of focusListeners){\n                    listener();\n                }\n            },\n            onFocus: (listener)=>{\n                focusListeners.add(listener);\n                return ()=>{\n                    focusListeners.delete(listener);\n                };\n            }\n        };\n    });\n};\n// src/context/stores/Thread.ts\n\nvar getThreadStateFromRuntime = (runtime)=>{\n    const lastMessage = runtime.messages.at(-1);\n    return Object.freeze({\n        threadId: runtime.threadId,\n        capabilities: runtime.capabilities,\n        isDisabled: runtime.isDisabled,\n        isRunning: lastMessage?.role !== \"assistant\" ? false : lastMessage.status.type === \"running\"\n    });\n};\nvar makeThreadStore = (runtimeRef)=>{\n    const runtime = runtimeRef.getState();\n    return (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>getThreadStateFromRuntime(runtime));\n};\n// src/context/stores/ThreadViewport.tsx\n\nvar makeThreadViewportStore = ()=>{\n    const scrollToBottomListeners = /* @__PURE__ */ new Set();\n    return (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>({\n            isAtBottom: true,\n            scrollToBottom: ()=>{\n                for (const listener of scrollToBottomListeners){\n                    listener();\n                }\n            },\n            onScrollToBottom: (callback)=>{\n                scrollToBottomListeners.add(callback);\n                return ()=>{\n                    scrollToBottomListeners.delete(callback);\n                };\n            }\n        }));\n};\n// src/context/stores/ThreadActions.ts\n\nvar makeThreadActionStore = (runtimeStore)=>{\n    return (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>Object.freeze({\n            getBranches: (messageId)=>runtimeStore.getState().getBranches(messageId),\n            switchToBranch: (branchId)=>runtimeStore.getState().switchToBranch(branchId),\n            startRun: (parentId)=>runtimeStore.getState().startRun(parentId),\n            append: (message)=>runtimeStore.getState().append(message),\n            cancelRun: ()=>runtimeStore.getState().cancelRun(),\n            addToolResult: (options)=>runtimeStore.getState().addToolResult(options),\n            speak: (messageId)=>runtimeStore.getState().speak(messageId)\n        }));\n};\n// src/context/stores/ThreadMessages.ts\n\nvar makeThreadMessagesStore = (runtimeRef)=>{\n    return (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>runtimeRef.getState().messages);\n};\n// src/context/stores/ThreadRuntime.tsx\n\nvar makeThreadRuntimeStore = (runtime)=>{\n    return (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>runtime);\n};\n// src/runtimes/core/subscribeToMainThread.ts\nvar subscribeToMainThread = (runtime, callback)=>{\n    let first = true;\n    let cleanup;\n    const inner = ()=>{\n        cleanup?.();\n        cleanup = runtime.thread.subscribe(callback);\n        if (!first) {\n            callback();\n        }\n        first = false;\n    };\n    const unsubscribe = runtime.subscribe(inner);\n    inner();\n    return ()=>{\n        unsubscribe();\n        cleanup?.();\n    };\n};\n// src/runtimes/local/useLocalRuntime.tsx\n\n// src/runtimes/core/BaseAssistantRuntime.tsx\nvar BaseAssistantRuntime = class {\n    constructor(_thread){\n        this._subscriptions = /* @__PURE__ */ new Set();\n        this.subscriptionHandler = ()=>{\n            for (const callback of this._subscriptions)callback();\n        };\n        this._thread = _thread;\n        this._thread = _thread;\n    }\n    get thread() {\n        return this._thread;\n    }\n    set thread(thread) {\n        this._thread = thread;\n        this.subscriptionHandler();\n    }\n    subscribe(callback) {\n        this._subscriptions.add(callback);\n        return ()=>this._subscriptions.delete(callback);\n    }\n};\n// src/internal.ts\nvar internal_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(internal_exports, {\n    BaseAssistantRuntime: ()=>BaseAssistantRuntime,\n    MessageRepository: ()=>MessageRepository,\n    ProxyConfigProvider: ()=>ProxyConfigProvider,\n    ThreadRuntimeComposer: ()=>ThreadRuntimeComposer,\n    TooltipIconButton: ()=>TooltipIconButton,\n    generateId: ()=>generateId,\n    useSmooth: ()=>useSmooth,\n    useSmoothStatus: ()=>useSmoothStatus,\n    withSmoothContextProvider: ()=>withSmoothContextProvider\n});\n// src/runtimes/utils/ThreadRuntimeComposer.tsx\nvar ThreadRuntimeComposer = class {\n    constructor(runtime, notifySubscribers){\n        this.attachmentAccept = \"*\";\n        this._attachments = [];\n        this._text = \"\";\n        this.runtime = runtime;\n        this.notifySubscribers = notifySubscribers;\n    }\n    get isEmpty() {\n        return !this.text.trim() && !this.attachments.length;\n    }\n    setAttachmentAdapter(adapter) {\n        this._attachmentAdapter = adapter;\n        const accept = adapter?.accept ?? \"*\";\n        if (this.attachmentAccept !== accept) {\n            this.attachmentAccept = accept;\n            return true;\n        }\n        return false;\n    }\n    get attachments() {\n        return this._attachments;\n    }\n    async addAttachment(file) {\n        if (!this._attachmentAdapter) throw new Error(\"Attachments are not supported\");\n        const attachment = await this._attachmentAdapter.add({\n            file\n        });\n        this._attachments = [\n            ...this._attachments,\n            attachment\n        ];\n        this.notifySubscribers();\n    }\n    async removeAttachment(attachmentId) {\n        if (!this._attachmentAdapter) throw new Error(\"Attachments are not supported\");\n        const index = this._attachments.findIndex((a)=>a.id === attachmentId);\n        if (index === -1) throw new Error(\"Attachment not found\");\n        const attachment = this._attachments[index];\n        await this._attachmentAdapter.remove(attachment);\n        this._attachments = this._attachments.toSpliced(index, 1);\n        this.notifySubscribers();\n    }\n    get text() {\n        return this._text;\n    }\n    setText(value) {\n        this._text = value;\n        this.notifySubscribers();\n    }\n    reset() {\n        this._text = \"\";\n        this._attachments = [];\n        this.notifySubscribers();\n    }\n    async send() {\n        const attachments = this._attachmentAdapter ? await Promise.all(this.attachments.map(async (a)=>await this._attachmentAdapter.send(a))) : [];\n        this.runtime.append({\n            parentId: this.runtime.messages.at(-1)?.id ?? null,\n            role: \"user\",\n            content: this.text ? [\n                {\n                    type: \"text\",\n                    text: this.text\n                }\n            ] : [],\n            attachments\n        });\n        this.reset();\n    }\n};\n// src/utils/idUtils.tsx\n\nvar generateId = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_4__.customAlphabet)(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\", 7);\nvar optimisticPrefix = \"__optimistic__\";\nvar generateOptimisticId = ()=>`${optimisticPrefix}${generateId()}`;\n// src/runtimes/edge/converters/fromCoreMessage.ts\nvar fromCoreMessages = (message)=>{\n    return message.map((message2)=>fromCoreMessage(message2));\n};\nvar fromCoreMessage = (message, { id = generateId(), status = {\n    type: \"complete\",\n    reason: \"unknown\"\n} } = {})=>{\n    const commonProps = {\n        id,\n        createdAt: /* @__PURE__ */ new Date()\n    };\n    const role = message.role;\n    switch(role){\n        case \"assistant\":\n            return {\n                ...commonProps,\n                role,\n                content: message.content.map((part)=>{\n                    if (part.type === \"tool-call\") {\n                        return {\n                            ...part,\n                            argsText: JSON.stringify(part.args)\n                        };\n                    }\n                    return part;\n                }),\n                status\n            };\n        case \"user\":\n            return {\n                ...commonProps,\n                role,\n                content: message.content,\n                attachments: []\n            };\n        case \"system\":\n            return {\n                ...commonProps,\n                role,\n                content: message.content\n            };\n        default:\n            {\n                const unsupportedRole = role;\n                throw new Error(`Unknown message role: ${unsupportedRole}`);\n            }\n    }\n};\n// src/runtimes/utils/MessageRepository.tsx\nvar findHead = (message)=>{\n    if (message.next) return findHead(message.next);\n    if (\"current\" in message) return message;\n    return null;\n};\nvar MessageRepository = class {\n    performOp(newParent, child, operation) {\n        const parentOrRoot = child.prev ?? this.root;\n        const newParentOrRoot = newParent ?? this.root;\n        if (operation === \"relink\" && parentOrRoot === newParentOrRoot) return;\n        if (operation !== \"link\") {\n            parentOrRoot.children = parentOrRoot.children.filter((m)=>m !== child.current.id);\n            if (parentOrRoot.next === child) {\n                const fallbackId = parentOrRoot.children.at(-1);\n                const fallback = fallbackId ? this.messages.get(fallbackId) : null;\n                if (fallback === void 0) {\n                    throw new Error(\"MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.\");\n                }\n                parentOrRoot.next = fallback;\n            }\n        }\n        if (operation !== \"cut\") {\n            for(let current = newParent; current; current = current.prev){\n                if (current.current.id === child.current.id) {\n                    throw new Error(\"MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.\");\n                }\n            }\n            newParentOrRoot.children = [\n                ...newParentOrRoot.children,\n                child.current.id\n            ];\n            if (findHead(child) === this.head || newParentOrRoot.next === null) {\n                newParentOrRoot.next = child;\n            }\n            child.prev = newParent;\n        }\n    }\n    getMessages() {\n        const messages = new Array(this.head?.level ?? 0);\n        for(let current = this.head; current; current = current.prev){\n            messages[current.level] = current.current;\n        }\n        return messages;\n    }\n    addOrUpdateMessage(parentId, message) {\n        const existingItem = this.messages.get(message.id);\n        const prev = parentId ? this.messages.get(parentId) : null;\n        if (prev === void 0) throw new Error(\"MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.\");\n        if (existingItem) {\n            existingItem.current = message;\n            this.performOp(prev, existingItem, \"relink\");\n            return;\n        }\n        const newItem = {\n            prev,\n            current: message,\n            next: null,\n            children: [],\n            level: prev ? prev.level + 1 : 0\n        };\n        this.messages.set(message.id, newItem);\n        this.performOp(prev, newItem, \"link\");\n        if (this.head === prev) {\n            this.head = newItem;\n        }\n    }\n    getMessage(messageId) {\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.\");\n        return {\n            parentId: message.prev?.current.id ?? null,\n            message: message.current\n        };\n    }\n    appendOptimisticMessage(parentId, message) {\n        let optimisticId;\n        do {\n            optimisticId = generateOptimisticId();\n        }while (this.messages.has(optimisticId));\n        this.addOrUpdateMessage(parentId, fromCoreMessage(message, {\n            id: optimisticId,\n            status: {\n                type: \"running\"\n            }\n        }));\n        return optimisticId;\n    }\n    deleteMessage(messageId, replacementId) {\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(deleteMessage): Optimistic message not found. This is likely an internal bug in assistant-ui.\");\n        const replacement = replacementId === void 0 ? message.prev : replacementId === null ? null : this.messages.get(replacementId);\n        if (replacement === void 0) throw new Error(\"MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.\");\n        for (const child of message.children){\n            const childMessage = this.messages.get(child);\n            if (!childMessage) throw new Error(\"MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.\");\n            this.performOp(replacement, childMessage, \"relink\");\n        }\n        this.performOp(null, message, \"cut\");\n        this.messages.delete(messageId);\n        if (this.head === message) {\n            this.head = findHead(replacement ?? this.root);\n        }\n    }\n    getBranches(messageId) {\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.\");\n        const { children } = message.prev ?? this.root;\n        return children;\n    }\n    switchToBranch(messageId) {\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.\");\n        const prevOrRoot = message.prev ?? this.root;\n        prevOrRoot.next = message;\n        this.head = findHead(message);\n    }\n    resetHead(messageId) {\n        if (messageId === null) {\n            this.head = null;\n            return;\n        }\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.\");\n        this.head = message;\n        for(let current = message; current; current = current.prev){\n            if (current.prev) {\n                current.prev.next = current;\n            }\n        }\n    }\n    export() {\n        const exportItems = [];\n        for (const [, message] of this.messages){\n            exportItems.push({\n                message: message.current,\n                parentId: message.prev?.current.id ?? null\n            });\n        }\n        return {\n            headId: this.head?.current.id ?? null,\n            messages: exportItems\n        };\n    }\n    import({ headId, messages }) {\n        for (const { message, parentId } of messages){\n            this.addOrUpdateMessage(parentId, message);\n        }\n        this.resetHead(headId ?? messages.at(-1)?.message.id ?? null);\n    }\n    constructor(){\n        this.messages = /* @__PURE__ */ new Map();\n        // message_id -> item\n        this.head = null;\n        this.root = {\n            children: [],\n            next: null\n        };\n    }\n};\n// src/utils/smooth/useSmooth.tsx\n\n// src/utils/smooth/SmoothContext.tsx\n\n\n\nvar SmoothContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar makeSmoothContext = (initialState)=>{\n    const useSmoothStatus2 = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>initialState);\n    return {\n        useSmoothStatus: useSmoothStatus2\n    };\n};\nvar SmoothContextProvider = ({ children })=>{\n    const outer = useSmoothContext({\n        optional: true\n    });\n    const { useContentPart } = useContentPartContext();\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>makeSmoothContext(useContentPart.getState().status));\n    if (outer) return children;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(SmoothContext.Provider, {\n        value: context,\n        children\n    });\n};\nvar withSmoothContextProvider = (Component)=>{\n    const Wrapped = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(SmoothContextProvider, {\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Component, {\n                ...props,\n                ref\n            })\n        });\n    });\n    Wrapped.displayName = Component.displayName;\n    return Wrapped;\n};\nfunction useSmoothContext(options) {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SmoothContext);\n    if (!options?.optional && !context) throw new Error(\"This component must be used within a SmoothContextProvider.\");\n    return context;\n}\nvar useSmoothStatus = ()=>{\n    const { useSmoothStatus: useSmoothStatus2 } = useSmoothContext();\n    return useSmoothStatus2();\n};\n// src/utils/smooth/useSmooth.tsx\n\nvar TextStreamAnimator = class {\n    constructor(currentText, setText){\n        this.animationFrameId = null;\n        this.lastUpdateTime = Date.now();\n        this.targetText = \"\";\n        this.animate = ()=>{\n            const currentTime = Date.now();\n            const deltaTime = currentTime - this.lastUpdateTime;\n            let timeToConsume = deltaTime;\n            const remainingChars = this.targetText.length - this.currentText.length;\n            const baseTimePerChar = Math.min(5, 250 / remainingChars);\n            let charsToAdd = 0;\n            while(timeToConsume >= baseTimePerChar && charsToAdd < remainingChars){\n                charsToAdd++;\n                timeToConsume -= baseTimePerChar;\n            }\n            if (charsToAdd !== remainingChars) {\n                this.animationFrameId = requestAnimationFrame(this.animate);\n            } else {\n                this.animationFrameId = null;\n            }\n            if (charsToAdd === 0) return;\n            this.currentText = this.targetText.slice(0, this.currentText.length + charsToAdd);\n            this.lastUpdateTime = currentTime - timeToConsume;\n            this.setText(this.currentText);\n        };\n        this.currentText = currentText;\n        this.setText = setText;\n    }\n    start() {\n        if (this.animationFrameId !== null) return;\n        this.lastUpdateTime = Date.now();\n        this.animate();\n    }\n    stop() {\n        if (this.animationFrameId !== null) {\n            cancelAnimationFrame(this.animationFrameId);\n            this.animationFrameId = null;\n        }\n    }\n};\nvar SMOOTH_STATUS = Object.freeze({\n    type: \"running\"\n});\nvar useSmooth = (state, smooth = false)=>{\n    const { useSmoothStatus: useSmoothStatus2 } = useSmoothContext({\n        optional: true\n    }) ?? {};\n    const { part: { text } } = state;\n    const { useMessage } = useMessageContext();\n    const id = useMessage((m)=>m.message.id);\n    const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(id);\n    const [displayedText, setDisplayedText] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(text);\n    const setText = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_6__.useCallbackRef)((text2)=>{\n        setDisplayedText(text2);\n        useSmoothStatus2?.setState(text2 !== state.part.text ? SMOOTH_STATUS : state.status);\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        useSmoothStatus2?.setState(text !== displayedText ? SMOOTH_STATUS : state.status);\n    }, [\n        useSmoothStatus2,\n        text,\n        displayedText,\n        state.status\n    ]);\n    const [animatorRef] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new TextStreamAnimator(text, setText));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!smooth) {\n            animatorRef.stop();\n            return;\n        }\n        if (idRef.current !== id || !text.startsWith(animatorRef.targetText)) {\n            idRef.current = id;\n            setText(text);\n            animatorRef.currentText = text;\n            animatorRef.targetText = text;\n            animatorRef.stop();\n            return;\n        }\n        animatorRef.targetText = text;\n        animatorRef.start();\n    }, [\n        setText,\n        animatorRef,\n        id,\n        smooth,\n        text\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            animatorRef.stop();\n        };\n    }, [\n        animatorRef\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>smooth ? {\n            part: {\n                type: \"text\",\n                text: displayedText\n            },\n            status: text === displayedText ? state.status : SMOOTH_STATUS\n        } : state, [\n        smooth,\n        displayedText,\n        state,\n        text\n    ]);\n};\n// src/ui/base/tooltip-icon-button.tsx\n\n// src/ui/base/tooltip.tsx\n\n// src/ui/utils/withDefaults.tsx\n\n\n\nvar withDefaultProps = ({ className, ...defaultProps })=>({ className: classNameProp, ...props })=>{\n        return {\n            className: classnames__WEBPACK_IMPORTED_MODULE_7__(className, classNameProp),\n            ...defaultProps,\n            ...props\n        };\n    };\nvar withDefaults = (Component, defaultProps)=>{\n    const getProps = withDefaultProps(defaultProps);\n    const WithDefaults = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n        const ComponentAsAny = Component;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComponentAsAny, {\n            ...getProps(props),\n            ref\n        });\n    });\n    WithDefaults.displayName = \"withDefaults(\" + (typeof Component === \"string\" ? Component : Component.displayName) + \")\";\n    return WithDefaults;\n};\n// src/ui/base/tooltip.tsx\n\nvar Tooltip = (props)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_8__.Provider, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_8__.Root, {\n            ...props\n        })\n    });\n};\nTooltip.displayName = \"Tooltip\";\nvar TooltipTrigger = _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_8__.Trigger;\nvar TooltipContent = withDefaults(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_8__.Content, {\n    sideOffset: 4,\n    className: \"aui-tooltip-content\"\n});\nTooltipContent.displayName = \"TooltipContent\";\n// src/ui/base/button.tsx\n\n\n\n\nvar buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_9__.cva)(\"aui-button\", {\n    variants: {\n        variant: {\n            default: \"aui-button-primary\",\n            outline: \"aui-button-outline\",\n            ghost: \"aui-button-ghost\"\n        },\n        size: {\n            default: \"aui-button-medium\",\n            icon: \"aui-button-icon\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nvar Button = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ className, variant, size, ...props }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.button, {\n        className: buttonVariants({\n            variant,\n            size,\n            className\n        }),\n        ...props,\n        ref\n    });\n});\nButton.displayName = \"Button\";\n// src/ui/base/tooltip-icon-button.tsx\n\nvar TooltipIconButton = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ children, tooltip, side = \"bottom\", ...rest }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(Tooltip, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipTrigger, {\n                asChild: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(Button, {\n                    variant: \"ghost\",\n                    size: \"icon\",\n                    ...rest,\n                    ref,\n                    children: [\n                        children,\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n                            className: \"aui-sr-only\",\n                            children: tooltip\n                        })\n                    ]\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipContent, {\n                side,\n                children: tooltip\n            })\n        ]\n    });\n});\nTooltipIconButton.displayName = \"TooltipIconButton\";\n// src/runtimes/edge/converters/fromLanguageModelMessages.ts\nvar fromLanguageModelMessages = (lm, { mergeRoundtrips })=>{\n    const messages = [];\n    for (const lmMessage of lm){\n        const role = lmMessage.role;\n        switch(role){\n            case \"system\":\n                {\n                    messages.push({\n                        role: \"system\",\n                        content: [\n                            {\n                                type: \"text\",\n                                text: lmMessage.content\n                            }\n                        ]\n                    });\n                    break;\n                }\n            case \"user\":\n                {\n                    messages.push({\n                        role: \"user\",\n                        content: lmMessage.content.map((part)=>{\n                            const type = part.type;\n                            switch(type){\n                                case \"text\":\n                                    {\n                                        return {\n                                            type: \"text\",\n                                            text: part.text\n                                        };\n                                    }\n                                case \"image\":\n                                    {\n                                        if (part.image instanceof URL) {\n                                            return {\n                                                type: \"image\",\n                                                image: part.image.href\n                                            };\n                                        }\n                                        throw new Error(\"Only images with URL data are supported\");\n                                    }\n                                default:\n                                    {\n                                        const unhandledType = type;\n                                        throw new Error(`Unknown content part type: ${unhandledType}`);\n                                    }\n                            }\n                        })\n                    });\n                    break;\n                }\n            case \"assistant\":\n                {\n                    const newContent = lmMessage.content.map((part)=>{\n                        if (part.type === \"tool-call\") {\n                            return {\n                                type: \"tool-call\",\n                                toolCallId: part.toolCallId,\n                                toolName: part.toolName,\n                                argsText: JSON.stringify(part.args),\n                                args: part.args\n                            };\n                        }\n                        return part;\n                    });\n                    if (mergeRoundtrips) {\n                        const previousMessage = messages[messages.length - 1];\n                        if (previousMessage?.role === \"assistant\") {\n                            previousMessage.content.push(...newContent);\n                            break;\n                        }\n                    }\n                    messages.push({\n                        role: \"assistant\",\n                        content: newContent\n                    });\n                    break;\n                }\n            case \"tool\":\n                {\n                    const previousMessage = messages[messages.length - 1];\n                    if (previousMessage?.role !== \"assistant\") throw new Error(\"A tool message must be preceded by an assistant message.\");\n                    for (const tool of lmMessage.content){\n                        const toolCall = previousMessage.content.find((c)=>c.type === \"tool-call\" && c.toolCallId === tool.toolCallId);\n                        if (!toolCall) throw new Error(\"Received tool result for an unknown tool call.\");\n                        if (toolCall.toolName !== tool.toolName) throw new Error(\"Tool call name mismatch.\");\n                        toolCall.result = tool.result;\n                        if (tool.isError) {\n                            toolCall.isError = true;\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    const unhandledRole = role;\n                    throw new Error(`Unknown message role: ${unhandledRole}`);\n                }\n        }\n    }\n    return messages;\n};\n// src/runtimes/edge/converters/fromLanguageModelTools.ts\nvar fromLanguageModelTools = (tools)=>{\n    return Object.fromEntries(tools.map((tool)=>[\n            tool.name,\n            {\n                description: tool.description,\n                parameters: tool.parameters\n            }\n        ]));\n};\n// src/runtimes/edge/streams/utils/chunkByLineStream.ts\nfunction chunkByLineStream() {\n    let buffer = \"\";\n    return new TransformStream({\n        transform (chunk, controller) {\n            buffer += chunk;\n            const lines = buffer.split(\"\\n\");\n            for(let i = 0; i < lines.length - 1; i++){\n                controller.enqueue(lines[i]);\n            }\n            buffer = lines[lines.length - 1];\n        },\n        flush (controller) {\n            if (buffer) {\n                controller.enqueue(buffer);\n            }\n        }\n    });\n}\n// src/runtimes/edge/streams/utils/streamPartDecoderStream.ts\nvar decodeStreamPart = (part)=>{\n    const index = part.indexOf(\":\");\n    if (index === -1) throw new Error(\"Invalid stream part\");\n    return {\n        type: part.slice(0, index),\n        value: JSON.parse(part.slice(index + 1))\n    };\n};\nfunction streamPartDecoderStream() {\n    const decodeStream = new TransformStream({\n        transform (chunk, controller) {\n            controller.enqueue(decodeStreamPart(chunk));\n        }\n    });\n    return new _chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.PipeableTransformStream((readable)=>{\n        return readable.pipeThrough(new TextDecoderStream()).pipeThrough(chunkByLineStream()).pipeThrough(decodeStream);\n    });\n}\n// src/runtimes/edge/streams/utils/index.ts\nvar streamUtils = {\n    streamPartEncoderStream: _chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.streamPartEncoderStream,\n    streamPartDecoderStream\n};\n// src/runtimes/edge/useEdgeRuntime.ts\n\n// src/runtimes/edge/streams/assistantDecoderStream.ts\nfunction assistantDecoderStream() {\n    const toolCallNames = /* @__PURE__ */ new Map();\n    let currentToolCall;\n    return new TransformStream({\n        transform ({ type, value }, controller) {\n            if (currentToolCall && type !== \"2\" /* ToolCallArgsTextDelta */  && type !== \"E\" /* Error */ ) {\n                controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallType: \"function\",\n                    toolCallId: currentToolCall.id,\n                    toolName: currentToolCall.name,\n                    args: currentToolCall.argsText\n                });\n                currentToolCall = void 0;\n            }\n            switch(type){\n                case \"0\" /* TextDelta */ :\n                    {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: value\n                        });\n                        break;\n                    }\n                case \"1\" /* ToolCallBegin */ :\n                    {\n                        const { id, name } = value;\n                        toolCallNames.set(id, name);\n                        currentToolCall = {\n                            id,\n                            name,\n                            argsText: \"\"\n                        };\n                        break;\n                    }\n                case \"2\" /* ToolCallArgsTextDelta */ :\n                    {\n                        const delta = value;\n                        currentToolCall.argsText += delta;\n                        controller.enqueue({\n                            type: \"tool-call-delta\",\n                            toolCallType: \"function\",\n                            toolCallId: currentToolCall.id,\n                            toolName: currentToolCall.name,\n                            argsTextDelta: delta\n                        });\n                        break;\n                    }\n                case \"3\" /* ToolCallResult */ :\n                    {\n                        controller.enqueue({\n                            type: \"tool-result\",\n                            toolCallType: \"function\",\n                            toolCallId: value.id,\n                            toolName: toolCallNames.get(value.id),\n                            result: value.result\n                        });\n                        break;\n                    }\n                case \"F\" /* Finish */ :\n                    {\n                        controller.enqueue({\n                            type: \"finish\",\n                            ...value\n                        });\n                        break;\n                    }\n                case \"E\" /* Error */ :\n                    {\n                        controller.enqueue({\n                            type: \"error\",\n                            error: value\n                        });\n                        break;\n                    }\n                default:\n                    {\n                        const unhandledType = type;\n                        throw new Error(`Unhandled chunk type: ${unhandledType}`);\n                    }\n            }\n        }\n    });\n}\n// src/runtimes/edge/EdgeChatAdapter.ts\nfunction asAsyncIterable(source) {\n    return {\n        [Symbol.asyncIterator]: ()=>{\n            const reader = source.getReader();\n            return {\n                async next () {\n                    const { done, value } = await reader.read();\n                    return done ? {\n                        done: true,\n                        value: void 0\n                    } : {\n                        done: false,\n                        value\n                    };\n                }\n            };\n        }\n    };\n}\nvar EdgeChatAdapter = class {\n    constructor(options){\n        this.options = options;\n    }\n    async *run({ messages, abortSignal, config }) {\n        const headers = new Headers(this.options.headers);\n        headers.set(\"Content-Type\", \"application/json\");\n        const result = await fetch(this.options.api, {\n            method: \"POST\",\n            headers,\n            credentials: this.options.credentials ?? \"same-origin\",\n            body: JSON.stringify({\n                system: config.system,\n                messages: (0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toCoreMessages)(messages),\n                tools: config.tools ? (0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toLanguageModelTools)(config.tools) : [],\n                ...config.callSettings,\n                ...config.config,\n                ...this.options.body\n            }),\n            signal: abortSignal\n        });\n        if (result.status !== 200) {\n            throw new Error(`Status ${result.status}: ${await result.text()}`);\n        }\n        const stream = result.body.pipeThrough(streamPartDecoderStream()).pipeThrough(assistantDecoderStream()).pipeThrough((0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toolResultStream)(config.tools, abortSignal)).pipeThrough((0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.runResultStream)());\n        let update;\n        for await (update of asAsyncIterable(stream)){\n            yield update;\n        }\n        if (update === void 0) throw new Error(\"No data received from Edge Runtime\");\n    }\n};\n// src/runtimes/edge/useEdgeRuntime.ts\nvar useEdgeRuntime = ({ initialMessages, maxToolRoundtrips, adapters, ...options })=>{\n    const [adapter] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new EdgeChatAdapter(options));\n    return useLocalRuntime(adapter, {\n        initialMessages,\n        maxToolRoundtrips,\n        adapters\n    });\n};\n// src/runtimes/local/shouldContinue.tsx\nvar shouldContinue = (result)=>result.status?.type === \"requires-action\" && result.status.reason === \"tool-calls\" && result.content.every((c)=>c.type !== \"tool-call\" || !!c.result);\n// src/runtimes/local/LocalThreadRuntime.tsx\nvar LocalThreadRuntime = class {\n    constructor(configProvider, adapter, { initialMessages, ...options }){\n        this._subscriptions = /* @__PURE__ */ new Set();\n        this.abortController = null;\n        this.repository = new MessageRepository();\n        this.capabilities = {\n            switchToBranch: true,\n            edit: true,\n            reload: true,\n            cancel: true,\n            unstable_copy: true,\n            speak: false,\n            attachments: false\n        };\n        this.isDisabled = false;\n        this.composer = new ThreadRuntimeComposer(this, this.notifySubscribers.bind(this));\n        this.configProvider = configProvider;\n        this.adapter = adapter;\n        this.threadId = generateId();\n        this.options = options;\n        if (initialMessages) {\n            let parentId = null;\n            const messages = fromCoreMessages(initialMessages);\n            for (const message of messages){\n                this.repository.addOrUpdateMessage(parentId, message);\n                parentId = message.id;\n            }\n        }\n    }\n    get messages() {\n        return this.repository.getMessages();\n    }\n    get options() {\n        return this._options;\n    }\n    set options({ initialMessages, ...options }) {\n        this._options = options;\n        let hasUpdates = false;\n        const canSpeak = options.adapters?.speech !== void 0;\n        if (this.capabilities.speak !== canSpeak) {\n            this.capabilities.speak = canSpeak;\n            hasUpdates = true;\n        }\n        this.composer.setAttachmentAdapter(options.adapters?.attachments);\n        const canAttach = options.adapters?.attachments !== void 0;\n        if (this.capabilities.attachments !== canAttach) {\n            this.capabilities.attachments = canAttach;\n            hasUpdates = true;\n        }\n        if (hasUpdates) this.notifySubscribers();\n    }\n    getBranches(messageId) {\n        return this.repository.getBranches(messageId);\n    }\n    switchToBranch(branchId) {\n        this.repository.switchToBranch(branchId);\n        this.notifySubscribers();\n    }\n    async append(message) {\n        if (message.role !== \"user\") throw new Error(\"Only appending user messages are supported in LocalRuntime. This is likely an internal bug in assistant-ui.\");\n        const userMessageId = generateId();\n        const userMessage = {\n            id: userMessageId,\n            role: \"user\",\n            content: message.content,\n            attachments: message.attachments ?? [],\n            createdAt: /* @__PURE__ */ new Date()\n        };\n        this.repository.addOrUpdateMessage(message.parentId, userMessage);\n        await this.startRun(userMessageId);\n    }\n    async startRun(parentId) {\n        this.repository.resetHead(parentId);\n        const id = generateId();\n        let message = {\n            id,\n            role: \"assistant\",\n            status: {\n                type: \"running\"\n            },\n            content: [],\n            createdAt: /* @__PURE__ */ new Date()\n        };\n        do {\n            message = await this.performRoundtrip(parentId, message);\n        }while (shouldContinue(message));\n    }\n    async performRoundtrip(parentId, message) {\n        const messages = this.repository.getMessages();\n        this.abortController?.abort();\n        this.abortController = new AbortController();\n        const initialContent = message.content;\n        const initialRoundtrips = message.metadata?.roundtrips;\n        const initalCustom = message.metadata?.custom;\n        const updateMessage = (m)=>{\n            message = {\n                ...message,\n                ...m.content ? {\n                    content: [\n                        ...initialContent,\n                        ...m.content ?? []\n                    ]\n                } : void 0,\n                status: m.status ?? message.status,\n                // TODO deprecated, remove in v0.6\n                ...m.metadata?.roundtrips ? {\n                    roundtrips: [\n                        ...initialRoundtrips ?? [],\n                        ...m.metadata.roundtrips\n                    ]\n                } : void 0,\n                ...m.metadata ? {\n                    metadata: {\n                        ...message.metadata,\n                        ...m.metadata.roundtrips ? {\n                            roundtrips: [\n                                ...initialRoundtrips ?? [],\n                                ...m.metadata.roundtrips\n                            ]\n                        } : void 0,\n                        ...m.metadata?.custom ? {\n                            custom: {\n                                ...initalCustom ?? {},\n                                ...m.metadata.custom\n                            }\n                        } : void 0\n                    }\n                } : void 0\n            };\n            this.repository.addOrUpdateMessage(parentId, message);\n            this.notifySubscribers();\n        };\n        const maxToolRoundtrips = this.options.maxToolRoundtrips ?? 1;\n        const toolRoundtrips = message.metadata?.roundtrips?.length ?? 0;\n        if (toolRoundtrips > maxToolRoundtrips) {\n            updateMessage({\n                status: {\n                    type: \"incomplete\",\n                    reason: \"tool-calls\"\n                }\n            });\n            return message;\n        } else {\n            updateMessage({\n                status: {\n                    type: \"running\"\n                }\n            });\n        }\n        try {\n            const promiseOrGenerator = this.adapter.run({\n                messages,\n                abortSignal: this.abortController.signal,\n                config: this.configProvider.getModelConfig(),\n                onUpdate: updateMessage\n            });\n            if (Symbol.asyncIterator in promiseOrGenerator) {\n                for await (const r of promiseOrGenerator){\n                    updateMessage(r);\n                }\n            } else {\n                updateMessage(await promiseOrGenerator);\n            }\n            this.abortController = null;\n            if (message.status.type === \"running\") {\n                updateMessage({\n                    status: {\n                        type: \"complete\",\n                        reason: \"unknown\"\n                    }\n                });\n            }\n        } catch (e) {\n            this.abortController = null;\n            if (e instanceof Error && e.name === \"AbortError\") {\n                updateMessage({\n                    status: {\n                        type: \"incomplete\",\n                        reason: \"cancelled\"\n                    }\n                });\n            } else {\n                updateMessage({\n                    status: {\n                        type: \"incomplete\",\n                        reason: \"error\",\n                        error: e\n                    }\n                });\n                throw e;\n            }\n        }\n        return message;\n    }\n    cancelRun() {\n        if (!this.abortController) return;\n        this.abortController.abort();\n        this.abortController = null;\n    }\n    notifySubscribers() {\n        for (const callback of this._subscriptions)callback();\n    }\n    subscribe(callback) {\n        this._subscriptions.add(callback);\n        return ()=>this._subscriptions.delete(callback);\n    }\n    addToolResult({ messageId, toolCallId, result }) {\n        let { parentId, message } = this.repository.getMessage(messageId);\n        if (message.role !== \"assistant\") throw new Error(\"Tried to add tool result to non-assistant message\");\n        let added = false;\n        let found = false;\n        const newContent = message.content.map((c)=>{\n            if (c.type !== \"tool-call\") return c;\n            if (c.toolCallId !== toolCallId) return c;\n            found = true;\n            if (!c.result) added = true;\n            return {\n                ...c,\n                result\n            };\n        });\n        if (!found) throw new Error(\"Tried to add tool result to non-existing tool call\");\n        message = {\n            ...message,\n            content: newContent\n        };\n        this.repository.addOrUpdateMessage(parentId, message);\n        if (added && shouldContinue(message)) {\n            this.performRoundtrip(parentId, message);\n        }\n    }\n    speak(messageId) {\n        const adapter = this.options.adapters?.speech;\n        if (!adapter) throw new Error(\"Speech adapter not configured\");\n        const { message } = this.repository.getMessage(messageId);\n        if (this._utterance) {\n            this._utterance.cancel();\n            this._utterance = void 0;\n        }\n        const utterance = adapter.speak(message);\n        utterance.onEnd(()=>{\n            if (this._utterance === utterance) {\n                this._utterance = void 0;\n            }\n        });\n        this._utterance = utterance;\n        return this._utterance;\n    }\n    export() {\n        return this.repository.export();\n    }\n    import(data) {\n        this.repository.import(data);\n        this.notifySubscribers();\n    }\n};\n// src/runtimes/local/LocalRuntime.tsx\nvar LocalRuntime = class extends BaseAssistantRuntime {\n    constructor(adapter, options){\n        const proxyConfigProvider = new ProxyConfigProvider();\n        super(new LocalThreadRuntime(proxyConfigProvider, adapter, options));\n        this._proxyConfigProvider = proxyConfigProvider;\n    }\n    set adapter(adapter) {\n        this.thread.adapter = adapter;\n    }\n    set options(options) {\n        this.thread.options = options;\n    }\n    registerModelConfigProvider(provider) {\n        return this._proxyConfigProvider.registerModelConfigProvider(provider);\n    }\n    switchToThread(threadId) {\n        if (threadId) {\n            throw new Error(\"LocalRuntime does not yet support switching threads\");\n        }\n        const { initialMessages, ...options } = this.thread.options;\n        return this.thread = new LocalThreadRuntime(this._proxyConfigProvider, this.thread.adapter, options);\n    }\n    reset({ initialMessages } = {}) {\n        this.switchToThread(null);\n        if (!initialMessages) return;\n        const messages = fromCoreMessages(initialMessages);\n        this.thread.import({\n            messages: messages.map((m, idx)=>({\n                    parentId: messages[idx - 1]?.id ?? null,\n                    message: m\n                }))\n        });\n    }\n};\n// src/runtimes/local/useLocalRuntime.tsx\nvar useLocalRuntime = (adapter, options = {})=>{\n    const [runtime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new LocalRuntime(adapter, options));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect)(()=>{\n        runtime.adapter = adapter;\n        runtime.options = options;\n    });\n    return runtime;\n};\n// src/runtimes/external-store/getExternalStoreMessage.tsx\nvar symbolInnerMessage = Symbol(\"innerMessage\");\nvar getExternalStoreMessage = (message)=>{\n    return message[symbolInnerMessage];\n};\n// src/runtimes/external-store/ThreadMessageConverter.ts\nvar ThreadMessageConverter = class {\n    convertMessages(messages, converter) {\n        return messages.map((m, idx)=>{\n            const cached = this.cache.get(m);\n            const newMessage = converter(cached, m, idx);\n            this.cache.set(m, newMessage);\n            return newMessage;\n        });\n    }\n    constructor(){\n        this.cache = /* @__PURE__ */ new WeakMap();\n    }\n};\n// src/runtimes/external-store/auto-status.tsx\nvar AUTO_STATUS_RUNNING = Object.freeze({\n    type: \"running\"\n});\nvar AUTO_STATUS_COMPLETE = Object.freeze({\n    type: \"complete\",\n    reason: \"unknown\"\n});\nvar isAutoStatus = (status)=>status === AUTO_STATUS_RUNNING || status === AUTO_STATUS_COMPLETE;\nvar getAutoStatus = (isLast, isRunning)=>isLast && isRunning ? AUTO_STATUS_RUNNING : AUTO_STATUS_COMPLETE;\n// src/runtimes/external-store/ThreadMessageLike.tsx\nvar fromThreadMessageLike = (like, fallbackId, fallbackStatus)=>{\n    const { role, id, createdAt, attachments, status } = like;\n    const common = {\n        id: id ?? fallbackId,\n        createdAt: createdAt ?? /* @__PURE__ */ new Date()\n    };\n    const content = typeof like.content === \"string\" ? [\n        {\n            type: \"text\",\n            text: like.content\n        }\n    ] : like.content;\n    if (role !== \"user\" && attachments) throw new Error(\"Attachments are only supported for user messages\");\n    switch(role){\n        case \"assistant\":\n            return {\n                ...common,\n                role,\n                content: content.map((part)=>{\n                    const type = part.type;\n                    switch(type){\n                        case \"text\":\n                            if (part.text.trim().length === 0) return null;\n                            return part;\n                        case \"ui\":\n                            return part;\n                        case \"tool-call\":\n                            {\n                                if (\"argsText\" in part) return part;\n                                return {\n                                    ...part,\n                                    argsText: JSON.stringify(part.args)\n                                };\n                            }\n                        default:\n                            {\n                                const unhandledType = type;\n                                throw new Error(`Unknown content part type: ${unhandledType}`);\n                            }\n                    }\n                }).filter((c)=>!!c),\n                status: status ?? fallbackStatus\n            };\n        case \"user\":\n            return {\n                ...common,\n                role,\n                content: content.map((part)=>{\n                    const type = part.type;\n                    switch(type){\n                        case \"text\":\n                        case \"ui\":\n                        case \"image\":\n                            return part;\n                        default:\n                            {\n                                const unhandledType = type;\n                                throw new Error(`Unknown content part type: ${unhandledType}`);\n                            }\n                    }\n                }),\n                attachments: attachments ?? []\n            };\n        case \"system\":\n            if (content.length !== 1 || content[0].type !== \"text\") throw new Error(\"System messages must have exactly one text content part.\");\n            return {\n                ...common,\n                role,\n                content\n            };\n        default:\n            {\n                const unsupportedRole = role;\n                throw new Error(`Unknown message role: ${unsupportedRole}`);\n            }\n    }\n};\n// src/utils/getThreadMessageText.tsx\nvar getThreadMessageText = (message)=>{\n    const textParts = message.content.filter((part)=>part.type === \"text\");\n    return textParts.map((part)=>part.text).join(\"\\n\\n\");\n};\n// src/runtimes/external-store/ExternalStoreThreadRuntime.tsx\nvar hasUpcomingMessage = (isRunning, messages)=>{\n    return isRunning && messages[messages.length - 1]?.role !== \"assistant\";\n};\nvar ExternalStoreThreadRuntime = class {\n    get capabilities() {\n        return this._capabilities;\n    }\n    constructor(store){\n        this._subscriptions = /* @__PURE__ */ new Set();\n        this.repository = new MessageRepository();\n        this.assistantOptimisticId = null;\n        this._capabilities = {\n            switchToBranch: false,\n            edit: false,\n            reload: false,\n            cancel: false,\n            unstable_copy: false,\n            speak: false,\n            attachments: false\n        };\n        this.converter = new ThreadMessageConverter();\n        this.composer = new ThreadRuntimeComposer(this, this.notifySubscribers.bind(this));\n        this.updateMessages = (messages)=>{\n            this._store.setMessages?.(messages.flatMap(getExternalStoreMessage).filter((m)=>m != null));\n        };\n        this.store = store;\n    }\n    get store() {\n        return this._store;\n    }\n    set store(store) {\n        if (this._store === store) return;\n        this.threadId = store.threadId ?? this.threadId ?? generateId();\n        const isRunning = store.isRunning ?? false;\n        this.isDisabled = store.isDisabled ?? false;\n        const oldStore = this._store;\n        this._store = store;\n        this._capabilities = {\n            switchToBranch: this._store.setMessages !== void 0,\n            edit: this._store.onEdit !== void 0,\n            reload: this._store.onReload !== void 0,\n            cancel: this._store.onCancel !== void 0,\n            speak: this._store.onSpeak !== void 0,\n            unstable_copy: this._store.unstable_capabilities?.copy !== false,\n            // default true\n            attachments: !!this.store.adapters?.attachments\n        };\n        this.composer.setAttachmentAdapter(this._store.adapters?.attachments);\n        if (oldStore) {\n            if (oldStore.convertMessage !== store.convertMessage) {\n                this.converter = new ThreadMessageConverter();\n            } else if (oldStore.isRunning === store.isRunning && oldStore.messages === store.messages) {\n                this.notifySubscribers();\n                return;\n            }\n        }\n        const messages = !store.convertMessage ? store.messages : this.converter.convertMessages(store.messages, (cache, m, idx)=>{\n            if (!store.convertMessage) return m;\n            const isLast = idx === store.messages.length - 1;\n            const autoStatus = getAutoStatus(isLast, isRunning);\n            if (cache && (cache.role !== \"assistant\" || !isAutoStatus(cache.status) || cache.status === autoStatus)) return cache;\n            const newMessage = fromThreadMessageLike(store.convertMessage(m, idx), idx.toString(), autoStatus);\n            newMessage[symbolInnerMessage] = m;\n            return newMessage;\n        });\n        for(let i = 0; i < messages.length; i++){\n            const message = messages[i];\n            const parent = messages[i - 1];\n            this.repository.addOrUpdateMessage(parent?.id ?? null, message);\n        }\n        if (this.assistantOptimisticId) {\n            this.repository.deleteMessage(this.assistantOptimisticId);\n            this.assistantOptimisticId = null;\n        }\n        if (hasUpcomingMessage(isRunning, messages)) {\n            this.assistantOptimisticId = this.repository.appendOptimisticMessage(messages.at(-1)?.id ?? null, {\n                role: \"assistant\",\n                content: []\n            });\n        }\n        this.repository.resetHead(this.assistantOptimisticId ?? messages.at(-1)?.id ?? null);\n        this.messages = this.repository.getMessages();\n        this.notifySubscribers();\n    }\n    notifySubscribers() {\n        for (const callback of this._subscriptions)callback();\n    }\n    getBranches(messageId) {\n        return this.repository.getBranches(messageId);\n    }\n    switchToBranch(branchId) {\n        if (!this._store.setMessages) throw new Error(\"Runtime does not support switching branches.\");\n        this.repository.switchToBranch(branchId);\n        this.updateMessages(this.repository.getMessages());\n    }\n    async append(message) {\n        if (message.parentId !== (this.messages.at(-1)?.id ?? null)) {\n            if (!this._store.onEdit) throw new Error(\"Runtime does not support editing messages.\");\n            await this._store.onEdit(message);\n        } else {\n            await this._store.onNew(message);\n        }\n    }\n    async startRun(parentId) {\n        if (!this._store.onReload) throw new Error(\"Runtime does not support reloading messages.\");\n        await this._store.onReload(parentId);\n    }\n    cancelRun() {\n        if (!this._store.onCancel) throw new Error(\"Runtime does not support cancelling runs.\");\n        this._store.onCancel();\n        if (this.assistantOptimisticId) {\n            this.repository.deleteMessage(this.assistantOptimisticId);\n            this.assistantOptimisticId = null;\n        }\n        let messages = this.repository.getMessages();\n        const previousMessage = messages[messages.length - 1];\n        if (previousMessage?.role === \"user\" && previousMessage.id === messages.at(-1)?.id) {\n            this.repository.deleteMessage(previousMessage.id);\n            if (!this.composer.text.trim()) {\n                this.composer.setText(getThreadMessageText(previousMessage));\n            }\n            messages = this.repository.getMessages();\n        } else {\n            this.notifySubscribers();\n        }\n        setTimeout(()=>{\n            this.updateMessages(messages);\n        }, 0);\n    }\n    addToolResult(options) {\n        if (!this._store.onAddToolResult) throw new Error(\"Runtime does not support tool results.\");\n        this._store.onAddToolResult(options);\n    }\n    speak(messageId) {\n        if (!this._store.onSpeak) throw new Error(\"Runtime does not support speaking.\");\n        const { message } = this.repository.getMessage(messageId);\n        return this._store.onSpeak(message);\n    }\n    subscribe(callback) {\n        this._subscriptions.add(callback);\n        return ()=>this._subscriptions.delete(callback);\n    }\n};\n// src/runtimes/external-store/ExternalStoreRuntime.tsx\nvar ExternalStoreRuntime = class extends BaseAssistantRuntime {\n    constructor(store){\n        super(new ExternalStoreThreadRuntime(store));\n        this._proxyConfigProvider = new ProxyConfigProvider();\n    }\n    get store() {\n        return this.thread.store;\n    }\n    set store(store) {\n        this.thread.store = store;\n    }\n    getModelConfig() {\n        return this._proxyConfigProvider.getModelConfig();\n    }\n    registerModelConfigProvider(provider) {\n        return this._proxyConfigProvider.registerModelConfigProvider(provider);\n    }\n    async switchToThread(threadId) {\n        if (threadId) {\n            if (!this.store.onSwitchThread) throw new Error(\"Runtime does not support switching threads.\");\n            this.thread = new ExternalStoreThreadRuntime({\n                messages: [],\n                onNew: this.store.onNew\n            });\n            this.store.onSwitchThread(threadId);\n        } else {\n            if (!this.store.onNewThread) throw new Error(\"Runtime does not support switching to new threads.\");\n            this.thread = new ExternalStoreThreadRuntime({\n                messages: [],\n                onNew: this.store.onNew\n            });\n            await this.store.onNewThread();\n        }\n    }\n};\n// src/runtimes/external-store/useExternalStoreRuntime.tsx\n\nvar useExternalStoreRuntime = (store)=>{\n    const [runtime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new ExternalStoreRuntime(store));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        runtime.store = store;\n    });\n    return runtime;\n};\n// src/runtimes/external-store/external-message-converter.tsx\n\nvar joinExternalMessages = (messages)=>{\n    const assistantMessage = {\n        role: \"assistant\",\n        content: []\n    };\n    for (const output of messages){\n        if (output.role === \"tool\") {\n            const toolCallIdx = assistantMessage.content.findIndex((c)=>c.type === \"tool-call\" && c.toolCallId === output.toolCallId);\n            if (toolCallIdx !== -1) {\n                const toolCall = assistantMessage.content[toolCallIdx];\n                if (output.toolName) {\n                    if (toolCall.toolName !== output.toolName) throw new Error(`Tool call name ${output.toolCallId} ${output.toolName} does not match existing tool call ${toolCall.toolName}`);\n                }\n                assistantMessage.content[toolCallIdx] = {\n                    ...toolCall,\n                    result: output.result\n                };\n            } else {\n                throw new Error(`Tool call ${output.toolCallId} ${output.toolName} not found in assistant message`);\n            }\n        } else {\n            const content = output.content;\n            const role = output.role;\n            switch(role){\n                case \"system\":\n                case \"user\":\n                    return {\n                        role,\n                        content\n                    };\n                case \"assistant\":\n                    if (assistantMessage.content.length === 0) {\n                        assistantMessage.id = output.id;\n                        assistantMessage.createdAt ??= output.createdAt;\n                        assistantMessage.status ??= output.status;\n                    }\n                    assistantMessage.content.push(...content);\n                    break;\n                default:\n                    {\n                        const unsupportedRole = role;\n                        throw new Error(`Unknown message role: ${unsupportedRole}`);\n                    }\n            }\n        }\n    }\n    return assistantMessage;\n};\nvar chunkExternalMessages = (callbackResults)=>{\n    const results = [];\n    let isAssistant = false;\n    let inputs = [];\n    let outputs = [];\n    const flush = ()=>{\n        if (outputs.length) {\n            results.push({\n                inputs,\n                outputs\n            });\n        }\n        inputs = [];\n        outputs = [];\n    };\n    for (const callbackResult of callbackResults){\n        for (const output of callbackResult.outputs){\n            if (!isAssistant || output.role === \"user\" || output.role === \"system\") {\n                flush();\n            }\n            isAssistant = output.role === \"assistant\" || output.role === \"tool\";\n            if (inputs.at(-1) !== callbackResult.input) {\n                inputs.push(callbackResult.input);\n            }\n            outputs.push(output);\n        }\n    }\n    flush();\n    return results;\n};\nvar useExternalMessageConverter = ({ callback, messages, isRunning })=>{\n    const state = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            callback,\n            callbackCache: /* @__PURE__ */ new WeakMap(),\n            chunkCache: /* @__PURE__ */ new WeakMap(),\n            converterCache: new ThreadMessageConverter()\n        }), [\n        callback\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        const callbackResults = [];\n        for (const message of messages){\n            let result = state.callbackCache.get(message);\n            if (!result) {\n                const output = state.callback(message);\n                const outputs = Array.isArray(output) ? output : [\n                    output\n                ];\n                result = {\n                    input: message,\n                    outputs\n                };\n                state.callbackCache.set(message, result);\n            }\n            callbackResults.push(result);\n        }\n        const chunks = chunkExternalMessages(callbackResults).map((m)=>{\n            const key = m.outputs[0];\n            if (!key) return m;\n            const cached = state.chunkCache.get(key);\n            if (cached && shallowArrayEqual(cached.outputs, m.outputs)) return cached;\n            state.chunkCache.set(key, m);\n            return m;\n        });\n        return state.converterCache.convertMessages(chunks, (cache, message, idx)=>{\n            const isLast = idx === chunks.length - 1;\n            const autoStatus = getAutoStatus(isLast, isRunning);\n            if (cache && (cache.role !== \"assistant\" || !isAutoStatus(cache.status) || cache.status === autoStatus)) {\n                const inputs = getExternalStoreMessage(cache);\n                if (shallowArrayEqual(inputs, message.inputs)) {\n                    return cache;\n                }\n            }\n            const newMessage = fromThreadMessageLike(joinExternalMessages(message.outputs), idx.toString(), autoStatus);\n            newMessage[symbolInnerMessage] = message.inputs;\n            return newMessage;\n        });\n    }, [\n        state,\n        messages,\n        isRunning\n    ]);\n};\nvar shallowArrayEqual = (a, b)=>{\n    if (a.length !== b.length) return false;\n    for(let i = 0; i < a.length; i++){\n        if (a[i] !== b[i]) return false;\n    }\n    return true;\n};\n// src/runtimes/dangerous-in-browser/useDangerousInBrowserRuntime.ts\n\n// src/runtimes/dangerous-in-browser/DangerousInBrowserAdapter.ts\nvar DangerousInBrowserAdapter = class {\n    constructor(options){\n        this.options = options;\n    }\n    async *run({ messages, abortSignal, config }) {\n        const res = await (0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.getEdgeRuntimeStream)({\n            options: this.options,\n            abortSignal,\n            requestData: {\n                system: config.system,\n                messages: (0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toCoreMessages)(messages),\n                tools: config.tools ? (0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toLanguageModelTools)(config.tools) : [],\n                ...config.callSettings,\n                ...config.config\n            }\n        });\n        const stream = res.pipeThrough((0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.toolResultStream)(config.tools, abortSignal)).pipeThrough((0,_chunk_ZQNZLTZL_mjs__WEBPACK_IMPORTED_MODULE_1__.runResultStream)());\n        for await (const update of asAsyncIterable(stream)){\n            yield update;\n        }\n    }\n};\n// src/runtimes/dangerous-in-browser/useDangerousInBrowserRuntime.ts\nvar useDangerousInBrowserRuntime = ({ initialMessages, ...options })=>{\n    const [adapter] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new DangerousInBrowserAdapter(options));\n    return useLocalRuntime(adapter, {\n        initialMessages\n    });\n};\n// src/runtimes/speech/WebSpeechSynthesisAdapter.ts\nvar WebSpeechSynthesisAdapter = class {\n    speak(message) {\n        const text = getThreadMessageText(message);\n        const utterance = new SpeechSynthesisUtterance(text);\n        const endHandlers = /* @__PURE__ */ new Set();\n        const handleEnd = (reason, error)=>{\n            if (res.status.type === \"ended\") return;\n            res.status = {\n                type: \"ended\",\n                reason,\n                error\n            };\n            endHandlers.forEach((handler)=>handler());\n        };\n        utterance.addEventListener(\"end\", ()=>handleEnd(\"finished\"));\n        utterance.addEventListener(\"error\", (e)=>handleEnd(\"error\", e.error));\n        window.speechSynthesis.speak(utterance);\n        const res = {\n            status: {\n                type: \"running\"\n            },\n            cancel: ()=>{\n                window.speechSynthesis.cancel();\n                handleEnd(\"cancelled\");\n            },\n            onEnd: (callback)=>{\n                if (res.status.type === \"ended\") {\n                    let cancelled = false;\n                    queueMicrotask(()=>{\n                        if (!cancelled) callback();\n                    });\n                    return ()=>{\n                        cancelled = true;\n                    };\n                } else {\n                    endHandlers.add(callback);\n                    return ()=>{\n                        endHandlers.delete(callback);\n                    };\n                }\n            }\n        };\n        return res;\n    }\n};\n// src/runtimes/attachment/SimpleImageAttachmentAdapter.ts\nvar SimpleImageAttachmentAdapter = class {\n    async add(state) {\n        return {\n            id: state.file.name,\n            type: \"image\",\n            name: state.file.name,\n            file: state.file\n        };\n    }\n    async send(attachment) {\n        return {\n            ...attachment,\n            content: [\n                {\n                    type: \"image\",\n                    image: await getFileDataURL(attachment.file)\n                }\n            ]\n        };\n    }\n    async remove() {}\n    constructor(){\n        this.accept = \"image/*\";\n    }\n};\nvar getFileDataURL = (file)=>new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = ()=>resolve(reader.result);\n        reader.onerror = (error)=>reject(error);\n        reader.readAsDataURL(file);\n    });\n// src/runtimes/attachment/SimpleTextAttachmentAdapter.ts\nvar SimpleTextAttachmentAdapter = class {\n    async add(state) {\n        return {\n            id: state.file.name,\n            type: \"document\",\n            name: state.file.name,\n            file: state.file\n        };\n    }\n    async send(attachment) {\n        return {\n            ...attachment,\n            content: [\n                {\n                    type: \"text\",\n                    text: `<attachment name=${attachment.name}>\n${await getFileText(attachment.file)}\n</attachment>`\n                }\n            ]\n        };\n    }\n    async remove() {}\n    constructor(){\n        this.accept = \"text/plain,text/html,text/markdown,text/csv,text/xml,text/json,text/css\";\n    }\n};\nvar getFileText = (file)=>new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = ()=>resolve(reader.result);\n        reader.onerror = (error)=>reject(error);\n        reader.readAsText(file);\n    });\n// src/runtimes/attachment/CompositeAttachmentAdapter.ts\nfunction fileMatchesAccept(file, acceptString) {\n    if (acceptString === \"*\") {\n        return true;\n    }\n    const allowedTypes = acceptString.split(\",\").map((type)=>type.trim().toLowerCase());\n    const fileExtension = \".\" + file.name.split(\".\").pop().toLowerCase();\n    const fileMimeType = file.type.toLowerCase();\n    for (const type of allowedTypes){\n        if (type.startsWith(\".\") && type === fileExtension) {\n            return true;\n        }\n        if (type.includes(\"/\") && type === fileMimeType) {\n            return true;\n        }\n        if (type === \"image/*\" || type === \"video/*\" || type === \"audio/*\") {\n            if (type.endsWith(\"/*\")) {\n                const generalType = type.split(\"/\")[0];\n                if (fileMimeType.startsWith(generalType + \"/\")) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\nvar CompositeAttachmentAdapter = class {\n    constructor(adapters){\n        this._adapters = adapters;\n        const wildcardIdx = adapters.findIndex((a)=>a.accept === \"*\");\n        if (wildcardIdx !== -1) {\n            if (wildcardIdx !== adapters.length - 1) throw new Error(\"A wildcard adapter (handling all files) can only be specified as the last adapter.\");\n            this.accept = \"*\";\n        } else {\n            this.accept = adapters.map((a)=>a.accept).join(\",\");\n        }\n    }\n    async add(state) {\n        for (const adapter of this._adapters){\n            if (fileMatchesAccept(state.file, adapter.accept)) {\n                return adapter.add(state);\n            }\n        }\n        throw new Error(\"No matching adapter found for file\");\n    }\n    async send(attachment) {\n        const adapters = this._adapters.slice();\n        for (const adapter of adapters){\n            if (fileMatchesAccept(attachment.file, adapter.accept)) {\n                return adapter.send(attachment);\n            }\n        }\n        throw new Error(\"No matching adapter found for attachment\");\n    }\n    async remove(attachment) {\n        const adapters = this._adapters.slice();\n        for (const adapter of adapters){\n            if (fileMatchesAccept(attachment.file, adapter.accept)) {\n                return adapter.remove(attachment);\n            }\n        }\n        throw new Error(\"No matching adapter found for attachment\");\n    }\n};\n// src/context/ReadonlyStore.ts\nvar writableStore = (store)=>{\n    return store;\n};\n// src/context/providers/ThreadProvider.tsx\n\nvar ThreadProvider = ({ children, provider })=>{\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const useThreadRuntime = makeThreadRuntimeStore(provider.thread);\n        const useThread = makeThreadStore(useThreadRuntime);\n        const useThreadMessages = makeThreadMessagesStore(useThreadRuntime);\n        const useThreadActions = makeThreadActionStore(useThreadRuntime);\n        const useViewport = makeThreadViewportStore();\n        const useComposer = makeComposerStore(useThreadRuntime);\n        return {\n            useThread,\n            useThreadRuntime,\n            useThreadMessages,\n            useThreadActions,\n            useComposer,\n            useViewport\n        };\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const onThreadUpdate = ()=>{\n            const thread = provider.thread;\n            const oldState = context.useThread.getState();\n            const state = getThreadStateFromRuntime(thread);\n            if (oldState.threadId !== state.threadId || oldState.isDisabled !== state.isDisabled || oldState.isRunning !== state.isRunning || // TODO ensure capabilities is memoized\n            oldState.capabilities !== state.capabilities) {\n                writableStore(context.useThread).setState(state, true);\n            }\n            if (thread.messages !== context.useThreadMessages.getState()) {\n                writableStore(context.useThreadMessages).setState(thread.messages, true);\n            }\n            const composerState = context.useComposer.getState();\n            if (thread.composer.isEmpty !== composerState.isEmpty || thread.composer.text !== composerState.text || thread.composer.attachments !== composerState.attachments || state.capabilities.cancel !== composerState.canCancel) {\n                writableStore(context.useComposer).setState({\n                    isEmpty: thread.composer.isEmpty,\n                    text: thread.composer.text,\n                    attachments: thread.composer.attachments,\n                    canCancel: state.capabilities.cancel\n                });\n            }\n        };\n        onThreadUpdate();\n        return subscribeToMainThread(provider, onThreadUpdate);\n    }, [\n        provider,\n        context\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect)(()=>provider.subscribe(()=>{\n            writableStore(context.useThreadRuntime).setState(provider.thread, true);\n        }), [\n        provider,\n        context\n    ]);\n    const Synchronizer = context.useThreadRuntime((t)=>t.unstable_synchronizer);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(ThreadContext.Provider, {\n        value: context,\n        children: [\n            Synchronizer && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Synchronizer, {}),\n            children\n        ]\n    });\n};\n// src/context/stores/AssistantActions.tsx\n\nvar makeAssistantActionsStore = (runtimeRef)=>(0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>Object.freeze({\n            switchToThread: ()=>runtimeRef.current.switchToThread(null),\n            getRuntime: ()=>runtimeRef.current\n        }));\n// src/context/stores/AssistantRuntime.tsx\n\nvar makeAssistantRuntimeStore = (runtime)=>{\n    return (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>runtime);\n};\n// src/context/providers/AssistantProvider.tsx\n\nvar AssistantProvider = ({ children, runtime })=>{\n    const runtimeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(runtime);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect)(()=>{\n        runtimeRef.current = runtime;\n    });\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const useAssistantRuntime = makeAssistantRuntimeStore(runtime);\n        const useModelConfig = makeAssistantModelConfigStore();\n        const useToolUIs = makeAssistantToolUIsStore();\n        const useAssistantActions = makeAssistantActionsStore(runtimeRef);\n        return {\n            useModelConfig,\n            useToolUIs,\n            useAssistantRuntime,\n            useAssistantActions\n        };\n    });\n    const getModelConfig = context.useModelConfig();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return runtime.registerModelConfigProvider(getModelConfig);\n    }, [\n        runtime,\n        getModelConfig\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>writableStore(context.useAssistantRuntime).setState(runtime, true), [\n        runtime,\n        context\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantContext.Provider, {\n        value: context,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadProvider, {\n            provider: runtime,\n            children\n        })\n    });\n};\n// src/context/providers/AssistantRuntimeProvider.tsx\n\nvar AssistantRuntimeProviderImpl = ({ children, runtime })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantProvider, {\n        runtime,\n        children\n    });\n};\nvar AssistantRuntimeProvider = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(AssistantRuntimeProviderImpl);\n// src/context/react/ComposerContext.ts\n\n// src/context/react/MessageContext.ts\n\nvar MessageContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useMessageContext(options) {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessageContext);\n    if (!options?.optional && !context) throw new Error(\"This component can only be used inside a component passed to <ThreadPrimitive.Messages components={...} />.\");\n    return context;\n}\n// src/context/react/ComposerContext.ts\nvar useComposerContext = ()=>{\n    const { useComposer } = useThreadContext();\n    const { useEditComposer } = useMessageContext({\n        optional: true\n    }) ?? {};\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            useComposer: useEditComposer ?? useComposer,\n            type: useEditComposer ? \"edit\" : \"new\"\n        }), [\n        useEditComposer,\n        useComposer\n    ]);\n};\n// src/context/react/ContentPartContext.ts\n\nvar ContentPartContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useContentPartContext(options) {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ContentPartContext);\n    if (!options?.optional && !context) throw new Error(\"This component can only be used inside a component passed to <MessagePrimitive.Content components={...} >.\");\n    return context;\n}\n// src/hooks/useAppendMessage.tsx\n\nvar toAppendMessage = (useThreadMessages, message)=>{\n    if (typeof message === \"string\") {\n        return {\n            parentId: useThreadMessages.getState().at(-1)?.id ?? null,\n            role: \"user\",\n            content: [\n                {\n                    type: \"text\",\n                    text: message\n                }\n            ],\n            attachments: []\n        };\n    }\n    return {\n        parentId: message.parentId ?? useThreadMessages.getState().at(-1)?.id ?? null,\n        role: message.role ?? \"user\",\n        content: message.content,\n        attachments: message.attachments ?? []\n    };\n};\nvar useAppendMessage = ()=>{\n    const { useThreadMessages, useThreadActions, useViewport, useComposer } = useThreadContext();\n    const append = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((message)=>{\n        const appendMessage = toAppendMessage(useThreadMessages, message);\n        useThreadActions.getState().append(appendMessage);\n        useViewport.getState().scrollToBottom();\n        useComposer.getState().focus();\n    }, [\n        useThreadMessages,\n        useThreadActions,\n        useViewport,\n        useComposer\n    ]);\n    return append;\n};\n// src/hooks/useSwitchToNewThread.tsx\n\nvar useSwitchToNewThread = ()=>{\n    const { useAssistantActions } = useAssistantContext();\n    const { useComposer } = useThreadContext();\n    const switchToNewThread = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        useAssistantActions.getState().switchToThread(null);\n        useComposer.getState().focus();\n    }, [\n        useAssistantActions,\n        useComposer\n    ]);\n    return switchToNewThread;\n};\n// src/model-config/useAssistantTool.tsx\n\nvar useAssistantTool = (tool)=>{\n    const { useModelConfig, useToolUIs } = useAssistantContext();\n    const registerModelConfigProvider = useModelConfig((s)=>s.registerModelConfigProvider);\n    const setToolUI = useToolUIs((s)=>s.setToolUI);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const { toolName, render, ...rest } = tool;\n        const config = {\n            tools: {\n                [tool.toolName]: rest\n            }\n        };\n        const unsub1 = registerModelConfigProvider({\n            getModelConfig: ()=>config\n        });\n        const unsub2 = render ? setToolUI(toolName, render) : void 0;\n        return ()=>{\n            unsub1();\n            unsub2?.();\n        };\n    }, [\n        registerModelConfigProvider,\n        setToolUI,\n        tool\n    ]);\n};\n// src/model-config/makeAssistantTool.tsx\nvar makeAssistantTool = (tool)=>{\n    const Tool = ()=>{\n        useAssistantTool(tool);\n        return null;\n    };\n    Tool.unstable_tool = tool;\n    return Tool;\n};\n// src/model-config/useAssistantToolUI.tsx\n\nvar useAssistantToolUI = (tool)=>{\n    const { useToolUIs } = useAssistantContext();\n    const setToolUI = useToolUIs((s)=>s.setToolUI);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!tool) return;\n        const { toolName, render } = tool;\n        return setToolUI(toolName, render);\n    }, [\n        setToolUI,\n        tool\n    ]);\n};\n// src/model-config/makeAssistantToolUI.tsx\nvar makeAssistantToolUI = (tool)=>{\n    const ToolUI = ()=>{\n        useAssistantToolUI(tool);\n        return null;\n    };\n    ToolUI.unstable_tool = tool;\n    return ToolUI;\n};\n// src/model-config/useAssistantInstructions.tsx\n\nvar useAssistantInstructions = (instruction)=>{\n    const { useModelConfig } = useAssistantContext();\n    const registerModelConfigProvider = useModelConfig((s)=>s.registerModelConfigProvider);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const config = {\n            system: instruction\n        };\n        return registerModelConfigProvider({\n            getModelConfig: ()=>config\n        });\n    }, [\n        registerModelConfigProvider,\n        instruction\n    ]);\n};\n// src/primitive-hooks/actionBar/useActionBarCopy.tsx\n\n// src/utils/combined/useCombinedStore.ts\n\n// src/utils/combined/createCombinedStore.ts\n\nvar createCombinedStore = (stores)=>{\n    const subscribe = (callback)=>{\n        const unsubscribes = stores.map((store)=>store.subscribe(callback));\n        return ()=>{\n            for (const unsub of unsubscribes){\n                unsub();\n            }\n        };\n    };\n    return (selector)=>{\n        const getSnapshot = ()=>selector(...stores.map((store)=>store.getState()));\n        return (0,react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore)(subscribe, getSnapshot, getSnapshot);\n    };\n};\n// src/utils/combined/useCombinedStore.ts\nvar useCombinedStore = (stores, selector)=>{\n    const useCombined = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>createCombinedStore(stores), stores);\n    return useCombined(selector);\n};\n// src/primitive-hooks/actionBar/useActionBarCopy.tsx\nvar useActionBarCopy = ({ copiedDuration = 3e3 } = {})=>{\n    const { useMessage, useMessageUtils, useEditComposer } = useMessageContext();\n    const hasCopyableContent = useCombinedStore([\n        useMessage,\n        useEditComposer\n    ], ({ message }, c)=>{\n        return !c.isEditing && (message.role !== \"assistant\" || message.status.type !== \"running\") && message.content.some((c2)=>c2.type === \"text\" && c2.text.length > 0);\n    });\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const { message } = useMessage.getState();\n        const { setIsCopied } = useMessageUtils.getState();\n        const { isEditing, text: composerValue } = useEditComposer.getState();\n        const valueToCopy = isEditing ? composerValue : getThreadMessageText(message);\n        navigator.clipboard.writeText(valueToCopy).then(()=>{\n            setIsCopied(true);\n            setTimeout(()=>setIsCopied(false), copiedDuration);\n        });\n    }, [\n        useMessage,\n        useMessageUtils,\n        useEditComposer,\n        copiedDuration\n    ]);\n    if (!hasCopyableContent) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarEdit.tsx\n\nvar useActionBarEdit = ()=>{\n    const { useMessage, useEditComposer } = useMessageContext();\n    const disabled = useCombinedStore([\n        useMessage,\n        useEditComposer\n    ], (m, c)=>m.message.role !== \"user\" || c.isEditing);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const { edit } = useEditComposer.getState();\n        edit();\n    }, [\n        useEditComposer\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarReload.tsx\n\nvar useActionBarReload = ()=>{\n    const { useThread, useThreadActions, useComposer, useViewport } = useThreadContext();\n    const { useMessage } = useMessageContext();\n    const disabled = useCombinedStore([\n        useThread,\n        useMessage\n    ], (t, m)=>t.isRunning || t.isDisabled || m.message.role !== \"assistant\");\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const { parentId } = useMessage.getState();\n        useThreadActions.getState().startRun(parentId);\n        useViewport.getState().scrollToBottom();\n        useComposer.getState().focus();\n    }, [\n        useThreadActions,\n        useComposer,\n        useViewport,\n        useMessage\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarSpeak.tsx\n\nvar useActionBarSpeak = ()=>{\n    const { useThreadActions } = useThreadContext();\n    const { useMessage, useEditComposer, useMessageUtils } = useMessageContext();\n    const hasSpeakableContent = useCombinedStore([\n        useMessage,\n        useEditComposer\n    ], ({ message }, c)=>{\n        return !c.isEditing && (message.role !== \"assistant\" || message.status.type !== \"running\") && message.content.some((c2)=>c2.type === \"text\" && c2.text.length > 0);\n    });\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        const { message } = useMessage.getState();\n        const utt = useThreadActions.getState().speak(message.id);\n        useMessageUtils.getState().addUtterance(utt);\n    }, [\n        useThreadActions,\n        useMessage,\n        useMessageUtils\n    ]);\n    if (!hasSpeakableContent) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarStopSpeaking.tsx\n\nvar useActionBarStopSpeaking = ()=>{\n    const { useMessageUtils } = useMessageContext();\n    const isSpeaking = useMessageUtils((u)=>u.isSpeaking);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        useMessageUtils.getState().stopSpeaking();\n    }, [\n        useMessageUtils\n    ]);\n    if (!isSpeaking) return null;\n    return callback;\n};\n// src/primitive-hooks/branchPicker/useBranchPickerCount.tsx\nvar useBranchPickerCount = ()=>{\n    const { useMessage } = useMessageContext();\n    const branchCount = useMessage((s)=>s.branches.length);\n    return branchCount;\n};\n// src/primitive-hooks/branchPicker/useBranchPickerNext.tsx\n\nvar useBranchPickerNext = ()=>{\n    const { useThreadActions } = useThreadContext();\n    const { useMessage, useEditComposer } = useMessageContext();\n    const disabled = useCombinedStore([\n        useMessage,\n        useEditComposer\n    ], (m, c)=>c.isEditing || m.branches.indexOf(m.message.id) + 1 >= m.branches.length);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const { message, branches } = useMessage.getState();\n        useThreadActions.getState().switchToBranch(branches[branches.indexOf(message.id) + 1]);\n    }, [\n        useThreadActions,\n        useMessage\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/branchPicker/useBranchPickerNumber.tsx\nvar useBranchPickerNumber = ()=>{\n    const { useMessage } = useMessageContext();\n    const branchIdx = useMessage((s)=>s.branches.indexOf(s.message.id));\n    return branchIdx + 1;\n};\n// src/primitive-hooks/branchPicker/useBranchPickerPrevious.tsx\n\nvar useBranchPickerPrevious = ()=>{\n    const { useThreadActions } = useThreadContext();\n    const { useMessage, useEditComposer } = useMessageContext();\n    const disabled = useCombinedStore([\n        useMessage,\n        useEditComposer\n    ], (m, c)=>c.isEditing || m.branches.indexOf(m.message.id) <= 0);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const { message, branches } = useMessage.getState();\n        useThreadActions.getState().switchToBranch(branches[branches.indexOf(message.id) - 1]);\n    }, [\n        useThreadActions,\n        useMessage\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/composer/useComposerCancel.tsx\n\nvar useComposerCancel = ()=>{\n    const { useComposer } = useComposerContext();\n    const disabled = useComposer((c)=>!c.canCancel);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const { cancel } = useComposer.getState();\n        cancel();\n    }, [\n        useComposer\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/composer/useComposerIf.tsx\nvar useComposerIf = (props)=>{\n    const { useComposer } = useComposerContext();\n    return useComposer((composer)=>{\n        if (props.editing === true && !composer.isEditing) return false;\n        if (props.editing === false && composer.isEditing) return false;\n        return true;\n    });\n};\n// src/primitive-hooks/composer/useComposerSend.tsx\n\nvar useComposerSend = ()=>{\n    const { useThread, useViewport, useComposer: useNewComposer } = useThreadContext();\n    const { useComposer } = useComposerContext();\n    const disabled = useCombinedStore([\n        useThread,\n        useComposer\n    ], (t, c)=>t.isRunning || !c.isEditing || c.isEmpty);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const composerState = useComposer.getState();\n        if (!composerState.isEditing) return;\n        composerState.send();\n        useViewport.getState().scrollToBottom();\n        useNewComposer.getState().focus();\n    }, [\n        useNewComposer,\n        useComposer,\n        useViewport\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/composer/useComposerAddAttachment.tsx\n\nvar useComposerAddAttachment = ()=>{\n    const { useComposer, useThreadRuntime } = useThreadContext();\n    const disabled = useComposer((c)=>!c.isEditing);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const { addAttachment } = useComposer.getState();\n        const { attachmentAccept } = useThreadRuntime.getState().composer;\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        if (attachmentAccept !== \"*\") {\n            input.accept = attachmentAccept;\n        }\n        input.onchange = (e)=>{\n            const file = e.target.files?.[0];\n            if (!file) return;\n            addAttachment(file);\n        };\n        input.click();\n    }, [\n        useComposer,\n        useThreadRuntime\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/contentPart/useContentPartDisplay.tsx\nvar useContentPartDisplay = ()=>{\n    const { useContentPart } = useContentPartContext();\n    const display = useContentPart((c)=>{\n        if (c.part.type !== \"ui\") throw new Error(\"This component can only be used inside ui content parts.\");\n        return c;\n    });\n    return display;\n};\n// src/primitive-hooks/contentPart/useContentPartImage.tsx\nvar useContentPartImage = ()=>{\n    const { useContentPart } = useContentPartContext();\n    const image = useContentPart((c)=>{\n        if (c.part.type !== \"image\") throw new Error(\"ContentPartImage can only be used inside image content parts.\");\n        return c;\n    });\n    return image;\n};\n// src/primitive-hooks/contentPart/useContentPartText.tsx\nvar useContentPartText = ()=>{\n    const { useContentPart } = useContentPartContext();\n    const text = useContentPart((c)=>{\n        if (c.part.type !== \"text\") throw new Error(\"ContentPartText can only be used inside text content parts.\");\n        return c;\n    });\n    return text;\n};\n// src/primitive-hooks/message/useMessageIf.tsx\nvar useMessageIf = (props)=>{\n    const { useMessage, useMessageUtils } = useMessageContext();\n    return useCombinedStore([\n        useMessage,\n        useMessageUtils\n    ], ({ message, branches, isLast }, { isCopied, isHovering, isSpeaking })=>{\n        if (props.hasBranches === true && branches.length < 2) return false;\n        if (props.user && message.role !== \"user\") return false;\n        if (props.assistant && message.role !== \"assistant\") return false;\n        if (props.system && message.role !== \"system\") return false;\n        if (props.lastOrHover === true && !isHovering && !isLast) return false;\n        if (props.copied === true && !isCopied) return false;\n        if (props.copied === false && isCopied) return false;\n        if (props.speaking === true && !isSpeaking) return false;\n        if (props.speaking === false && isSpeaking) return false;\n        if (props.hasAttachments === true && (message.role !== \"user\" || !message.attachments.length)) return false;\n        if (props.hasAttachments === false && message.role === \"user\" && !!message.attachments.length) return false;\n        return true;\n    });\n};\n// src/primitive-hooks/thread/useThreadIf.tsx\nvar useThreadIf = (props)=>{\n    const { useThread, useThreadMessages } = useThreadContext();\n    return useCombinedStore([\n        useThread,\n        useThreadMessages\n    ], (thread, messages)=>{\n        if (props.empty === true && messages.length !== 0) return false;\n        if (props.empty === false && messages.length === 0) return false;\n        if (props.running === true && !thread.isRunning) return false;\n        if (props.running === false && thread.isRunning) return false;\n        if (props.disabled === true && thread.isDisabled) return false;\n        if (props.disabled === false && thread.isDisabled) return false;\n        return true;\n    });\n};\n// src/primitive-hooks/thread/useThreadEmpty.tsx\nvar useThreadEmpty = ()=>{\n    return useThreadIf({\n        empty: true\n    });\n};\n// src/primitive-hooks/thread/useThreadScrollToBottom.tsx\n\nvar useThreadScrollToBottom = ()=>{\n    const { useComposer, useViewport } = useThreadContext();\n    const isAtBottom = useViewport((s)=>s.isAtBottom);\n    const handleScrollToBottom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        useViewport.getState().scrollToBottom();\n        useComposer.getState().focus();\n    }, [\n        useViewport,\n        useComposer\n    ]);\n    if (isAtBottom) return null;\n    return handleScrollToBottom;\n};\n// src/primitive-hooks/thread/useThreadSuggestion.tsx\n\nvar useThreadSuggestion = ({ prompt, autoSend })=>{\n    const { useThread, useComposer } = useThreadContext();\n    const append = useAppendMessage();\n    const disabled = useThread((t)=>t.isDisabled);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const thread = useThread.getState();\n        const composer = useComposer.getState();\n        if (autoSend && !thread.isRunning) {\n            append(prompt);\n            composer.setText(\"\");\n        } else {\n            composer.setText(prompt);\n        }\n    }, [\n        useThread,\n        useComposer,\n        autoSend,\n        append,\n        prompt\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitives/actionBar/index.ts\nvar actionBar_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(actionBar_exports, {\n    Copy: ()=>ActionBarPrimitiveCopy,\n    Edit: ()=>ActionBarPrimitiveEdit,\n    Reload: ()=>ActionBarPrimitiveReload,\n    Root: ()=>ActionBarPrimitiveRoot,\n    Speak: ()=>ActionBarPrimitiveSpeak,\n    StopSpeaking: ()=>ActionBarPrimitiveStopSpeaking\n});\n// src/primitives/actionBar/ActionBarRoot.tsx\n\n\n// src/primitives/actionBar/useActionBarFloatStatus.tsx\nvar useActionBarFloatStatus = ({ hideWhenRunning, autohide, autohideFloat })=>{\n    const { useThread } = useThreadContext();\n    const { useMessage, useMessageUtils } = useMessageContext();\n    return useCombinedStore([\n        useThread,\n        useMessage,\n        useMessageUtils\n    ], (t, m, mu)=>{\n        if (hideWhenRunning && t.isRunning) return \"hidden\" /* Hidden */ ;\n        const autohideEnabled = autohide === \"always\" || autohide === \"not-last\" && !m.isLast;\n        if (!autohideEnabled) return \"normal\" /* Normal */ ;\n        if (!mu.isHovering) return \"hidden\" /* Hidden */ ;\n        if (autohideFloat === \"always\" || autohideFloat === \"single-branch\" && m.branches.length <= 1) return \"floating\" /* Floating */ ;\n        return \"normal\" /* Normal */ ;\n    });\n};\n// src/primitives/actionBar/ActionBarRoot.tsx\n\nvar ActionBarPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ hideWhenRunning, autohide, autohideFloat, ...rest }, ref)=>{\n    const hideAndfloatStatus = useActionBarFloatStatus({\n        hideWhenRunning,\n        autohide,\n        autohideFloat\n    });\n    if (hideAndfloatStatus === \"hidden\" /* Hidden */ ) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.div, {\n        ...hideAndfloatStatus === \"floating\" /* Floating */  ? {\n            \"data-floating\": \"true\"\n        } : null,\n        ...rest,\n        ref\n    });\n});\nActionBarPrimitiveRoot.displayName = \"ActionBarPrimitive.Root\";\n// src/utils/createActionButton.tsx\n\n\n\n\nvar createActionButton = (displayName, useActionButton, forwardProps = [])=>{\n    const ActionButton = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, forwardedRef)=>{\n        const forwardedProps = {};\n        const primitiveProps = {};\n        Object.keys(props).forEach((key)=>{\n            if (forwardProps.includes(key)) {\n                forwardedProps[key] = props[key];\n            } else {\n                primitiveProps[key] = props[key];\n            }\n        });\n        const callback = useActionButton(forwardedProps);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.button, {\n            type: \"button\",\n            ...primitiveProps,\n            ref: forwardedRef,\n            disabled: primitiveProps.disabled || !callback,\n            onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_11__.composeEventHandlers)(primitiveProps.onClick, ()=>{\n                callback?.();\n            })\n        });\n    });\n    ActionButton.displayName = displayName;\n    return ActionButton;\n};\n// src/primitives/actionBar/ActionBarCopy.tsx\nvar ActionBarPrimitiveCopy = createActionButton(\"ActionBarPrimitive.Copy\", useActionBarCopy, [\n    \"copiedDuration\"\n]);\n// src/primitives/actionBar/ActionBarReload.tsx\nvar ActionBarPrimitiveReload = createActionButton(\"ActionBarPrimitive.Reload\", useActionBarReload);\n// src/primitives/actionBar/ActionBarEdit.tsx\nvar ActionBarPrimitiveEdit = createActionButton(\"ActionBarPrimitive.Edit\", useActionBarEdit);\n// src/primitives/actionBar/ActionBarSpeak.tsx\nvar ActionBarPrimitiveSpeak = createActionButton(\"ActionBarPrimitive.Speak\", useActionBarSpeak);\n// src/primitives/actionBar/ActionBarStopSpeaking.tsx\n\n\n\n\n\nvar ActionBarPrimitiveStopSpeaking = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const callback = useActionBarStopSpeaking();\n    (0,_radix_ui_react_use_escape_keydown__WEBPACK_IMPORTED_MODULE_12__.useEscapeKeydown)((e)=>{\n        if (callback) {\n            e.preventDefault();\n            callback();\n        }\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.button, {\n        type: \"button\",\n        disabled: !callback,\n        ...props,\n        ref,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_11__.composeEventHandlers)(props.onClick, ()=>{\n            callback?.();\n        })\n    });\n});\n// src/primitives/assistantModal/index.ts\nvar assistantModal_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(assistantModal_exports, {\n    Anchor: ()=>AssistantModalPrimitiveAnchor,\n    Content: ()=>AssistantModalPrimitiveContent,\n    Root: ()=>AssistantModalPrimitiveRoot,\n    Trigger: ()=>AssistantModalPrimitiveTrigger\n});\n// src/primitives/assistantModal/AssistantModalRoot.tsx\n\n\n\n// src/utils/hooks/useOnComposerFocus.tsx\n\n\nvar useOnComposerFocus = (callback)=>{\n    const callbackRef = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_6__.useCallbackRef)(callback);\n    const { useComposer } = useThreadContext();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return useComposer.getState().onFocus(()=>{\n            callbackRef();\n        });\n    }, [\n        useComposer,\n        callbackRef\n    ]);\n};\n// src/primitives/assistantModal/scope.tsx\n\nvar usePopoverScope = _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_13__.createPopoverScope();\n// src/primitives/assistantModal/AssistantModalRoot.tsx\n\nvar useAssistantModalOpenState = (defaultOpen = false)=>{\n    const state = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultOpen);\n    const [, setOpen] = state;\n    useOnComposerFocus(()=>{\n        setOpen(true);\n    });\n    return state;\n};\nvar AssistantModalPrimitiveRoot = ({ __scopeAssistantModal, defaultOpen, open, onOpenChange, ...rest })=>{\n    const scope = usePopoverScope(__scopeAssistantModal);\n    const [modalOpen, setOpen] = useAssistantModalOpenState(defaultOpen);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_13__.Root, {\n        ...scope,\n        open: open === void 0 ? modalOpen : open,\n        onOpenChange: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_11__.composeEventHandlers)(onOpenChange, setOpen),\n        ...rest\n    });\n};\nAssistantModalPrimitiveRoot.displayName = \"AssistantModalPrimitive.Root\";\n// src/primitives/assistantModal/AssistantModalTrigger.tsx\n\n\n\nvar AssistantModalPrimitiveTrigger = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ __scopeAssistantModal, ...rest }, ref)=>{\n    const scope = usePopoverScope(__scopeAssistantModal);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_13__.Trigger, {\n        ...scope,\n        ...rest,\n        ref\n    });\n});\nAssistantModalPrimitiveTrigger.displayName = \"AssistantModalPrimitive.Trigger\";\n// src/primitives/assistantModal/AssistantModalContent.tsx\n\n\n\n\nvar AssistantModalPrimitiveContent = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ __scopeAssistantModal, side, align, onInteractOutside, dissmissOnInteractOutside = false, ...props }, forwardedRef)=>{\n    const scope = usePopoverScope(__scopeAssistantModal);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_13__.Portal, {\n        ...scope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_13__.Content, {\n            ...scope,\n            ...props,\n            ref: forwardedRef,\n            side: side ?? \"top\",\n            align: align ?? \"end\",\n            onInteractOutside: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_11__.composeEventHandlers)(onInteractOutside, dissmissOnInteractOutside ? void 0 : (e)=>e.preventDefault())\n        })\n    });\n});\nAssistantModalPrimitiveContent.displayName = \"AssistantModalPrimitive.Content\";\n// src/primitives/assistantModal/AssistantModalAnchor.tsx\n\n\n\nvar AssistantModalPrimitiveAnchor = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ __scopeAssistantModal, ...rest }, ref)=>{\n    const scope = usePopoverScope(__scopeAssistantModal);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_13__.Anchor, {\n        ...scope,\n        ...rest,\n        ref\n    });\n});\nAssistantModalPrimitiveAnchor.displayName = \"AssistantModalPrimitive.Anchor\";\n// src/primitives/branchPicker/index.ts\nvar branchPicker_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(branchPicker_exports, {\n    Count: ()=>BranchPickerPrimitiveCount,\n    Next: ()=>BranchPickerPrimitiveNext,\n    Number: ()=>BranchPickerPrimitiveNumber,\n    Previous: ()=>BranchPickerPrevious,\n    Root: ()=>BranchPickerPrimitiveRoot\n});\n// src/primitives/branchPicker/BranchPickerNext.tsx\nvar BranchPickerPrimitiveNext = createActionButton(\"BranchPickerPrimitive.Next\", useBranchPickerNext);\n// src/primitives/branchPicker/BranchPickerPrevious.tsx\nvar BranchPickerPrevious = createActionButton(\"BranchPickerPrimitive.Previous\", useBranchPickerPrevious);\n// src/primitives/branchPicker/BranchPickerCount.tsx\n\nvar BranchPickerPrimitiveCount = ()=>{\n    const branchCount = useBranchPickerCount();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {\n        children: branchCount\n    });\n};\nBranchPickerPrimitiveCount.displayName = \"BranchPickerPrimitive.Count\";\n// src/primitives/branchPicker/BranchPickerNumber.tsx\n\nvar BranchPickerPrimitiveNumber = ()=>{\n    const branchNumber = useBranchPickerNumber();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {\n        children: branchNumber\n    });\n};\nBranchPickerPrimitiveNumber.displayName = \"BranchPickerPrimitive.Number\";\n// src/primitives/branchPicker/BranchPickerRoot.tsx\n\n\n// src/primitives/message/index.ts\nvar message_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(message_exports, {\n    Attachments: ()=>MessagePrimitiveAttachments,\n    Content: ()=>MessagePrimitiveContent,\n    If: ()=>MessagePrimitiveIf,\n    InProgress: ()=>MessagePrimitiveInProgress,\n    Root: ()=>MessagePrimitiveRoot\n});\n// src/primitives/message/MessageRoot.tsx\n\n\n// src/utils/hooks/useManagedRef.ts\n\nvar useManagedRef = (callback)=>{\n    const cleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((el)=>{\n        if (cleanupRef.current) {\n            cleanupRef.current();\n        }\n        if (el) {\n            cleanupRef.current = callback(el);\n        }\n    }, [\n        callback\n    ]);\n    return ref;\n};\n// src/primitives/message/MessageRoot.tsx\n\n\nvar useIsHoveringRef = ()=>{\n    const { useMessageUtils } = useMessageContext();\n    const callbackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((el)=>{\n        const setIsHovering = useMessageUtils.getState().setIsHovering;\n        const handleMouseEnter = ()=>{\n            setIsHovering(true);\n        };\n        const handleMouseLeave = ()=>{\n            setIsHovering(false);\n        };\n        el.addEventListener(\"mouseenter\", handleMouseEnter);\n        el.addEventListener(\"mouseleave\", handleMouseLeave);\n        return ()=>{\n            el.removeEventListener(\"mouseenter\", handleMouseEnter);\n            el.removeEventListener(\"mouseleave\", handleMouseLeave);\n            setIsHovering(false);\n        };\n    }, [\n        useMessageUtils\n    ]);\n    return useManagedRef(callbackRef);\n};\nvar MessagePrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ onMouseEnter, onMouseLeave, ...rest }, forwardRef30)=>{\n    const isHoveringRef = useIsHoveringRef();\n    const ref = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_14__.useComposedRefs)(forwardRef30, isHoveringRef);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.div, {\n        ...rest,\n        ref\n    });\n});\nMessagePrimitiveRoot.displayName = \"MessagePrimitive.Root\";\n// src/primitives/message/MessageIf.tsx\nvar MessagePrimitiveIf = ({ children, ...query })=>{\n    const result = useMessageIf(query);\n    return result ? children : null;\n};\nMessagePrimitiveIf.displayName = \"MessagePrimitive.If\";\n// src/primitives/message/MessageContent.tsx\n\n// src/context/providers/ContentPartProvider.tsx\n\n\n\nvar COMPLETE_STATUS = {\n    type: \"complete\"\n};\nvar toContentPartStatus = (message, partIndex, part)=>{\n    if (message.role !== \"assistant\") return COMPLETE_STATUS;\n    const isLastPart = partIndex === Math.max(0, message.content.length - 1);\n    if (part.type !== \"tool-call\") {\n        if (\"reason\" in message.status && message.status.reason === \"tool-calls\" && isLastPart) throw new Error(\"Encountered unexpected requires-action status. This is likely an internal bug in assistant-ui.\");\n        return isLastPart ? message.status : COMPLETE_STATUS;\n    }\n    if (!!part.result) {\n        return COMPLETE_STATUS;\n    }\n    return message.status;\n};\nvar EMPTY_CONTENT = Object.freeze({\n    type: \"text\",\n    text: \"\"\n});\nvar getContentPartState = ({ message }, useContentPart, partIndex)=>{\n    let part = message.content[partIndex];\n    if (!part) {\n        if (message.content.length === 0 && partIndex === 0) {\n            part = EMPTY_CONTENT;\n        } else {\n            return null;\n        }\n    }\n    const status = toContentPartStatus(message, partIndex, part);\n    const currentState = useContentPart?.getState();\n    if (currentState && currentState.part === part && currentState.status === status) return null;\n    return Object.freeze({\n        part,\n        status\n    });\n};\nvar useContentPartContext2 = (partIndex)=>{\n    const { useMessage } = useMessageContext();\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const useContentPart = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>getContentPartState(useMessage.getState(), void 0, partIndex));\n        return {\n            useContentPart\n        };\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const syncContentPart = (message)=>{\n            const newState = getContentPartState(message, context.useContentPart, partIndex);\n            if (!newState) return;\n            writableStore(context.useContentPart).setState(newState, true);\n        };\n        syncContentPart(useMessage.getState());\n        return useMessage.subscribe(syncContentPart);\n    }, [\n        context,\n        useMessage,\n        partIndex\n    ]);\n    return context;\n};\nvar ContentPartProvider = ({ partIndex, children })=>{\n    const context = useContentPartContext2(partIndex);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ContentPartContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/primitives/contentPart/ContentPartText.tsx\n\n\nvar ContentPartPrimitiveText = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ smooth = true, component: Component = \"span\", ...rest }, forwardedRef)=>{\n    const { part: { text }, status } = useSmooth(useContentPartText(), smooth);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Component, {\n        \"data-status\": status.type,\n        ...rest,\n        ref: forwardedRef,\n        children: text\n    });\n});\nContentPartPrimitiveText.displayName = \"ContentPartPrimitive.Text\";\n// src/primitives/contentPart/ContentPartImage.tsx\n\n\n\nvar ContentPartPrimitiveImage = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, forwardedRef)=>{\n    const { part: { image } } = useContentPartImage();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.img, {\n        src: image,\n        ...props,\n        ref: forwardedRef\n    });\n});\nContentPartPrimitiveImage.displayName = \"ContentPartPrimitive.Image\";\n// src/primitives/contentPart/ContentPartDisplay.tsx\nvar ContentPartPrimitiveDisplay = ()=>{\n    const { part: { display } } = useContentPartDisplay();\n    return display ?? null;\n};\nContentPartPrimitiveDisplay.displayName = \"ContentPartPrimitive.Display\";\n// src/primitives/contentPart/ContentPartInProgress.tsx\nvar ContentPartPrimitiveInProgress = ({ children })=>{\n    const { useContentPart } = useContentPartContext();\n    const isInProgress = useContentPart((c)=>c.status.type === \"running\");\n    return isInProgress ? children : null;\n};\nContentPartPrimitiveInProgress.displayName = \"ContentPartPrimitive.InProgress\";\n// src/primitives/message/MessageContent.tsx\n\nvar ToolUIDisplay = ({ UI, ...props })=>{\n    const { useToolUIs } = useAssistantContext();\n    const Render = useToolUIs((s)=>s.getToolUI(props.part.toolName)) ?? UI;\n    if (!Render) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Render, {\n        ...props\n    });\n};\nvar defaultComponents = {\n    Text: ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"p\", {\n            style: {\n                whiteSpace: \"pre-line\"\n            },\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ContentPartPrimitiveText, {}),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ContentPartPrimitiveInProgress, {\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n                        style: {\n                            fontFamily: \"revert\"\n                        },\n                        children: \" ●\"\n                    })\n                })\n            ]\n        }),\n    Image: ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ContentPartPrimitiveImage, {}),\n    UI: ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ContentPartPrimitiveDisplay, {})\n};\nvar MessageContentPartComponent = ({ components: { Empty = defaultComponents.Text, Text: Text2 = defaultComponents.Text, Image: Image2 = defaultComponents.Image, UI = defaultComponents.UI, tools: { by_name = {}, Fallback: Fallback2 = void 0 } = {} } = {} })=>{\n    const { useThreadActions } = useThreadContext();\n    const { useMessage } = useMessageContext();\n    const addToolResult = useThreadActions((t)=>t.addToolResult);\n    const { useContentPart } = useContentPartContext();\n    const { part, status } = useContentPart();\n    const type = part.type;\n    switch(type){\n        case \"text\":\n            if (status.type === \"requires-action\") throw new Error(\"Encountered unexpected requires-action status\");\n            if (part === EMPTY_CONTENT) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Empty, {\n                part,\n                status\n            });\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Text2, {\n                part,\n                status\n            });\n        case \"image\":\n            if (status.type === \"requires-action\") throw new Error(\"Encountered unexpected requires-action status\");\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Image2, {\n                part,\n                status\n            });\n        case \"ui\":\n            if (status.type === \"requires-action\") throw new Error(\"Encountered unexpected requires-action status\");\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UI, {\n                part,\n                status\n            });\n        case \"tool-call\":\n            {\n                const Tool = by_name[part.toolName] || Fallback2;\n                const addResult = (result)=>addToolResult({\n                        messageId: useMessage.getState().message.id,\n                        toolName: part.toolName,\n                        toolCallId: part.toolCallId,\n                        result\n                    });\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ToolUIDisplay, {\n                    UI: Tool,\n                    part,\n                    status,\n                    addResult\n                });\n            }\n        default:\n            const unhandledType = type;\n            throw new Error(`Unknown content part type: ${unhandledType}`);\n    }\n};\nvar MessageContentPartImpl = ({ partIndex, components })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ContentPartProvider, {\n        partIndex,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MessageContentPartComponent, {\n            components\n        })\n    });\n};\nvar MessageContentPart = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MessageContentPartImpl, (prev, next)=>prev.partIndex === next.partIndex && prev.components?.Text === next.components?.Text && prev.components?.Image === next.components?.Image && prev.components?.UI === next.components?.UI && prev.components?.tools === next.components?.tools);\nvar MessagePrimitiveContent = ({ components })=>{\n    const { useMessage } = useMessageContext();\n    const contentLength = useMessage((s)=>s.message.content.length) || 1;\n    return Array.from({\n        length: contentLength\n    }, (_, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MessageContentPart, {\n            partIndex: index,\n            components\n        }, index));\n};\nMessagePrimitiveContent.displayName = \"MessagePrimitive.Content\";\n// src/primitives/message/MessageInProgress.tsx\nvar MessagePrimitiveInProgress = ()=>{\n    return null;\n};\nMessagePrimitiveInProgress.displayName = \"MessagePrimitive.InProgress\";\n// src/primitives/message/MessageAttachments.tsx\n\n// src/context/react/AttachmentContext.ts\n\nvar AttachmentContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useAttachmentContext(options) {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AttachmentContext);\n    if (options?.type === \"composer\" && context?.type !== \"composer\") throw new Error(\"This component must be used within a ComposerPrimitive.Attachments component.\");\n    if (options?.type === \"message\" && context?.type !== \"message\") throw new Error(\"This component must be used within a MessagePrimitive.Attachments component.\");\n    if (!options?.optional && !context) throw new Error(\"This component must be used within a ComposerPrimitive.Attachments or MessagePrimitive.Attachments component.\");\n    return context;\n}\n// src/context/providers/MessageAttachmentProvider.tsx\n\n\n\nvar getAttachment = ({ message }, useAttachment, partIndex)=>{\n    if (message.role !== \"user\") return null;\n    const attachments = message.attachments;\n    let attachment = attachments[partIndex];\n    if (!attachment) return null;\n    const currentState = useAttachment?.getState();\n    if (currentState && currentState.attachment === attachment) return null;\n    return Object.freeze({\n        attachment\n    });\n};\nvar useMessageAttachmentContext = (partIndex)=>{\n    const { useMessage } = useMessageContext();\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const useAttachment = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>getAttachment(useMessage.getState(), void 0, partIndex));\n        return {\n            type: \"message\",\n            useAttachment\n        };\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const syncAttachment = (messageState)=>{\n            const newState = getAttachment(messageState, context.useAttachment, partIndex);\n            if (!newState) return;\n            writableStore(context.useAttachment).setState(newState, true);\n        };\n        syncAttachment(useMessage.getState());\n        return useMessage.subscribe(syncAttachment);\n    }, [\n        context,\n        useMessage,\n        partIndex\n    ]);\n    return context;\n};\nvar MessageAttachmentProvider = ({ attachmentIndex: partIndex, children })=>{\n    const context = useMessageAttachmentContext(partIndex);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AttachmentContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/primitives/message/MessageAttachments.tsx\n\nvar getComponent = (components, attachment)=>{\n    const type = attachment.type;\n    switch(type){\n        case \"image\":\n            return components?.Image ?? components?.Attachment;\n        case \"document\":\n            return components?.Document ?? components?.Attachment;\n        case \"file\":\n            return components?.File ?? components?.Attachment;\n        default:\n            const _exhaustiveCheck = type;\n            throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n    }\n};\nvar AttachmentComponent = ({ components })=>{\n    const { useAttachment } = useAttachmentContext({\n        type: \"message\"\n    });\n    const Component = useAttachment((a)=>getComponent(components, a.attachment));\n    if (!Component) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Component, {});\n};\nvar MessageAttachmentImpl = ({ components, attachmentIndex })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MessageAttachmentProvider, {\n        attachmentIndex,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AttachmentComponent, {\n            components\n        })\n    });\n};\nvar MessageAttachment = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MessageAttachmentImpl, (prev, next)=>prev.attachmentIndex === next.attachmentIndex && prev.components?.Image === next.components?.Image && prev.components?.Document === next.components?.Document && prev.components?.File === next.components?.File && prev.components?.Attachment === next.components?.Attachment);\nvar MessagePrimitiveAttachments = ({ components })=>{\n    const { useMessage } = useMessageContext();\n    const attachmentsCount = useMessage(({ message })=>{\n        if (message.role !== \"user\") return 0;\n        return message.attachments.length;\n    });\n    return Array.from({\n        length: attachmentsCount\n    }, (_, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MessageAttachment, {\n            attachmentIndex: index,\n            components\n        }, index));\n};\nMessagePrimitiveAttachments.displayName = \"MessagePrimitive.Attachments\";\n// src/primitives/branchPicker/BranchPickerRoot.tsx\n\nvar BranchPickerPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ hideWhenSingleBranch, ...rest }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MessagePrimitiveIf, {\n        hasBranches: hideWhenSingleBranch ? true : void 0,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.div, {\n            ...rest,\n            ref\n        })\n    });\n});\nBranchPickerPrimitiveRoot.displayName = \"BranchPickerPrimitive.Root\";\n// src/primitives/composer/index.ts\nvar composer_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(composer_exports, {\n    AddAttachment: ()=>ComposerPrimitiveAddAttachment,\n    Attachments: ()=>ComposerPrimitiveAttachments,\n    Cancel: ()=>ComposerPrimitiveCancel,\n    If: ()=>ComposerPrimitiveIf,\n    Input: ()=>ComposerPrimitiveInput,\n    Root: ()=>ComposerPrimitiveRoot,\n    Send: ()=>ComposerPrimitiveSend\n});\n// src/primitives/composer/ComposerRoot.tsx\n\n\n\n\nvar ComposerPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ onSubmit, ...rest }, forwardedRef)=>{\n    const send = useComposerSend();\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        if (!send) return;\n        send();\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.form, {\n        ...rest,\n        ref: forwardedRef,\n        onSubmit: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_11__.composeEventHandlers)(onSubmit, handleSubmit)\n    });\n});\nComposerPrimitiveRoot.displayName = \"ComposerPrimitive.Root\";\n// src/primitives/composer/ComposerInput.tsx\n\n\n\n\n\n\n\nvar ComposerPrimitiveInput = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ autoFocus = false, asChild, disabled: disabledProp, onChange, onKeyDown, ...rest }, forwardedRef)=>{\n    const { useThread } = useThreadContext();\n    const { useComposer, type } = useComposerContext();\n    const value = useComposer((c)=>{\n        if (!c.isEditing) return \"\";\n        return c.text;\n    });\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_15__.Slot : react_textarea_autosize__WEBPACK_IMPORTED_MODULE_16__[\"default\"];\n    const isDisabled = useThread((t)=>t.isDisabled) ?? disabledProp ?? false;\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const ref = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_14__.useComposedRefs)(forwardedRef, textareaRef);\n    (0,_radix_ui_react_use_escape_keydown__WEBPACK_IMPORTED_MODULE_12__.useEscapeKeydown)((e)=>{\n        const composer = useComposer.getState();\n        if (composer.canCancel) {\n            composer.cancel();\n            e.preventDefault();\n        }\n    });\n    const handleKeyPress = (e)=>{\n        if (isDisabled) return;\n        if (e.nativeEvent.isComposing) return;\n        if (e.key === \"Enter\" && e.shiftKey === false) {\n            const { isRunning } = useThread.getState();\n            if (!isRunning) {\n                e.preventDefault();\n                textareaRef.current?.closest(\"form\")?.requestSubmit();\n            }\n        }\n    };\n    const autoFocusEnabled = autoFocus && !isDisabled;\n    const focus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const textarea = textareaRef.current;\n        if (!textarea || !autoFocusEnabled) return;\n        textarea.focus({\n            preventScroll: true\n        });\n        textarea.setSelectionRange(textareaRef.current.value.length, textareaRef.current.value.length);\n    }, [\n        autoFocusEnabled\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>focus(), [\n        focus\n    ]);\n    useOnComposerFocus(()=>{\n        if (type === \"new\") {\n            focus();\n        }\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Component, {\n        name: \"input\",\n        value,\n        ...rest,\n        ref,\n        disabled: isDisabled,\n        onChange: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_11__.composeEventHandlers)(onChange, (e)=>{\n            const composerState = useComposer.getState();\n            if (!composerState.isEditing) return;\n            return composerState.setText(e.target.value);\n        }),\n        onKeyDown: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_11__.composeEventHandlers)(onKeyDown, handleKeyPress)\n    });\n});\nComposerPrimitiveInput.displayName = \"ComposerPrimitive.Input\";\n// src/primitives/composer/ComposerSend.tsx\nvar ComposerPrimitiveSend = createActionButton(\"ComposerPrimitive.Send\", useComposerSend);\n// src/primitives/composer/ComposerCancel.tsx\nvar ComposerPrimitiveCancel = createActionButton(\"ComposerPrimitive.Cancel\", useComposerCancel);\n// src/primitives/composer/ComposerAddAttachment.tsx\nvar ComposerPrimitiveAddAttachment = createActionButton(\"ComposerPrimitive.AddAttachment\", useComposerAddAttachment);\n// src/primitives/composer/ComposerAttachments.tsx\n\n// src/context/providers/ComposerAttachmentProvider.tsx\n\n\n\nvar getAttachment2 = ({ attachments }, useAttachment, partIndex)=>{\n    let attachment = attachments[partIndex];\n    if (!attachment) return null;\n    const currentState = useAttachment?.getState();\n    if (currentState && currentState.attachment === attachment) return null;\n    return Object.freeze({\n        attachment\n    });\n};\nvar useComposerAttachmentContext = (partIndex)=>{\n    const { useComposer } = useThreadContext();\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const useAttachment = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>getAttachment2(useComposer.getState(), void 0, partIndex));\n        return {\n            type: \"composer\",\n            useAttachment\n        };\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const syncAttachment = (composer)=>{\n            const newState = getAttachment2(composer, context.useAttachment, partIndex);\n            if (!newState) return;\n            writableStore(context.useAttachment).setState(newState, true);\n        };\n        syncAttachment(useComposer.getState());\n        return useComposer.subscribe(syncAttachment);\n    }, [\n        context,\n        useComposer,\n        partIndex\n    ]);\n    return context;\n};\nvar ComposerAttachmentProvider = ({ attachmentIndex: partIndex, children })=>{\n    const context = useComposerAttachmentContext(partIndex);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AttachmentContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/primitives/composer/ComposerAttachments.tsx\n\nvar getComponent2 = (components, attachment)=>{\n    const type = attachment.type;\n    switch(type){\n        case \"image\":\n            return components?.Image ?? components?.Attachment;\n        case \"document\":\n            return components?.Document ?? components?.Attachment;\n        case \"file\":\n            return components?.File ?? components?.Attachment;\n        default:\n            const _exhaustiveCheck = type;\n            throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n    }\n};\nvar AttachmentComponent2 = ({ components })=>{\n    const { useAttachment } = useAttachmentContext({\n        type: \"composer\"\n    });\n    const Component = useAttachment((a)=>getComponent2(components, a.attachment));\n    if (!Component) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Component, {});\n};\nvar ComposerAttachmentImpl = ({ components, attachmentIndex })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerAttachmentProvider, {\n        attachmentIndex,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AttachmentComponent2, {\n            components\n        })\n    });\n};\nvar ComposerAttachment = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ComposerAttachmentImpl, (prev, next)=>prev.attachmentIndex === next.attachmentIndex && prev.components?.Image === next.components?.Image && prev.components?.Document === next.components?.Document && prev.components?.File === next.components?.File && prev.components?.Attachment === next.components?.Attachment);\nvar ComposerPrimitiveAttachments = ({ components })=>{\n    const { useComposer } = useThreadContext();\n    const attachmentsCount = useComposer((s)=>s.attachments.length);\n    return Array.from({\n        length: attachmentsCount\n    }, (_, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerAttachment, {\n            attachmentIndex: index,\n            components\n        }, index));\n};\nComposerPrimitiveAttachments.displayName = \"ComposerPrimitive.Attachments\";\n// src/primitives/composer/ComposerIf.tsx\nvar ComposerPrimitiveIf = ({ children, ...query })=>{\n    const result = useComposerIf(query);\n    return result ? children : null;\n};\nComposerPrimitiveIf.displayName = \"ComposerPrimitive.If\";\n// src/primitives/contentPart/index.ts\nvar contentPart_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(contentPart_exports, {\n    Display: ()=>ContentPartPrimitiveDisplay,\n    Image: ()=>ContentPartPrimitiveImage,\n    InProgress: ()=>ContentPartPrimitiveInProgress,\n    Text: ()=>ContentPartPrimitiveText\n});\n// src/primitives/thread/index.ts\nvar thread_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(thread_exports, {\n    Empty: ()=>ThreadPrimitiveEmpty,\n    If: ()=>ThreadPrimitiveIf,\n    Messages: ()=>ThreadPrimitiveMessages,\n    Root: ()=>ThreadPrimitiveRoot,\n    ScrollToBottom: ()=>ThreadPrimitiveScrollToBottom,\n    Suggestion: ()=>ThreadPrimitiveSuggestion,\n    Viewport: ()=>ThreadPrimitiveViewport\n});\n// src/primitives/thread/ThreadRoot.tsx\n\n\n\nvar ThreadPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.div, {\n        ...props,\n        ref\n    });\n});\nThreadPrimitiveRoot.displayName = \"ThreadPrimitive.Root\";\n// src/primitives/thread/ThreadEmpty.tsx\nvar ThreadPrimitiveEmpty = ({ children })=>{\n    const empty = useThreadEmpty();\n    return empty ? children : null;\n};\nThreadPrimitiveEmpty.displayName = \"ThreadPrimitive.Empty\";\n// src/primitives/thread/ThreadIf.tsx\nvar ThreadPrimitiveIf = ({ children, ...query })=>{\n    const result = useThreadIf(query);\n    return result ? children : null;\n};\nThreadPrimitiveIf.displayName = \"ThreadPrimitive.If\";\n// src/primitives/thread/ThreadViewport.tsx\n\n\n\n// src/primitive-hooks/thread/useThreadViewportAutoScroll.tsx\n\n\n// src/utils/hooks/useOnResizeContent.tsx\n\n\nvar useOnResizeContent = (callback)=>{\n    const callbackRef = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_6__.useCallbackRef)(callback);\n    const refCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((el)=>{\n        const resizeObserver = new ResizeObserver(()=>{\n            callbackRef();\n        });\n        const mutationObserver = new MutationObserver((mutations)=>{\n            for (const mutation of mutations){\n                for (const node of mutation.addedNodes){\n                    if (node instanceof Element) {\n                        resizeObserver.observe(node);\n                    }\n                }\n                for (const node of mutation.removedNodes){\n                    if (node instanceof Element) {\n                        resizeObserver.unobserve(node);\n                    }\n                }\n            }\n            callbackRef();\n        });\n        resizeObserver.observe(el);\n        mutationObserver.observe(el, {\n            childList: true\n        });\n        for (const child of el.children){\n            resizeObserver.observe(child);\n        }\n        return ()=>{\n            resizeObserver.disconnect();\n            mutationObserver.disconnect();\n        };\n    }, [\n        callbackRef\n    ]);\n    return useManagedRef(refCallback);\n};\n// src/utils/hooks/useOnScrollToBottom.tsx\n\n\nvar useOnScrollToBottom = (callback)=>{\n    const callbackRef = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_6__.useCallbackRef)(callback);\n    const { useViewport } = useThreadContext();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return useViewport.getState().onScrollToBottom(()=>{\n            callbackRef();\n        });\n    }, [\n        useViewport,\n        callbackRef\n    ]);\n};\n// src/primitive-hooks/thread/useThreadViewportAutoScroll.tsx\nvar useThreadViewportAutoScroll = ({ autoScroll = true })=>{\n    const divRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const { useViewport } = useThreadContext();\n    const lastScrollTop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const isScrollingToBottomRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const scrollToBottom = (behavior)=>{\n        const div = divRef.current;\n        if (!div || !autoScroll) return;\n        isScrollingToBottomRef.current = true;\n        div.scrollTo({\n            top: div.scrollHeight,\n            behavior\n        });\n    };\n    const handleScroll = ()=>{\n        const div = divRef.current;\n        if (!div) return;\n        const isAtBottom = useViewport.getState().isAtBottom;\n        const newIsAtBottom = div.scrollHeight - div.scrollTop <= div.clientHeight + 1;\n        if (!newIsAtBottom && lastScrollTop.current < div.scrollTop) {} else {\n            if (newIsAtBottom) {\n                isScrollingToBottomRef.current = false;\n            }\n            if (newIsAtBottom !== isAtBottom) {\n                writableStore(useViewport).setState({\n                    isAtBottom: newIsAtBottom\n                });\n            }\n        }\n        lastScrollTop.current = div.scrollTop;\n    };\n    const resizeRef = useOnResizeContent(()=>{\n        if (isScrollingToBottomRef.current || useViewport.getState().isAtBottom) {\n            scrollToBottom(\"instant\");\n        }\n        handleScroll();\n    });\n    const scrollRef = useManagedRef((el)=>{\n        el.addEventListener(\"scroll\", handleScroll);\n        return ()=>{\n            el.removeEventListener(\"scroll\", handleScroll);\n        };\n    });\n    const autoScrollRef = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_14__.useComposedRefs)(resizeRef, scrollRef, divRef);\n    useOnScrollToBottom(()=>{\n        scrollToBottom(\"auto\");\n    });\n    return autoScrollRef;\n};\n// src/primitives/thread/ThreadViewport.tsx\n\nvar ThreadPrimitiveViewport = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ autoScroll, onScroll, children, ...rest }, forwardedRef)=>{\n    const autoScrollRef = useThreadViewportAutoScroll({\n        autoScroll\n    });\n    const ref = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_14__.useComposedRefs)(forwardedRef, autoScrollRef);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_10__.Primitive.div, {\n        ...rest,\n        ref,\n        children\n    });\n});\nThreadPrimitiveViewport.displayName = \"ThreadPrimitive.Viewport\";\n// src/primitives/thread/ThreadMessages.tsx\n\n// src/context/providers/MessageProvider.tsx\n\n\n// src/context/stores/EditComposer.ts\n\nvar makeEditComposerStore = ({ onEdit, onSend })=>(0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)()((set, get)=>({\n            get value () {\n                return get().text;\n            },\n            setValue (value) {\n                get().setText(value);\n            },\n            text: \"\",\n            setText: (text)=>{\n                set({\n                    text,\n                    isEmpty: text.trim().length === 0\n                });\n            },\n            canCancel: false,\n            isEditing: false,\n            isEmpty: true,\n            edit: ()=>{\n                const text = onEdit();\n                set({\n                    isEditing: true,\n                    canCancel: true,\n                    isEmpty: text.trim().length === 0,\n                    text\n                });\n            },\n            send: ()=>{\n                const text = get().text;\n                set({\n                    isEditing: false,\n                    canCancel: false\n                });\n                onSend(text);\n            },\n            cancel: ()=>{\n                set({\n                    isEditing: false,\n                    canCancel: false\n                });\n            }\n        }));\n// src/context/stores/MessageUtils.ts\n\nvar makeMessageUtilsStore = ()=>(0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)((set)=>{\n        let utterance = null;\n        return {\n            isCopied: false,\n            setIsCopied: (value)=>{\n                set({\n                    isCopied: value\n                });\n            },\n            isHovering: false,\n            setIsHovering: (value)=>{\n                set({\n                    isHovering: value\n                });\n            },\n            isSpeaking: false,\n            stopSpeaking: ()=>{\n                utterance?.cancel();\n            },\n            addUtterance: (utt)=>{\n                utterance = utt;\n                set({\n                    isSpeaking: true\n                });\n                utt.onEnd(()=>{\n                    set({\n                        isSpeaking: false\n                    });\n                });\n            }\n        };\n    });\n// src/context/providers/MessageProvider.tsx\n\nvar getIsLast = (messages, message)=>{\n    return messages[messages.length - 1]?.id === message.id;\n};\nvar getMessageState = (messages, getBranches, useMessage, messageIndex)=>{\n    const parentId = messages[messageIndex - 1]?.id ?? null;\n    const message = messages[messageIndex];\n    if (!message) return null;\n    const isLast = getIsLast(messages, message);\n    const branches = getBranches(message.id);\n    const currentState = useMessage?.getState();\n    if (currentState && currentState.message === message && currentState.parentId === parentId && currentState.branches === branches && currentState.isLast === isLast) return null;\n    return Object.freeze({\n        message,\n        parentId,\n        branches,\n        isLast\n    });\n};\nvar useMessageContext2 = (messageIndex)=>{\n    const { useThreadMessages, useThreadActions } = useThreadContext();\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const useMessage = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)(()=>getMessageState(useThreadMessages.getState(), useThreadActions.getState().getBranches, void 0, messageIndex));\n        const useMessageUtils = makeMessageUtilsStore();\n        const useEditComposer = makeEditComposerStore({\n            onEdit: ()=>{\n                const message = useMessage.getState().message;\n                if (message.role !== \"user\") throw new Error(\"Tried to edit a non-user message. Editing is only supported for user messages. This is likely an internal bug in assistant-ui.\");\n                const text = getThreadMessageText(message);\n                return text;\n            },\n            onSend: (text)=>{\n                const { message, parentId } = useMessage.getState();\n                if (message.role !== \"user\") throw new Error(\"Tried to edit a non-user message. Editing is only supported for user messages. This is likely an internal bug in assistant-ui.\");\n                const previousText = getThreadMessageText(message);\n                if (previousText === text) return;\n                const nonTextParts = message.content.filter((part)=>part.type !== \"text\" && part.type !== \"ui\");\n                useThreadActions.getState().append({\n                    parentId,\n                    role: \"user\",\n                    content: [\n                        {\n                            type: \"text\",\n                            text\n                        },\n                        ...nonTextParts\n                    ],\n                    attachments: message.attachments\n                });\n            }\n        });\n        return {\n            useMessage,\n            useMessageUtils,\n            useEditComposer\n        };\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const syncMessage = (thread)=>{\n            const newState = getMessageState(thread, useThreadActions.getState().getBranches, context.useMessage, messageIndex);\n            if (!newState) return;\n            writableStore(context.useMessage).setState(newState, true);\n        };\n        syncMessage(useThreadMessages.getState());\n        return useThreadMessages.subscribe(syncMessage);\n    }, [\n        useThreadMessages,\n        useThreadActions,\n        context,\n        messageIndex\n    ]);\n    return context;\n};\nvar MessageProvider = ({ messageIndex, children })=>{\n    const context = useMessageContext2(messageIndex);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MessageContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/primitives/thread/ThreadMessages.tsx\n\nvar DEFAULT_SYSTEM_MESSAGE = ()=>null;\nvar getComponents = (components)=>{\n    return {\n        EditComposer: components.EditComposer ?? components.UserMessage ?? components.Message,\n        UserMessage: components.UserMessage ?? components.Message,\n        AssistantMessage: components.AssistantMessage ?? components.Message,\n        SystemMessage: components.SystemMessage ?? DEFAULT_SYSTEM_MESSAGE\n    };\n};\nvar ThreadMessageImpl = ({ messageIndex, components })=>{\n    const { UserMessage: UserMessage2, EditComposer: EditComposer2, AssistantMessage: AssistantMessage2, SystemMessage: SystemMessage2 } = getComponents(components);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(MessageProvider, {\n        messageIndex,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(MessagePrimitiveIf, {\n                user: true,\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerPrimitiveIf, {\n                        editing: false,\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UserMessage2, {})\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerPrimitiveIf, {\n                        editing: true,\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(EditComposer2, {})\n                    })\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MessagePrimitiveIf, {\n                assistant: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantMessage2, {})\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MessagePrimitiveIf, {\n                system: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(SystemMessage2, {})\n            })\n        ]\n    });\n};\nvar ThreadMessage = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ThreadMessageImpl, (prev, next)=>prev.messageIndex === next.messageIndex && prev.components.Message === next.components.Message && prev.components.UserMessage === next.components.UserMessage && prev.components.EditComposer === next.components.EditComposer && prev.components.AssistantMessage === next.components.AssistantMessage && prev.components.SystemMessage === next.components.SystemMessage);\nvar ThreadPrimitiveMessagesImpl = ({ components })=>{\n    const { useThreadMessages } = useThreadContext();\n    const messagesLength = useThreadMessages((t)=>t.length);\n    if (messagesLength === 0) return null;\n    return Array.from({\n        length: messagesLength\n    }, (_, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadMessage, {\n            messageIndex: index,\n            components\n        }, index));\n};\nThreadPrimitiveMessagesImpl.displayName = \"ThreadPrimitive.Messages\";\nvar ThreadPrimitiveMessages = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ThreadPrimitiveMessagesImpl, (prev, next)=>prev.components?.Message === next.components?.Message && prev.components?.UserMessage === next.components?.UserMessage && prev.components?.EditComposer === next.components?.EditComposer && prev.components?.AssistantMessage === next.components?.AssistantMessage && prev.components?.SystemMessage === next.components?.SystemMessage);\n// src/primitives/thread/ThreadScrollToBottom.tsx\nvar ThreadPrimitiveScrollToBottom = createActionButton(\"ThreadPrimitive.ScrollToBottom\", useThreadScrollToBottom);\n// src/primitives/thread/ThreadSuggestion.tsx\nvar ThreadPrimitiveSuggestion = createActionButton(\"ThreadPrimitive.Suggestion\", useThreadSuggestion, [\n    \"prompt\",\n    \"autoSend\",\n    \"method\"\n]);\n// src/ui/thread-config.tsx\n\n\nvar ThreadConfigContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});\nvar useThreadConfig = ()=>{\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ThreadConfigContext);\n};\nvar ThreadConfigProvider = ({ children, config })=>{\n    const assistant = useAssistantContext({\n        optional: true\n    });\n    const configProvider = config && Object.keys(config ?? {}).length > 0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadConfigContext.Provider, {\n        value: config,\n        children\n    }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {\n        children\n    });\n    if (!config?.runtime) return configProvider;\n    if (assistant) {\n        throw new Error(\"You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.\");\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantRuntimeProvider, {\n        runtime: config.runtime,\n        children: configProvider\n    });\n};\nThreadConfigProvider.displayName = \"ThreadConfigProvider\";\n// src/ui/assistant-action-bar.tsx\n\n\n\nvar useAllowCopy = (ensureCapability = false)=>{\n    const { assistantMessage: { allowCopy = true } = {} } = useThreadConfig();\n    const { useThread } = useThreadContext();\n    const copySupported = useThread((t)=>t.capabilities.unstable_copy);\n    return allowCopy && (!ensureCapability || copySupported);\n};\nvar useAllowSpeak = (ensureCapability = false)=>{\n    const { assistantMessage: { allowSpeak = true } = {} } = useThreadConfig();\n    const { useThread } = useThreadContext();\n    const speakSupported = useThread((t)=>t.capabilities.speak);\n    return allowSpeak && (!ensureCapability || speakSupported);\n};\nvar useAllowReload = (ensureCapability = false)=>{\n    const { assistantMessage: { allowReload = true } = {} } = useThreadConfig();\n    const { useThread } = useThreadContext();\n    const reloadSupported = useThread((t)=>t.capabilities.reload);\n    return allowReload && (!ensureCapability || reloadSupported);\n};\nvar AssistantActionBar = ()=>{\n    const allowCopy = useAllowCopy(true);\n    const allowReload = useAllowReload(true);\n    const allowSpeak = useAllowSpeak(true);\n    if (!allowCopy && !allowReload && !allowSpeak) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(AssistantActionBarRoot, {\n        hideWhenRunning: true,\n        autohide: \"not-last\",\n        autohideFloat: \"single-branch\",\n        children: [\n            allowSpeak && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantActionBarSpeechControl, {}),\n            allowCopy && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantActionBarCopy, {}),\n            allowReload && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantActionBarReload, {})\n        ]\n    });\n};\nAssistantActionBar.displayName = \"AssistantActionBar\";\nvar AssistantActionBarRoot = withDefaults(actionBar_exports.Root, {\n    className: \"aui-assistant-action-bar-root\"\n});\nAssistantActionBarRoot.displayName = \"AssistantActionBarRoot\";\nvar AssistantActionBarCopy = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { copy: { tooltip = \"Copy\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(actionBar_exports.Copy, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(message_exports.If, {\n                        copied: true,\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {})\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(message_exports.If, {\n                        copied: false,\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {})\n                    })\n                ]\n            })\n        })\n    });\n});\nAssistantActionBarCopy.displayName = \"AssistantActionBarCopy\";\nvar AssistantActionBarSpeechControl = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(message_exports.If, {\n                speaking: false,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantActionBarSpeak, {})\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(message_exports.If, {\n                speaking: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantActionBarStopSpeaking, {})\n            })\n        ]\n    });\n};\nvar AssistantActionBarSpeak = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { speak: { tooltip = \"Read aloud\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowSpeak = useAllowSpeak();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(actionBar_exports.Speak, {\n        disabled: !allowSpeak,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {})\n        })\n    });\n});\nAssistantActionBarSpeak.displayName = \"AssistantActionBarSpeak\";\nvar AssistantActionBarStopSpeaking = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { speak: { stop: { tooltip: stopTooltip = \"Stop\" } = {} } = {} } = {} } = {} } = useThreadConfig();\n    const allowSpeak = useAllowSpeak();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(actionBar_exports.StopSpeaking, {\n        disabled: !allowSpeak,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipIconButton, {\n            tooltip: stopTooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {})\n        })\n    });\n});\nAssistantActionBarStopSpeaking.displayName = \"AssistantActionBarStopSpeaking\";\nvar AssistantActionBarReload = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { reload: { tooltip = \"Refresh\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowReload = useAllowReload();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(actionBar_exports.Reload, {\n        disabled: !allowReload,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {})\n        })\n    });\n});\nAssistantActionBarReload.displayName = \"AssistantActionBarReload\";\nvar exports = {\n    Root: AssistantActionBarRoot,\n    Reload: AssistantActionBarReload,\n    Copy: AssistantActionBarCopy,\n    Speak: AssistantActionBarSpeak,\n    StopSpeaking: AssistantActionBarStopSpeaking,\n    SpeechControl: AssistantActionBarSpeechControl\n};\nvar assistant_action_bar_default = Object.assign(AssistantActionBar, exports);\n// src/ui/assistant-message.tsx\n\n// src/ui/branch-picker.tsx\n\n\n\nvar useAllowBranchPicker = (ensureCapability = false)=>{\n    const { branchPicker: { allowBranchPicker = true } = {} } = useThreadConfig();\n    const { useThread } = useThreadContext();\n    const branchPickerSupported = useThread((t)=>t.capabilities.edit);\n    return allowBranchPicker && (!ensureCapability || branchPickerSupported);\n};\nvar BranchPicker = ()=>{\n    const allowBranchPicker = useAllowBranchPicker();\n    if (!allowBranchPicker) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(BranchPickerRoot, {\n        hideWhenSingleBranch: true,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(BranchPickerPrevious2, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(BranchPickerState, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(BranchPickerNext, {})\n        ]\n    });\n};\nBranchPicker.displayName = \"BranchPicker\";\nvar BranchPickerRoot = withDefaults(branchPicker_exports.Root, {\n    className: \"aui-branch-picker-root\"\n});\nBranchPickerRoot.displayName = \"BranchPickerRoot\";\nvar BranchPickerPrevious2 = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { branchPicker: { previous: { tooltip = \"Previous\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowBranchPicker = useAllowBranchPicker();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(branchPicker_exports.Previous, {\n        disabled: !allowBranchPicker,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_ChevronLeftIcon_ChevronRightIcon_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {})\n        })\n    });\n});\nBranchPickerPrevious2.displayName = \"BranchPickerPrevious\";\nvar BranchPickerStateWrapper = withDefaults(\"span\", {\n    className: \"aui-branch-picker-state\"\n});\nvar BranchPickerState = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(BranchPickerStateWrapper, {\n        ...props,\n        ref,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(branchPicker_exports.Number, {}),\n            \" / \",\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(branchPicker_exports.Count, {})\n        ]\n    });\n});\nBranchPickerState.displayName = \"BranchPickerState\";\nvar BranchPickerNext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { branchPicker: { next: { tooltip = \"Next\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowBranchPicker = useAllowBranchPicker();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(branchPicker_exports.Next, {\n        disabled: !allowBranchPicker,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_ChevronLeftIcon_ChevronRightIcon_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {})\n        })\n    });\n});\nBranchPickerNext.displayName = \"BranchPickerNext\";\nvar exports2 = {\n    Root: BranchPickerRoot,\n    Previous: BranchPickerPrevious2,\n    Next: BranchPickerNext\n};\nvar branch_picker_default = Object.assign(BranchPicker, exports2);\n// src/ui/base/avatar.tsx\n\n\nvar Avatar = ({ src, alt, fallback })=>{\n    if (src == null && fallback == null) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(AvatarRoot, {\n        children: [\n            src != null && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AvatarImage, {\n                src,\n                alt\n            }),\n            fallback != null && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AvatarFallback, {\n                children: fallback\n            })\n        ]\n    });\n};\nAvatar.displayName = \"Avatar\";\nvar AvatarRoot = withDefaults(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_24__.Root, {\n    className: \"aui-avatar-root\"\n});\nAvatarRoot.displayName = \"AvatarRoot\";\nvar AvatarImage = withDefaults(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_24__.Image, {\n    className: \"aui-avatar-image\"\n});\nAvatarImage.displayName = \"AvatarImage\";\nvar AvatarFallback = withDefaults(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_24__.Fallback, {\n    className: \"aui-avatar-fallback\"\n});\nAvatarFallback.displayName = \"AvatarFallback\";\n// src/ui/content-part.tsx\n\n\nvar Text = ()=>{\n    const status = useSmoothStatus();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(contentPart_exports.Text, {\n        className: classnames__WEBPACK_IMPORTED_MODULE_7__(\"aui-text\", status.type === \"running\" && \"aui-text-running\"),\n        component: \"p\"\n    });\n};\nvar exports3 = {\n    Text: withSmoothContextProvider(Text)\n};\nvar content_part_default = exports3;\n// src/ui/assistant-message.tsx\n\nvar AssistantMessage = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(AssistantMessageRoot, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantMessageAvatar, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantMessageContent, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(branch_picker_default, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(assistant_action_bar_default, {})\n        ]\n    });\n};\nAssistantMessage.displayName = \"AssistantMessage\";\nvar AssistantMessageAvatar = ()=>{\n    const { assistantAvatar: avatar = {\n        fallback: \"A\"\n    } } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Avatar, {\n        ...avatar\n    });\n};\nvar AssistantMessageRoot = withDefaults(message_exports.Root, {\n    className: \"aui-assistant-message-root\"\n});\nAssistantMessageRoot.displayName = \"AssistantMessageRoot\";\nvar AssistantMessageContentWrapper = withDefaults(\"div\", {\n    className: \"aui-assistant-message-content\"\n});\nvar AssistantMessageContent = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ components: componentsProp, ...rest }, ref)=>{\n    const { tools, assistantMessage: { components = {} } = {} } = useThreadConfig();\n    const toolsComponents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            by_name: !tools ? void 0 : Object.fromEntries(tools.map((t)=>[\n                    t.unstable_tool.toolName,\n                    t.unstable_tool.render\n                ])),\n            Fallback: components.ToolFallback\n        }), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        ...tools ?? [],\n        components.ToolFallback\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantMessageContentWrapper, {\n        ...rest,\n        ref,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(message_exports.Content, {\n            components: {\n                ...componentsProp,\n                Text: componentsProp?.Text ?? components.Text ?? content_part_default.Text,\n                tools: toolsComponents\n            }\n        })\n    });\n});\nAssistantMessageContent.displayName = \"AssistantMessageContent\";\nvar exports4 = {\n    Root: AssistantMessageRoot,\n    Avatar: AssistantMessageAvatar,\n    Content: AssistantMessageContent\n};\nvar assistant_message_default = Object.assign(AssistantMessage, exports4);\n// src/ui/assistant-modal.tsx\n\n\n// src/ui/thread.tsx\n\n\n// src/ui/composer.tsx\n\n\n// src/ui/base/CircleStopIcon.tsx\n\nvar CircleStopIcon = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 16 16\",\n        fill: \"currentColor\",\n        width: \"16\",\n        height: \"16\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"rect\", {\n            width: \"10\",\n            height: \"10\",\n            x: \"3\",\n            y: \"3\",\n            rx: \"2\"\n        })\n    });\n};\nCircleStopIcon.displayName = \"CircleStopIcon\";\n// src/ui/composer-attachment.tsx\n\n\n\nvar ComposerAttachmentRoot = withDefaults(\"div\", {\n    className: \"aui-composer-attachment-root\"\n});\nComposerAttachmentRoot.displayName = \"ComposerAttachmentRoot\";\nvar ComposerAttachment2 = ()=>{\n    const { useAttachment } = useAttachmentContext({\n        type: \"composer\"\n    });\n    const attachment = useAttachment((a)=>a.attachment);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(ComposerAttachmentRoot, {\n        children: [\n            \".\",\n            attachment.name.split(\".\").pop(),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerAttachmentRemove, {})\n        ]\n    });\n};\nComposerAttachment2.displayName = \"ComposerAttachment\";\nvar ComposerAttachmentRemove = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { removeAttachment: { tooltip = \"Remove file\" } = {} } = {} } = {} } = useThreadConfig();\n    const { useComposer } = useThreadContext();\n    const { useAttachment } = useAttachmentContext();\n    const handleRemoveAttachment = ()=>{\n        useComposer.getState().removeAttachment(useAttachment.getState().attachment.id);\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipIconButton, {\n        tooltip,\n        className: \"aui-composer-attachment-remove\",\n        side: \"top\",\n        ...props,\n        onClick: handleRemoveAttachment,\n        ref,\n        children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_CircleXIcon_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {})\n    });\n});\nComposerAttachmentRemove.displayName = \"ComposerAttachmentRemove\";\nvar exports5 = {\n    Root: ComposerAttachmentRoot,\n    Remove: ComposerAttachmentRemove\n};\nvar composer_attachment_default = Object.assign(ComposerAttachment2, exports5);\n// src/ui/composer.tsx\n\nvar useAllowAttachments = (ensureCapability = false)=>{\n    const { composer: { allowAttachments = true } = {} } = useThreadConfig();\n    const { useThread } = useThreadContext();\n    const attachmentsSupported = useThread((t)=>t.capabilities.attachments);\n    return allowAttachments && (!ensureCapability || attachmentsSupported);\n};\nvar Composer = ()=>{\n    const allowAttachments = useAllowAttachments(true);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(ComposerRoot, {\n        children: [\n            allowAttachments && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerAttachments, {}),\n            allowAttachments && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerAddAttachment, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerInput, {\n                autoFocus: true\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerAction, {})\n        ]\n    });\n};\nComposer.displayName = \"Composer\";\nvar ComposerRoot = withDefaults(composer_exports.Root, {\n    className: \"aui-composer-root\"\n});\nComposerRoot.displayName = \"ComposerRoot\";\nvar ComposerInputStyled = withDefaults(composer_exports.Input, {\n    rows: 1,\n    autoFocus: true,\n    className: \"aui-composer-input\"\n});\nvar ComposerInput = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { input: { placeholder = \"Write a message...\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerInputStyled, {\n        placeholder,\n        ...props,\n        ref\n    });\n});\nComposerInput.displayName = \"ComposerInput\";\nvar ComposerAttachmentsContainer = withDefaults(\"div\", {\n    className: \"aui-composer-attachments\"\n});\nvar ComposerAttachments = ({ components })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerAttachmentsContainer, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(composer_exports.Attachments, {\n            components: {\n                ...components,\n                Attachment: components?.Attachment ?? composer_attachment_default\n            }\n        })\n    });\n};\nvar ComposerAttachButton = withDefaults(TooltipIconButton, {\n    variant: \"default\",\n    className: \"aui-composer-attach\"\n});\nvar ComposerAddAttachment = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { addAttachment: { tooltip = \"Attach file\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowAttachments = useAllowAttachments();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(composer_exports.AddAttachment, {\n        disabled: !allowAttachments,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerAttachButton, {\n            tooltip,\n            variant: \"ghost\",\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_PaperclipIcon_SendHorizontalIcon_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {})\n        })\n    });\n});\nComposerAddAttachment.displayName = \"ComposerAddAttachment\";\nvar useAllowCancel = ()=>{\n    const { useThread } = useThreadContext();\n    const cancelSupported = useThread((t)=>t.capabilities.cancel);\n    return cancelSupported;\n};\nvar ComposerAction = ()=>{\n    const allowCancel = useAllowCancel();\n    if (!allowCancel) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerSend, {});\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(thread_exports.If, {\n                running: false,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerSend, {})\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(thread_exports.If, {\n                running: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerCancel, {})\n            })\n        ]\n    });\n};\nComposerAction.displayName = \"ComposerAction\";\nvar ComposerSendButton = withDefaults(TooltipIconButton, {\n    variant: \"default\",\n    className: \"aui-composer-send\"\n});\nvar ComposerSend = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { send: { tooltip = \"Send\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(composer_exports.Send, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerSendButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_PaperclipIcon_SendHorizontalIcon_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {})\n        })\n    });\n});\nComposerSend.displayName = \"ComposerSend\";\nvar ComposerCancelButton = withDefaults(TooltipIconButton, {\n    variant: \"default\",\n    className: \"aui-composer-cancel\"\n});\nvar ComposerCancel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { cancel: { tooltip = \"Cancel\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(composer_exports.Cancel, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ComposerCancelButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(CircleStopIcon, {})\n        })\n    });\n});\nComposerCancel.displayName = \"ComposerCancel\";\nvar exports6 = {\n    Root: ComposerRoot,\n    Input: ComposerInput,\n    Action: ComposerAction,\n    Send: ComposerSend,\n    Cancel: ComposerCancel,\n    AddAttachment: ComposerAddAttachment,\n    Attachments: ComposerAttachments\n};\nvar composer_default = Object.assign(Composer, exports6);\n// src/ui/thread-welcome.tsx\n\n\nvar ThreadWelcome = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(ThreadWelcomeRoot, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(ThreadWelcomeCenter, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadWelcomeAvatar, {}),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadWelcomeMessage, {})\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadWelcomeSuggestions, {})\n        ]\n    });\n};\nThreadWelcome.displayName = \"ThreadWelcome\";\nvar ThreadWelcomeRootStyled = withDefaults(\"div\", {\n    className: \"aui-thread-welcome-root\"\n});\nvar ThreadWelcomeCenter = withDefaults(\"div\", {\n    className: \"aui-thread-welcome-center\"\n});\nvar ThreadWelcomeRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(thread_exports.Empty, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadWelcomeRootStyled, {\n            ...props,\n            ref\n        })\n    });\n});\nThreadWelcomeRoot.displayName = \"ThreadWelcomeRoot\";\nvar ThreadWelcomeAvatar = ()=>{\n    const { assistantAvatar: avatar = {\n        fallback: \"A\"\n    } } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Avatar, {\n        ...avatar\n    });\n};\nvar ThreadWelcomeMessageStyled = withDefaults(\"p\", {\n    className: \"aui-thread-welcome-message\"\n});\nvar ThreadWelcomeMessage = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ message: messageProp, ...rest }, ref)=>{\n    const { welcome: { message = \"How can I help you today?\" } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadWelcomeMessageStyled, {\n        ...rest,\n        ref,\n        children: messageProp ?? message\n    });\n});\nThreadWelcomeMessage.displayName = \"ThreadWelcomeMessage\";\nvar ThreadWelcomeSuggestionContainer = withDefaults(\"div\", {\n    className: \"aui-thread-welcome-suggestion-container\"\n});\nvar ThreadWelcomeSuggestionStyled = withDefaults(thread_exports.Suggestion, {\n    className: \"aui-thread-welcome-suggestion\"\n});\nvar ThreadWelcomeSuggestion = ({ suggestion: { text, prompt } })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadWelcomeSuggestionStyled, {\n        prompt,\n        method: \"replace\",\n        autoSend: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"aui-thread-welcome-suggestion-text\",\n            children: text ?? prompt\n        })\n    });\n};\nvar ThreadWelcomeSuggestions = ()=>{\n    const { welcome: { suggestions } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadWelcomeSuggestionContainer, {\n        children: suggestions?.map((suggestion, idx)=>{\n            const key = `${suggestion.prompt}-${idx}`;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadWelcomeSuggestion, {\n                suggestion\n            }, key);\n        })\n    });\n};\nThreadWelcomeSuggestions.displayName = \"ThreadWelcomeSuggestions\";\nvar exports7 = {\n    Root: ThreadWelcomeRoot,\n    Center: ThreadWelcomeCenter,\n    Avatar: ThreadWelcomeAvatar,\n    Message: ThreadWelcomeMessage,\n    Suggestions: ThreadWelcomeSuggestions,\n    Suggestion: ThreadWelcomeSuggestion\n};\nvar thread_welcome_default = Object.assign(ThreadWelcome, exports7);\n// src/ui/user-message.tsx\n\n// src/ui/user-action-bar.tsx\n\n\n\nvar useAllowEdit = (ensureCapability = false)=>{\n    const { userMessage: { allowEdit = true } = {} } = useThreadConfig();\n    const { useThread } = useThreadContext();\n    const editSupported = useThread((t)=>t.capabilities.edit);\n    return allowEdit && (!ensureCapability || editSupported);\n};\nvar UserActionBar = ()=>{\n    const allowEdit = useAllowEdit(true);\n    if (!allowEdit) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UserActionBarRoot, {\n        hideWhenRunning: true,\n        autohide: \"not-last\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UserActionBarEdit, {})\n    });\n};\nUserActionBar.displayName = \"UserActionBar\";\nvar UserActionBarRoot = withDefaults(actionBar_exports.Root, {\n    className: \"aui-user-action-bar-root\"\n});\nUserActionBarRoot.displayName = \"UserActionBarRoot\";\nvar UserActionBarEdit = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { userMessage: { edit: { tooltip = \"Edit\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowEdit = useAllowEdit();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(actionBar_exports.Edit, {\n        disabled: !allowEdit,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_PencilIcon_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {})\n        })\n    });\n});\nUserActionBarEdit.displayName = \"UserActionBarEdit\";\nvar exports8 = {\n    Root: UserActionBarRoot,\n    Edit: UserActionBarEdit\n};\nvar user_action_bar_default = Object.assign(UserActionBar, exports8);\n// src/ui/user-message-attachment.tsx\n\nvar UserMessageAttachmentRoot = withDefaults(\"div\", {\n    className: \"aui-user-message-attachment-root\"\n});\nUserMessageAttachmentRoot.displayName = \"UserMessageAttachmentRoot\";\nvar UserMessageAttachment = ()=>{\n    const { useAttachment } = useAttachmentContext();\n    const attachment = useAttachment((a)=>a.attachment);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(UserMessageAttachmentRoot, {\n        children: [\n            \".\",\n            attachment.name.split(\".\").pop()\n        ]\n    });\n};\nUserMessageAttachment.displayName = \"UserMessageAttachment\";\nvar exports9 = {\n    Root: UserMessageAttachmentRoot\n};\nvar user_message_attachment_default = Object.assign(UserMessageAttachment, exports9);\n// src/ui/user-message.tsx\n\nvar UserMessage = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(UserMessageRoot, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UserMessageAttachments, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(user_action_bar_default, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UserMessageContent, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(branch_picker_default, {})\n        ]\n    });\n};\nUserMessage.displayName = \"UserMessage\";\nvar UserMessageRoot = withDefaults(message_exports.Root, {\n    className: \"aui-user-message-root\"\n});\nUserMessageRoot.displayName = \"UserMessageRoot\";\nvar UserMessageContentWrapper = withDefaults(\"div\", {\n    className: \"aui-user-message-content\"\n});\nvar UserMessageContent = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ components, ...props }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UserMessageContentWrapper, {\n        ...props,\n        ref,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(message_exports.Content, {\n            components: {\n                ...components,\n                Text: components?.Text ?? content_part_default.Text\n            }\n        })\n    });\n});\nUserMessageContent.displayName = \"UserMessageContent\";\nvar UserMessageAttachmentsContainer = withDefaults(\"div\", {\n    className: \"aui-user-message-attachments\"\n});\nvar UserMessageAttachments = ({ components })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(message_exports.If, {\n        hasAttachments: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UserMessageAttachmentsContainer, {\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(message_exports.Attachments, {\n                components: {\n                    ...components,\n                    Attachment: components?.Attachment ?? user_message_attachment_default\n                }\n            })\n        })\n    });\n};\nvar exports10 = {\n    Root: UserMessageRoot,\n    Content: UserMessageContent,\n    Attachments: UserMessageAttachments\n};\nvar user_message_default = Object.assign(UserMessage, exports10);\n// src/ui/edit-composer.tsx\n\n\nvar EditComposer = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(EditComposerRoot, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(EditComposerInput, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(EditComposerFooter, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(EditComposerCancel, {}),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(EditComposerSend, {})\n                ]\n            })\n        ]\n    });\n};\nEditComposer.displayName = \"EditComposer\";\nvar EditComposerRoot = withDefaults(composer_exports.Root, {\n    className: \"aui-edit-composer-root\"\n});\nEditComposerRoot.displayName = \"EditComposerRoot\";\nvar EditComposerInput = withDefaults(composer_exports.Input, {\n    className: \"aui-edit-composer-input\"\n});\nEditComposerInput.displayName = \"EditComposerInput\";\nvar EditComposerFooter = withDefaults(\"div\", {\n    className: \"aui-edit-composer-footer\"\n});\nEditComposerFooter.displayName = \"EditComposerFooter\";\nvar EditComposerCancel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { editComposer: { cancel: { label = \"Cancel\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(composer_exports.Cancel, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Button, {\n            variant: \"ghost\",\n            ...props,\n            ref,\n            children: props.children ?? label\n        })\n    });\n});\nEditComposerCancel.displayName = \"EditComposerCancel\";\nvar EditComposerSend = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { editComposer: { send: { label = \"Send\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(composer_exports.Send, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Button, {\n            ...props,\n            ref,\n            children: props.children ?? label\n        })\n    });\n});\nEditComposerSend.displayName = \"EditComposerSend\";\nvar exports11 = {\n    Root: EditComposerRoot,\n    Input: EditComposerInput,\n    Footer: EditComposerFooter,\n    Cancel: EditComposerCancel,\n    Send: EditComposerSend\n};\nvar edit_composer_default = Object.assign(EditComposer, exports11);\n// src/ui/thread.tsx\n\nvar Thread = (config)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadRoot, {\n        config,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(ThreadViewport, {\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(thread_welcome_default, {}),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadMessages, {}),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(ThreadViewportFooter, {\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadScrollToBottom, {}),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(composer_default, {})\n                    ]\n                })\n            ]\n        })\n    });\n};\nvar ThreadRootStyled = withDefaults(thread_exports.Root, {\n    className: \"aui-root aui-thread-root\"\n});\nvar ThreadRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ config, ...props }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadConfigProvider, {\n        config,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadRootStyled, {\n            ...props,\n            ref\n        })\n    });\n});\nThreadRoot.displayName = \"ThreadRoot\";\nvar ThreadViewport = withDefaults(thread_exports.Viewport, {\n    className: \"aui-thread-viewport\"\n});\nThreadViewport.displayName = \"ThreadViewport\";\nvar ThreadViewportFooter = withDefaults(\"div\", {\n    className: \"aui-thread-viewport-footer\"\n});\nThreadViewportFooter.displayName = \"ThreadViewportFooter\";\nvar SystemMessage = ()=>null;\nvar ThreadMessages = ({ components, ...rest })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(thread_exports.Messages, {\n        components: {\n            UserMessage: components?.UserMessage ?? user_message_default,\n            EditComposer: components?.EditComposer ?? edit_composer_default,\n            AssistantMessage: components?.AssistantMessage ?? assistant_message_default,\n            SystemMessage: components?.SystemMessage ?? SystemMessage\n        },\n        ...rest\n    });\n};\nThreadMessages.displayName = \"ThreadMessages\";\nvar ThreadScrollToBottomIconButton = withDefaults(TooltipIconButton, {\n    variant: \"outline\",\n    className: \"aui-thread-scroll-to-bottom\"\n});\nvar ThreadScrollToBottom = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { thread: { scrollToBottom: { tooltip = \"Scroll to bottom\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(thread_exports.ScrollToBottom, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadScrollToBottomIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_ArrowDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {})\n        })\n    });\n});\nThreadScrollToBottom.displayName = \"ThreadScrollToBottom\";\nvar exports12 = {\n    Root: ThreadRoot,\n    Viewport: ThreadViewport,\n    Messages: ThreadMessages,\n    ScrollToBottom: ThreadScrollToBottom,\n    ViewportFooter: ThreadViewportFooter\n};\nvar thread_default = Object.assign(Thread, exports12);\n// src/ui/assistant-modal.tsx\n\nvar AssistantModal = (config)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(AssistantModalRoot, {\n        config,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantModalTrigger, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantModalContent, {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(thread_default, {})\n            })\n        ]\n    });\n};\nAssistantModal.displayName = \"AssistantModal\";\nvar AssistantModalRoot = ({ config, ...props })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ThreadConfigProvider, {\n        config,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(assistantModal_exports.Root, {\n            ...props\n        })\n    });\n};\nAssistantModalRoot.displayName = \"AssistantModalRoot\";\nvar AssistantModalTrigger = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantModalAnchor, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(assistantModal_exports.Trigger, {\n            asChild: true,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(AssistantModalButton, {\n                ...props,\n                ref\n            })\n        })\n    });\n});\nAssistantModalTrigger.displayName = \"AssistantModalTrigger\";\nvar AssistantModalAnchor = withDefaults(assistantModal_exports.Anchor, {\n    className: \"aui-root aui-modal-anchor\"\n});\nAssistantModalAnchor.displayName = \"AssistantModalAnchor\";\nvar ModalButtonStyled = withDefaults(TooltipIconButton, {\n    variant: \"default\",\n    className: \"aui-modal-button\"\n});\nvar AssistantModalButton = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ \"data-state\": state, ...rest }, ref)=>{\n    const { strings: { assistantModal: { open: { button: { tooltip: openTooltip = \"Close Assistant\" } = {} } = {}, closed: { button: { tooltip: closedTooltip = \"Open Assistant\" } = {} } = {} } = {} } = {} } = useThreadConfig();\n    const tooltip = state === \"open\" ? openTooltip : closedTooltip;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ModalButtonStyled, {\n        side: \"left\",\n        tooltip,\n        \"data-state\": state,\n        ...rest,\n        ref,\n        children: rest.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_BotIcon_ChevronDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                    \"data-state\": state,\n                    className: \"aui-modal-button-closed-icon\"\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_barrel_optimize_names_BotIcon_ChevronDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                    \"data-state\": state,\n                    className: \"aui-modal-button-open-icon\"\n                })\n            ]\n        })\n    });\n});\nAssistantModalButton.displayName = \"AssistantModalButton\";\nvar AssistantModalContent = withDefaults(assistantModal_exports.Content, {\n    className: \"aui-root aui-modal-content\",\n    sideOffset: 16\n});\nAssistantModalContent.displayName = \"AssistantModalContent\";\nvar exports13 = {\n    Root: AssistantModalRoot,\n    Trigger: AssistantModalTrigger,\n    Content: AssistantModalContent,\n    Button: AssistantModalButton,\n    Anchor: AssistantModalAnchor\n};\nvar assistant_modal_default = Object.assign(AssistantModal, exports13);\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bhc3Npc3RhbnQtdWkrcmVhY3RAMC41LjUxX0B0eXBlcytyZWFjdC1kb21AMTguMy4wX0B0eXBlcytyZWFjdEAxOC4zLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdF83dXlpNG5lYjZlbzdtbmRodW9zdmJzeHNsZS9ub2RlX21vZHVsZXMvQGFzc2lzdGFudC11aS9yZWFjdC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDcUI7O0FDRTJDOztBQ0R0QjtBQWNuQyxJQUFNTyxpQ0FBbUJGLG9EQUFhQSxDQUMzQztBQU9LLFNBQVNHLG9CQUFvQkMsT0FBQTtJQUNsQyxNQUFNQyxVQUFVSixpREFBVUEsQ0FBQ0M7SUFDM0IsSUFBSSxDQUFDRSxTQUFTRSxZQUFZLENBQUNELFNBQ3pCLE1BQU0sSUFBSUUsTUFDUjtJQUVKLE9BQU9GO0FBQ1Q7O0FDN0J1Qjs7QUNJaEIsSUFBTUksc0JBQU47SUFHTEMsaUJBQWlCO1FBQ2YsT0FBT0Msc0VBQWlCQSxDQUFDLEtBQUtDLFVBQVU7SUFDMUM7SUFFQUMsNEJBQTRCQyxRQUFBLEVBQStCO1FBQ3pELEtBQUtGLFVBQUEsQ0FBV0csR0FBQSxDQUFJRDtRQUNwQixPQUFPO1lBQ0wsS0FBS0YsVUFBQSxDQUFXSSxNQUFBLENBQU9GO1FBQ3pCO0lBQ0Y7O2FBWFFGLGFBQWEsb0JBQUlLOztBQVkzQjs7QURQTyxJQUFNQyxnQ0FBZ0MsSUFDM0NWLCtDQUFNQSxDQUE0QjtRQUNoQyxNQUFNVyxRQUFRLElBQUlWO1FBRWxCLE9BQU9XLE9BQU9DLE1BQUEsQ0FBTztZQUNuQlgsZ0JBQWdCO2dCQUNkLE9BQU9TLE1BQU1ULGNBQUE7WUFDZjtZQUNBRyw2QkFBNkIsQ0FBQ0M7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b0dBQU9BLEVBQVA7b0JBQ0MsY0FBWTlzQjtvQkFDWmEsV0FBVTtnQkFBQTtnQkFFWixnQkFBQWxELHNEQUFBQSxDQUFDb3ZCLG9HQUFlQSxFQUFmO29CQUNDLGNBQVkvc0I7b0JBQ1phLFdBQVU7Z0JBQUE7YUFDWjtRQUFBO0lBQ0Y7QUFJUjtBQUVBdXlCLHFCQUFxQjMwQixXQUFBLEdBQWM7QUFFbkMsSUFBTXkwQix3QkFBd0JseUIsYUFBYWthLHVCQUF3QnpaLE9BQUEsRUFBUztJQUMxRVosV0FBVztJQUNYYSxZQUFZO0FBQ2Q7QUFFQXd4QixzQkFBc0J6MEIsV0FBQSxHQUFjO0FBRXBDLElBQU1tc0IsWUFBVTtJQUNkdnBCLE1BQU0yeEI7SUFDTnp4QixTQUFTMHhCO0lBQ1R4eEIsU0FBU3l4QjtJQUNUNXdCLFFBQVE4d0I7SUFDUmpZLFFBQVFnWTtBQUNWO0FBRUEsSUFBT08sMEJBQVE1Z0MsT0FBT2k0QixNQUFBLENBQU9nSSxnQkFBZ0JuSSIsInNvdXJjZXMiOlsid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3Byb3ZpZGVycy9Bc3Npc3RhbnRSdW50aW1lUHJvdmlkZXIudHN4PzA2NGEiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2NvbnRleHQvcHJvdmlkZXJzL0Fzc2lzdGFudFByb3ZpZGVyLnRzeD9hZjcyIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3JlYWN0L0Fzc2lzdGFudENvbnRleHQudHM/MjVhOCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvY29udGV4dC9zdG9yZXMvQXNzaXN0YW50TW9kZWxDb25maWcudHM/OWMyYSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvdXRpbHMvUHJveHlDb25maWdQcm92aWRlci50cz85ZDExIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3N0b3Jlcy9Bc3Npc3RhbnRUb29sVUlzLnRzP2M3Y2YiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2NvbnRleHQvcHJvdmlkZXJzL1RocmVhZFByb3ZpZGVyLnRzeD84MjU2Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHQudHM/NjU3NiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvY29udGV4dC9zdG9yZXMvQ29tcG9zZXIudHM/YjBhMSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvY29udGV4dC9zdG9yZXMvVGhyZWFkLnRzP2NjY2YiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2NvbnRleHQvc3RvcmVzL1RocmVhZFZpZXdwb3J0LnRzeD9hYjBlIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3N0b3Jlcy9UaHJlYWRBY3Rpb25zLnRzPzAxOGUiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2NvbnRleHQvc3RvcmVzL1RocmVhZE1lc3NhZ2VzLnRzP2FhOGYiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2NvbnRleHQvc3RvcmVzL1RocmVhZFJ1bnRpbWUudHN4PzcyY2QiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2NvcmUvc3Vic2NyaWJlVG9NYWluVGhyZWFkLnRzPzRiNTciLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2xvY2FsL3VzZUxvY2FsUnVudGltZS50c3g/ODZmZCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvY29yZS9CYXNlQXNzaXN0YW50UnVudGltZS50c3g/MmFkZSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvaW50ZXJuYWwudHM/YWI4ZCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvdXRpbHMvVGhyZWFkUnVudGltZUNvbXBvc2VyLnRzeD82NjJkIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91dGlscy9pZFV0aWxzLnRzeD9iZDFhIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9lZGdlL2NvbnZlcnRlcnMvZnJvbUNvcmVNZXNzYWdlLnRzPzU2MjMiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL3V0aWxzL01lc3NhZ2VSZXBvc2l0b3J5LnRzeD8wY2RmIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91dGlscy9zbW9vdGgvdXNlU21vb3RoLnRzeD80OTJkIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91dGlscy9zbW9vdGgvU21vb3RoQ29udGV4dC50c3g/ZTcxOCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvdWkvYmFzZS90b29sdGlwLWljb24tYnV0dG9uLnRzeD80MTRhIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91aS9iYXNlL3Rvb2x0aXAudHN4P2UyNjgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3VpL3V0aWxzL3dpdGhEZWZhdWx0cy50c3g/ZTQzOSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvdWkvYmFzZS9idXR0b24udHN4PzczNWEiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvY29udmVydGVycy9mcm9tTGFuZ3VhZ2VNb2RlbE1lc3NhZ2VzLnRzP2Q4ZmQiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvY29udmVydGVycy9mcm9tTGFuZ3VhZ2VNb2RlbFRvb2xzLnRzPzVmMTAiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2VkZ2Uvc3RyZWFtcy91dGlscy9jaHVua0J5TGluZVN0cmVhbS50cz8yOWE0Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvdXRpbHMvc3RyZWFtUGFydERlY29kZXJTdHJlYW0udHM/NThjYyIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZWRnZS9zdHJlYW1zL3V0aWxzL2luZGV4LnRzP2EwNTgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvdXNlRWRnZVJ1bnRpbWUudHM/YTBjMCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZWRnZS9zdHJlYW1zL2Fzc2lzdGFudERlY29kZXJTdHJlYW0udHM/OTU2ZSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZWRnZS9FZGdlQ2hhdEFkYXB0ZXIudHM/MzBkZiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvbG9jYWwvc2hvdWxkQ29udGludWUudHN4PzA4YjMiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2xvY2FsL0xvY2FsVGhyZWFkUnVudGltZS50c3g/MDk1ZiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvbG9jYWwvTG9jYWxSdW50aW1lLnRzeD9jZDI1Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9leHRlcm5hbC1zdG9yZS9nZXRFeHRlcm5hbFN0b3JlTWVzc2FnZS50c3g/OTZiNCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZXh0ZXJuYWwtc3RvcmUvVGhyZWFkTWVzc2FnZUNvbnZlcnRlci50cz82MjY1Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9leHRlcm5hbC1zdG9yZS9hdXRvLXN0YXR1cy50c3g/YWFiYiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZXh0ZXJuYWwtc3RvcmUvVGhyZWFkTWVzc2FnZUxpa2UudHN4P2JkOGEiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3V0aWxzL2dldFRocmVhZE1lc3NhZ2VUZXh0LnRzeD81NGFhIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9leHRlcm5hbC1zdG9yZS9FeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZS50c3g/ZjRiZiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZXh0ZXJuYWwtc3RvcmUvRXh0ZXJuYWxTdG9yZVJ1bnRpbWUudHN4PzkxZWUiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2V4dGVybmFsLXN0b3JlL3VzZUV4dGVybmFsU3RvcmVSdW50aW1lLnRzeD8zN2NmIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9leHRlcm5hbC1zdG9yZS9leHRlcm5hbC1tZXNzYWdlLWNvbnZlcnRlci50c3g/NDRiZCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcnVudGltZXMvZGFuZ2Vyb3VzLWluLWJyb3dzZXIvdXNlRGFuZ2Vyb3VzSW5Ccm93c2VyUnVudGltZS50cz85MDcxIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9kYW5nZXJvdXMtaW4tYnJvd3Nlci9EYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyLnRzP2VjMjgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL3NwZWVjaC9XZWJTcGVlY2hTeW50aGVzaXNBZGFwdGVyLnRzPzE3MWMiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3J1bnRpbWVzL2F0dGFjaG1lbnQvU2ltcGxlSW1hZ2VBdHRhY2htZW50QWRhcHRlci50cz8xYzJlIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9hdHRhY2htZW50L1NpbXBsZVRleHRBdHRhY2htZW50QWRhcHRlci50cz8wN2ZkIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9ydW50aW1lcy9hdHRhY2htZW50L0NvbXBvc2l0ZUF0dGFjaG1lbnRBZGFwdGVyLnRzP2YwMTciLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2NvbnRleHQvUmVhZG9ubHlTdG9yZS50cz8xOGI5Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3N0b3Jlcy9Bc3Npc3RhbnRBY3Rpb25zLnRzeD9mMjZjIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3N0b3Jlcy9Bc3Npc3RhbnRSdW50aW1lLnRzeD8wOThhIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3JlYWN0L0NvbXBvc2VyQ29udGV4dC50cz81ZGM4Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3JlYWN0L01lc3NhZ2VDb250ZXh0LnRzPzczYmIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2NvbnRleHQvcmVhY3QvQ29udGVudFBhcnRDb250ZXh0LnRzPzY3YjMiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2hvb2tzL3VzZUFwcGVuZE1lc3NhZ2UudHN4P2ZmNDgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2hvb2tzL3VzZVN3aXRjaFRvTmV3VGhyZWFkLnRzeD8wYTU5Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9tb2RlbC1jb25maWcvdXNlQXNzaXN0YW50VG9vbC50c3g/NTI3NCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvbW9kZWwtY29uZmlnL21ha2VBc3Npc3RhbnRUb29sLnRzeD81MzJhIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9tb2RlbC1jb25maWcvdXNlQXNzaXN0YW50VG9vbFVJLnRzeD85ZmYwIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9tb2RlbC1jb25maWcvbWFrZUFzc2lzdGFudFRvb2xVSS50c3g/MzcxNyIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvbW9kZWwtY29uZmlnL3VzZUFzc2lzdGFudEluc3RydWN0aW9ucy50c3g/NjA5MiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJDb3B5LnRzeD84MjdkIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91dGlscy9jb21iaW5lZC91c2VDb21iaW5lZFN0b3JlLnRzP2Q3NTYiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3V0aWxzL2NvbWJpbmVkL2NyZWF0ZUNvbWJpbmVkU3RvcmUudHM/YzBiZiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJFZGl0LnRzeD8xYjQ4Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvYWN0aW9uQmFyL3VzZUFjdGlvbkJhclJlbG9hZC50c3g/MzVlYyIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJTcGVhay50c3g/ZWYwYiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJTdG9wU3BlYWtpbmcudHN4P2ZkNjIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9icmFuY2hQaWNrZXIvdXNlQnJhbmNoUGlja2VyQ291bnQudHN4P2YzYzciLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9icmFuY2hQaWNrZXIvdXNlQnJhbmNoUGlja2VyTmV4dC50c3g/ZDBjYiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2JyYW5jaFBpY2tlci91c2VCcmFuY2hQaWNrZXJOdW1iZXIudHN4P2I0NTEiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9icmFuY2hQaWNrZXIvdXNlQnJhbmNoUGlja2VyUHJldmlvdXMudHN4P2RiM2YiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9jb21wb3Nlci91c2VDb21wb3NlckNhbmNlbC50c3g/Y2M0MyIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2NvbXBvc2VyL3VzZUNvbXBvc2VySWYudHN4P2RhOTMiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9jb21wb3Nlci91c2VDb21wb3NlclNlbmQudHN4PzcxOWUiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9jb21wb3Nlci91c2VDb21wb3NlckFkZEF0dGFjaG1lbnQudHN4P2RlNGEiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9jb250ZW50UGFydC91c2VDb250ZW50UGFydERpc3BsYXkudHN4P2RiNmUiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9jb250ZW50UGFydC91c2VDb250ZW50UGFydEltYWdlLnRzeD9lYTU2Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvY29udGVudFBhcnQvdXNlQ29udGVudFBhcnRUZXh0LnRzeD9iMjY1Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvbWVzc2FnZS91c2VNZXNzYWdlSWYudHN4P2ViNjgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy90aHJlYWQvdXNlVGhyZWFkSWYudHN4PzRmZDgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy90aHJlYWQvdXNlVGhyZWFkRW1wdHkudHN4P2NjYTQiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy90aHJlYWQvdXNlVGhyZWFkU2Nyb2xsVG9Cb3R0b20udHN4PzVkNTEiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy90aHJlYWQvdXNlVGhyZWFkU3VnZ2VzdGlvbi50c3g/MGQyMiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvaW5kZXgudHM/NGQwNSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvQWN0aW9uQmFyUm9vdC50c3g/ZDVhNCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyRmxvYXRTdGF0dXMudHN4PzZlZTYiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3V0aWxzL2NyZWF0ZUFjdGlvbkJ1dHRvbi50c3g/NmMyOCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvQWN0aW9uQmFyQ29weS50c3g/ZTY5YSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvQWN0aW9uQmFyUmVsb2FkLnRzeD85N2EwIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2FjdGlvbkJhci9BY3Rpb25CYXJFZGl0LnRzeD9kYjM5Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2FjdGlvbkJhci9BY3Rpb25CYXJTcGVhay50c3g/MDYwMCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvQWN0aW9uQmFyU3RvcFNwZWFraW5nLnRzeD8yOTc3Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2Fzc2lzdGFudE1vZGFsL2luZGV4LnRzPzA0MDYiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvYXNzaXN0YW50TW9kYWwvQXNzaXN0YW50TW9kYWxSb290LnRzeD9mN2Y3Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91dGlscy9ob29rcy91c2VPbkNvbXBvc2VyRm9jdXMudHN4PzBlNmUiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvYXNzaXN0YW50TW9kYWwvc2NvcGUudHN4P2NlNmMiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvYXNzaXN0YW50TW9kYWwvQXNzaXN0YW50TW9kYWxUcmlnZ2VyLnRzeD9hYWE0Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2Fzc2lzdGFudE1vZGFsL0Fzc2lzdGFudE1vZGFsQ29udGVudC50c3g/N2JmNSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9hc3Npc3RhbnRNb2RhbC9Bc3Npc3RhbnRNb2RhbEFuY2hvci50c3g/ODk2NCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9icmFuY2hQaWNrZXIvaW5kZXgudHM/MzVlYyIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9icmFuY2hQaWNrZXIvQnJhbmNoUGlja2VyTmV4dC50c3g/YjRiZSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9icmFuY2hQaWNrZXIvQnJhbmNoUGlja2VyUHJldmlvdXMudHN4P2JmOWIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvYnJhbmNoUGlja2VyL0JyYW5jaFBpY2tlckNvdW50LnRzeD9iYjVlIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2JyYW5jaFBpY2tlci9CcmFuY2hQaWNrZXJOdW1iZXIudHN4P2NiYTAiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvYnJhbmNoUGlja2VyL0JyYW5jaFBpY2tlclJvb3QudHN4P2FlMTgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvbWVzc2FnZS9pbmRleC50cz83ZDdlIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL21lc3NhZ2UvTWVzc2FnZVJvb3QudHN4PzhlZDQiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3V0aWxzL2hvb2tzL3VzZU1hbmFnZWRSZWYudHM/NDI1NSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9tZXNzYWdlL01lc3NhZ2VJZi50c3g/ZGIyNSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9tZXNzYWdlL01lc3NhZ2VDb250ZW50LnRzeD9iMzE1Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3Byb3ZpZGVycy9Db250ZW50UGFydFByb3ZpZGVyLnRzeD85NzJmIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2NvbnRlbnRQYXJ0L0NvbnRlbnRQYXJ0VGV4dC50c3g/ZGE1NCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9jb250ZW50UGFydC9Db250ZW50UGFydEltYWdlLnRzeD9mYjEwIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2NvbnRlbnRQYXJ0L0NvbnRlbnRQYXJ0RGlzcGxheS50c3g/YzViNSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9jb250ZW50UGFydC9Db250ZW50UGFydEluUHJvZ3Jlc3MudHN4PzNmODIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvbWVzc2FnZS9NZXNzYWdlSW5Qcm9ncmVzcy50c3g/NGZjNyIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9tZXNzYWdlL01lc3NhZ2VBdHRhY2htZW50cy50c3g/YmE1ZiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvY29udGV4dC9yZWFjdC9BdHRhY2htZW50Q29udGV4dC50cz8wNjIxIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3Byb3ZpZGVycy9NZXNzYWdlQXR0YWNobWVudFByb3ZpZGVyLnRzeD9iMTVhIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2NvbXBvc2VyL2luZGV4LnRzPzYxN2MiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvY29tcG9zZXIvQ29tcG9zZXJSb290LnRzeD82OTc1Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2NvbXBvc2VyL0NvbXBvc2VySW5wdXQudHN4PzY3NDYiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvY29tcG9zZXIvQ29tcG9zZXJTZW5kLnRzeD83OWI3Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2NvbXBvc2VyL0NvbXBvc2VyQ2FuY2VsLnRzeD9jMTJhIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2NvbXBvc2VyL0NvbXBvc2VyQWRkQXR0YWNobWVudC50c3g/YTRlZiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9jb21wb3Nlci9Db21wb3NlckF0dGFjaG1lbnRzLnRzeD8xZDNmIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3Byb3ZpZGVycy9Db21wb3NlckF0dGFjaG1lbnRQcm92aWRlci50c3g/NmM1MSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy9jb21wb3Nlci9Db21wb3NlcklmLnRzeD82NmZkIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL2NvbnRlbnRQYXJ0L2luZGV4LnRzPzkwNWIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL2luZGV4LnRzPzQ5OWIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL1RocmVhZFJvb3QudHN4PzQ2ZjgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL1RocmVhZEVtcHR5LnRzeD8wZDA0Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9wcmltaXRpdmVzL3RocmVhZC9UaHJlYWRJZi50c3g/OTg2NSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy90aHJlYWQvVGhyZWFkVmlld3BvcnQudHN4PzkyZmIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy90aHJlYWQvdXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsLnRzeD8wOTc5Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91dGlscy9ob29rcy91c2VPblJlc2l6ZUNvbnRlbnQudHN4PzViYjAiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3V0aWxzL2hvb2tzL3VzZU9uU2Nyb2xsVG9Cb3R0b20udHN4PzUyOWIiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL1RocmVhZE1lc3NhZ2VzLnRzeD8yYTNjIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3Byb3ZpZGVycy9NZXNzYWdlUHJvdmlkZXIudHN4PzVjMDgiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL2NvbnRleHQvc3RvcmVzL0VkaXRDb21wb3Nlci50cz8yYWZlIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy9jb250ZXh0L3N0b3Jlcy9NZXNzYWdlVXRpbHMudHM/OWE3MyIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvcHJpbWl0aXZlcy90aHJlYWQvVGhyZWFkU2Nyb2xsVG9Cb3R0b20udHN4Pzk1YzkiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL1RocmVhZFN1Z2dlc3Rpb24udHN4PzE5ZWMiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3VpL3RocmVhZC1jb25maWcudHN4PzhiNDQiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3VpL2Fzc2lzdGFudC1hY3Rpb24tYmFyLnRzeD84MDRiIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91aS9hc3Npc3RhbnQtbWVzc2FnZS50c3g/OTEwNCIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvdWkvYnJhbmNoLXBpY2tlci50c3g/ZTM3YiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvdWkvYmFzZS9hdmF0YXIudHN4PzE4OTEiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3VpL2NvbnRlbnQtcGFydC50c3g/YjU2ZiIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvdWkvYXNzaXN0YW50LW1vZGFsLnRzeD9hNzBmIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91aS90aHJlYWQudHN4PzRjMTYiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3VpL2NvbXBvc2VyLnRzeD8yNmRjIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91aS9iYXNlL0NpcmNsZVN0b3BJY29uLnRzeD81YWE5Iiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91aS9jb21wb3Nlci1hdHRhY2htZW50LnRzeD9jZWIzIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91aS90aHJlYWQtd2VsY29tZS50c3g/ODNmNSIsIndlYnBhY2s6Ly93aXRoLWxhbmdncmFwaC8uLi9zcmMvdWkvdXNlci1tZXNzYWdlLnRzeD9iMGEwIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91aS91c2VyLWFjdGlvbi1iYXIudHN4P2FiMGEiLCJ3ZWJwYWNrOi8vd2l0aC1sYW5nZ3JhcGgvLi4vc3JjL3VpL3VzZXItbWVzc2FnZS1hdHRhY2htZW50LnRzeD8zNjIwIiwid2VicGFjazovL3dpdGgtbGFuZ2dyYXBoLy4uL3NyYy91aS9lZGl0LWNvbXBvc2VyLnRzeD80MjU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBtZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IEFzc2lzdGFudFJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vcnVudGltZXMvY29yZS9Bc3Npc3RhbnRSdW50aW1lXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRQcm92aWRlciB9IGZyb20gXCIuL0Fzc2lzdGFudFByb3ZpZGVyXCI7XG5cbnR5cGUgQXNzaXN0YW50UnVudGltZVByb3ZpZGVyUHJvcHMgPSB7XG4gIHJ1bnRpbWU6IEFzc2lzdGFudFJ1bnRpbWU7XG59O1xuXG5jb25zdCBBc3Npc3RhbnRSdW50aW1lUHJvdmlkZXJJbXBsOiBGQzxcbiAgUHJvcHNXaXRoQ2hpbGRyZW48QXNzaXN0YW50UnVudGltZVByb3ZpZGVyUHJvcHM+XG4+ID0gKHsgY2hpbGRyZW4sIHJ1bnRpbWUgfSkgPT4ge1xuICByZXR1cm4gPEFzc2lzdGFudFByb3ZpZGVyIHJ1bnRpbWU9e3J1bnRpbWV9PntjaGlsZHJlbn08L0Fzc2lzdGFudFByb3ZpZGVyPjtcbn07XG5cbmV4cG9ydCBjb25zdCBBc3Npc3RhbnRSdW50aW1lUHJvdmlkZXIgPSBtZW1vKEFzc2lzdGFudFJ1bnRpbWVQcm92aWRlckltcGwpO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUluc2VydGlvbkVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBBc3Npc3RhbnRSdW50aW1lIH0gZnJvbSBcIi4uLy4uL3J1bnRpbWVzXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRDb250ZXh0IH0gZnJvbSBcIi4uL3JlYWN0L0Fzc2lzdGFudENvbnRleHRcIjtcbmltcG9ydCB7IG1ha2VBc3Npc3RhbnRNb2RlbENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL3N0b3Jlcy9Bc3Npc3RhbnRNb2RlbENvbmZpZ1wiO1xuaW1wb3J0IHsgbWFrZUFzc2lzdGFudFRvb2xVSXNTdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvQXNzaXN0YW50VG9vbFVJc1wiO1xuaW1wb3J0IHsgVGhyZWFkUHJvdmlkZXIgfSBmcm9tIFwiLi9UaHJlYWRQcm92aWRlclwiO1xuaW1wb3J0IHsgbWFrZUFzc2lzdGFudEFjdGlvbnNTdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvQXNzaXN0YW50QWN0aW9uc1wiO1xuaW1wb3J0IHsgbWFrZUFzc2lzdGFudFJ1bnRpbWVTdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvQXNzaXN0YW50UnVudGltZVwiO1xuaW1wb3J0IHsgd3JpdGFibGVTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5cbnR5cGUgQXNzaXN0YW50UHJvdmlkZXJQcm9wcyA9IHtcbiAgcnVudGltZTogQXNzaXN0YW50UnVudGltZTtcbn07XG5cbmV4cG9ydCBjb25zdCBBc3Npc3RhbnRQcm92aWRlcjogRkM8XG4gIFByb3BzV2l0aENoaWxkcmVuPEFzc2lzdGFudFByb3ZpZGVyUHJvcHM+XG4+ID0gKHsgY2hpbGRyZW4sIHJ1bnRpbWUgfSkgPT4ge1xuICBjb25zdCBydW50aW1lUmVmID0gdXNlUmVmKHJ1bnRpbWUpO1xuICB1c2VJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgIHJ1bnRpbWVSZWYuY3VycmVudCA9IHJ1bnRpbWU7XG4gIH0pO1xuXG4gIGNvbnN0IFtjb250ZXh0XSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICBjb25zdCB1c2VBc3Npc3RhbnRSdW50aW1lID0gbWFrZUFzc2lzdGFudFJ1bnRpbWVTdG9yZShydW50aW1lKTtcbiAgICBjb25zdCB1c2VNb2RlbENvbmZpZyA9IG1ha2VBc3Npc3RhbnRNb2RlbENvbmZpZ1N0b3JlKCk7XG4gICAgY29uc3QgdXNlVG9vbFVJcyA9IG1ha2VBc3Npc3RhbnRUb29sVUlzU3RvcmUoKTtcbiAgICBjb25zdCB1c2VBc3Npc3RhbnRBY3Rpb25zID0gbWFrZUFzc2lzdGFudEFjdGlvbnNTdG9yZShydW50aW1lUmVmKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1c2VNb2RlbENvbmZpZyxcbiAgICAgIHVzZVRvb2xVSXMsXG4gICAgICB1c2VBc3Npc3RhbnRSdW50aW1lLFxuICAgICAgdXNlQXNzaXN0YW50QWN0aW9ucyxcbiAgICB9O1xuICB9KTtcblxuICBjb25zdCBnZXRNb2RlbENvbmZpZyA9IGNvbnRleHQudXNlTW9kZWxDb25maWcoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcnVudGltZS5yZWdpc3Rlck1vZGVsQ29uZmlnUHJvdmlkZXIoZ2V0TW9kZWxDb25maWcpO1xuICB9LCBbcnVudGltZSwgZ2V0TW9kZWxDb25maWddKTtcblxuICB1c2VFZmZlY3QoXG4gICAgKCkgPT4gd3JpdGFibGVTdG9yZShjb250ZXh0LnVzZUFzc2lzdGFudFJ1bnRpbWUpLnNldFN0YXRlKHJ1bnRpbWUsIHRydWUpLFxuICAgIFtydW50aW1lLCBjb250ZXh0XSxcbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxBc3Npc3RhbnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cbiAgICAgIDxUaHJlYWRQcm92aWRlciBwcm92aWRlcj17cnVudGltZX0+e2NoaWxkcmVufTwvVGhyZWFkUHJvdmlkZXI+XG4gICAgPC9Bc3Npc3RhbnRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IEFzc2lzdGFudE1vZGVsQ29uZmlnU3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL0Fzc2lzdGFudE1vZGVsQ29uZmlnXCI7XG5pbXBvcnQgdHlwZSB7IEFzc2lzdGFudFRvb2xVSXNTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXMvQXNzaXN0YW50VG9vbFVJc1wiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRBY3Rpb25zU3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL0Fzc2lzdGFudEFjdGlvbnNcIjtcbmltcG9ydCB7IEFzc2lzdGFudFJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vcnVudGltZXNcIjtcblxuZXhwb3J0IHR5cGUgQXNzaXN0YW50Q29udGV4dFZhbHVlID0ge1xuICB1c2VNb2RlbENvbmZpZzogUmVhZG9ubHlTdG9yZTxBc3Npc3RhbnRNb2RlbENvbmZpZ1N0YXRlPjtcbiAgdXNlVG9vbFVJczogUmVhZG9ubHlTdG9yZTxBc3Npc3RhbnRUb29sVUlzU3RhdGU+O1xuICB1c2VBc3Npc3RhbnRSdW50aW1lOiBSZWFkb25seVN0b3JlPEFzc2lzdGFudFJ1bnRpbWU+O1xuICB1c2VBc3Npc3RhbnRBY3Rpb25zOiBSZWFkb25seVN0b3JlPEFzc2lzdGFudEFjdGlvbnNTdGF0ZT47XG59O1xuXG5leHBvcnQgY29uc3QgQXNzaXN0YW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QXNzaXN0YW50Q29udGV4dFZhbHVlIHwgbnVsbD4oXG4gIG51bGwsXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXNzaXN0YW50Q29udGV4dCgpOiBBc3Npc3RhbnRDb250ZXh0VmFsdWU7XG5leHBvcnQgZnVuY3Rpb24gdXNlQXNzaXN0YW50Q29udGV4dChvcHRpb25zOiB7XG4gIG9wdGlvbmFsOiB0cnVlO1xufSk6IEFzc2lzdGFudENvbnRleHRWYWx1ZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gdXNlQXNzaXN0YW50Q29udGV4dChvcHRpb25zPzogeyBvcHRpb25hbDogdHJ1ZSB9KSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEFzc2lzdGFudENvbnRleHQpO1xuICBpZiAoIW9wdGlvbnM/Lm9wdGlvbmFsICYmICFjb250ZXh0KVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhpcyBjb21wb25lbnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBc3Npc3RhbnRSdW50aW1lUHJvdmlkZXIuXCIsXG4gICAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB0eXBlIHsgTW9kZWxDb25maWdQcm92aWRlciB9IGZyb20gXCIuLi8uLi90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzXCI7XG5pbXBvcnQgeyBQcm94eUNvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL3V0aWxzL1Byb3h5Q29uZmlnUHJvdmlkZXJcIjtcblxuZXhwb3J0IHR5cGUgQXNzaXN0YW50TW9kZWxDb25maWdTdGF0ZSA9IFJlYWRvbmx5PFxuICBNb2RlbENvbmZpZ1Byb3ZpZGVyICYge1xuICAgIHJlZ2lzdGVyTW9kZWxDb25maWdQcm92aWRlcjogKHByb3ZpZGVyOiBNb2RlbENvbmZpZ1Byb3ZpZGVyKSA9PiAoKSA9PiB2b2lkO1xuICB9XG4+O1xuXG5leHBvcnQgY29uc3QgbWFrZUFzc2lzdGFudE1vZGVsQ29uZmlnU3RvcmUgPSAoKSA9PlxuICBjcmVhdGU8QXNzaXN0YW50TW9kZWxDb25maWdTdGF0ZT4oKCkgPT4ge1xuICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5Q29uZmlnUHJvdmlkZXIoKTtcblxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGdldE1vZGVsQ29uZmlnOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm94eS5nZXRNb2RlbENvbmZpZygpO1xuICAgICAgfSxcbiAgICAgIHJlZ2lzdGVyTW9kZWxDb25maWdQcm92aWRlcjogKHByb3ZpZGVyOiBNb2RlbENvbmZpZ1Byb3ZpZGVyKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm94eS5yZWdpc3Rlck1vZGVsQ29uZmlnUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgfSxcbiAgICB9KSBzYXRpc2ZpZXMgQXNzaXN0YW50TW9kZWxDb25maWdTdGF0ZTtcbiAgfSk7XG4iLCJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7XG4gIHR5cGUgTW9kZWxDb25maWdQcm92aWRlcixcbiAgbWVyZ2VNb2RlbENvbmZpZ3MsXG59IGZyb20gXCIuLi90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBQcm94eUNvbmZpZ1Byb3ZpZGVyIGltcGxlbWVudHMgTW9kZWxDb25maWdQcm92aWRlciB7XG4gIHByaXZhdGUgX3Byb3ZpZGVycyA9IG5ldyBTZXQ8TW9kZWxDb25maWdQcm92aWRlcj4oKTtcblxuICBnZXRNb2RlbENvbmZpZygpIHtcbiAgICByZXR1cm4gbWVyZ2VNb2RlbENvbmZpZ3ModGhpcy5fcHJvdmlkZXJzKTtcbiAgfVxuXG4gIHJlZ2lzdGVyTW9kZWxDb25maWdQcm92aWRlcihwcm92aWRlcjogTW9kZWxDb25maWdQcm92aWRlcikge1xuICAgIHRoaXMuX3Byb3ZpZGVycy5hZGQocHJvdmlkZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLl9wcm92aWRlcnMuZGVsZXRlKHByb3ZpZGVyKTtcbiAgICB9O1xuICB9XG59XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB0eXBlIHsgVG9vbENhbGxDb250ZW50UGFydENvbXBvbmVudCB9IGZyb20gXCIuLi8uLi90eXBlcy9Db250ZW50UGFydENvbXBvbmVudFR5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIEFzc2lzdGFudFRvb2xVSXNTdGF0ZSA9IFJlYWRvbmx5PHtcbiAgZ2V0VG9vbFVJOiAodG9vbE5hbWU6IHN0cmluZykgPT4gVG9vbENhbGxDb250ZW50UGFydENvbXBvbmVudCB8IG51bGw7XG4gIHNldFRvb2xVSTogKFxuICAgIHRvb2xOYW1lOiBzdHJpbmcsXG4gICAgcmVuZGVyOiBUb29sQ2FsbENvbnRlbnRQYXJ0Q29tcG9uZW50LFxuICApID0+ICgpID0+IHZvaWQ7XG59PjtcblxuZXhwb3J0IGNvbnN0IG1ha2VBc3Npc3RhbnRUb29sVUlzU3RvcmUgPSAoKSA9PlxuICBjcmVhdGU8QXNzaXN0YW50VG9vbFVJc1N0YXRlPigoc2V0KSA9PiB7XG4gICAgY29uc3QgcmVuZGVyZXJzID0gbmV3IE1hcDxzdHJpbmcsIFRvb2xDYWxsQ29udGVudFBhcnRDb21wb25lbnRbXT4oKTtcblxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGdldFRvb2xVSTogKG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgYXJyID0gcmVuZGVyZXJzLmdldChuYW1lKTtcbiAgICAgICAgY29uc3QgbGFzdCA9IGFycj8uYXQoLTEpO1xuICAgICAgICBpZiAobGFzdCkgcmV0dXJuIGxhc3Q7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSxcbiAgICAgIHNldFRvb2xVSTogKG5hbWUsIHJlbmRlcikgPT4ge1xuICAgICAgICBsZXQgYXJyID0gcmVuZGVyZXJzLmdldChuYW1lKTtcbiAgICAgICAgaWYgKCFhcnIpIHtcbiAgICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgICByZW5kZXJlcnMuc2V0KG5hbWUsIGFycik7XG4gICAgICAgIH1cbiAgICAgICAgYXJyLnB1c2gocmVuZGVyKTtcbiAgICAgICAgc2V0KHt9KTsgLy8gbm90aWZ5IHRoZSBzdG9yZSBsaXN0ZW5lcnNcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gYXJyLmluZGV4T2YocmVuZGVyKTtcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4ID09PSBhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXQoe30pOyAvLyBub3RpZnkgdGhlIHN0b3JlIGxpc3RlbmVyc1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSkgc2F0aXNmaWVzIEFzc2lzdGFudFRvb2xVSXNTdGF0ZTtcbiAgfSk7XG4iLCJpbXBvcnQgdHlwZSB7IEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VJbnNlcnRpb25FZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IFJlYWN0VGhyZWFkUnVudGltZSB9IGZyb20gXCIuLi8uLi9ydW50aW1lcy9jb3JlL1JlYWN0VGhyZWFkUnVudGltZVwiO1xuaW1wb3J0IHR5cGUgeyBUaHJlYWRDb250ZXh0VmFsdWUgfSBmcm9tIFwiLi4vcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuaW1wb3J0IHsgVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi9yZWFjdC9UaHJlYWRDb250ZXh0XCI7XG5pbXBvcnQgeyBtYWtlQ29tcG9zZXJTdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvQ29tcG9zZXJcIjtcbmltcG9ydCB7IGdldFRocmVhZFN0YXRlRnJvbVJ1bnRpbWUsIG1ha2VUaHJlYWRTdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvVGhyZWFkXCI7XG5pbXBvcnQgeyBtYWtlVGhyZWFkVmlld3BvcnRTdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvVGhyZWFkVmlld3BvcnRcIjtcbmltcG9ydCB7IG1ha2VUaHJlYWRBY3Rpb25TdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvVGhyZWFkQWN0aW9uc1wiO1xuaW1wb3J0IHsgbWFrZVRocmVhZE1lc3NhZ2VzU3RvcmUgfSBmcm9tIFwiLi4vc3RvcmVzL1RocmVhZE1lc3NhZ2VzXCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lV2l0aFN1YnNjcmliZSB9IGZyb20gXCIuLi8uLi9ydW50aW1lcy9jb3JlL0Fzc2lzdGFudFJ1bnRpbWVcIjtcbmltcG9ydCB7IG1ha2VUaHJlYWRSdW50aW1lU3RvcmUgfSBmcm9tIFwiLi4vc3RvcmVzL1RocmVhZFJ1bnRpbWVcIjtcbmltcG9ydCB7IHN1YnNjcmliZVRvTWFpblRocmVhZCB9IGZyb20gXCIuLi8uLi9ydW50aW1lc1wiO1xuaW1wb3J0IHsgd3JpdGFibGVTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5cbnR5cGUgVGhyZWFkUHJvdmlkZXJQcm9wcyA9IHtcbiAgcHJvdmlkZXI6IFRocmVhZFJ1bnRpbWVXaXRoU3Vic2NyaWJlO1xufTtcblxuZXhwb3J0IGNvbnN0IFRocmVhZFByb3ZpZGVyOiBGQzxQcm9wc1dpdGhDaGlsZHJlbjxUaHJlYWRQcm92aWRlclByb3BzPj4gPSAoe1xuICBjaGlsZHJlbixcbiAgcHJvdmlkZXIsXG59KSA9PiB7XG4gIGNvbnN0IFtjb250ZXh0XSA9IHVzZVN0YXRlPFRocmVhZENvbnRleHRWYWx1ZT4oKCkgPT4ge1xuICAgIGNvbnN0IHVzZVRocmVhZFJ1bnRpbWUgPSBtYWtlVGhyZWFkUnVudGltZVN0b3JlKHByb3ZpZGVyLnRocmVhZCk7XG4gICAgY29uc3QgdXNlVGhyZWFkID0gbWFrZVRocmVhZFN0b3JlKHVzZVRocmVhZFJ1bnRpbWUpO1xuICAgIGNvbnN0IHVzZVRocmVhZE1lc3NhZ2VzID0gbWFrZVRocmVhZE1lc3NhZ2VzU3RvcmUodXNlVGhyZWFkUnVudGltZSk7XG4gICAgY29uc3QgdXNlVGhyZWFkQWN0aW9ucyA9IG1ha2VUaHJlYWRBY3Rpb25TdG9yZSh1c2VUaHJlYWRSdW50aW1lKTtcbiAgICBjb25zdCB1c2VWaWV3cG9ydCA9IG1ha2VUaHJlYWRWaWV3cG9ydFN0b3JlKCk7XG4gICAgY29uc3QgdXNlQ29tcG9zZXIgPSBtYWtlQ29tcG9zZXJTdG9yZSh1c2VUaHJlYWRSdW50aW1lKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1c2VUaHJlYWQsXG4gICAgICB1c2VUaHJlYWRSdW50aW1lLFxuICAgICAgdXNlVGhyZWFkTWVzc2FnZXMsXG4gICAgICB1c2VUaHJlYWRBY3Rpb25zLFxuICAgICAgdXNlQ29tcG9zZXIsXG4gICAgICB1c2VWaWV3cG9ydCxcbiAgICB9O1xuICB9KTtcblxuICAvLyBUT0RPIGl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gbW92ZSB0aGlzIGludG8gdGhlIG1ha2UqIGZ1bmN0aW9uc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9uVGhyZWFkVXBkYXRlID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGhyZWFkID0gcHJvdmlkZXIudGhyZWFkO1xuXG4gICAgICBjb25zdCBvbGRTdGF0ZSA9IGNvbnRleHQudXNlVGhyZWFkLmdldFN0YXRlKCk7XG4gICAgICBjb25zdCBzdGF0ZSA9IGdldFRocmVhZFN0YXRlRnJvbVJ1bnRpbWUodGhyZWFkKTtcbiAgICAgIGlmIChcbiAgICAgICAgb2xkU3RhdGUudGhyZWFkSWQgIT09IHN0YXRlLnRocmVhZElkIHx8XG4gICAgICAgIG9sZFN0YXRlLmlzRGlzYWJsZWQgIT09IHN0YXRlLmlzRGlzYWJsZWQgfHxcbiAgICAgICAgb2xkU3RhdGUuaXNSdW5uaW5nICE9PSBzdGF0ZS5pc1J1bm5pbmcgfHxcbiAgICAgICAgLy8gVE9ETyBlbnN1cmUgY2FwYWJpbGl0aWVzIGlzIG1lbW9pemVkXG4gICAgICAgIG9sZFN0YXRlLmNhcGFiaWxpdGllcyAhPT0gc3RhdGUuY2FwYWJpbGl0aWVzXG4gICAgICApIHtcbiAgICAgICAgd3JpdGFibGVTdG9yZShjb250ZXh0LnVzZVRocmVhZCkuc2V0U3RhdGUoc3RhdGUsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhyZWFkLm1lc3NhZ2VzICE9PSBjb250ZXh0LnVzZVRocmVhZE1lc3NhZ2VzLmdldFN0YXRlKCkpIHtcbiAgICAgICAgd3JpdGFibGVTdG9yZShjb250ZXh0LnVzZVRocmVhZE1lc3NhZ2VzKS5zZXRTdGF0ZShcbiAgICAgICAgICB0aHJlYWQubWVzc2FnZXMsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29tcG9zZXJTdGF0ZSA9IGNvbnRleHQudXNlQ29tcG9zZXIuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhyZWFkLmNvbXBvc2VyLmlzRW1wdHkgIT09IGNvbXBvc2VyU3RhdGUuaXNFbXB0eSB8fFxuICAgICAgICB0aHJlYWQuY29tcG9zZXIudGV4dCAhPT0gY29tcG9zZXJTdGF0ZS50ZXh0IHx8XG4gICAgICAgIHRocmVhZC5jb21wb3Nlci5hdHRhY2htZW50cyAhPT0gY29tcG9zZXJTdGF0ZS5hdHRhY2htZW50cyB8fFxuICAgICAgICBzdGF0ZS5jYXBhYmlsaXRpZXMuY2FuY2VsICE9PSBjb21wb3NlclN0YXRlLmNhbkNhbmNlbFxuICAgICAgKSB7XG4gICAgICAgIHdyaXRhYmxlU3RvcmUoY29udGV4dC51c2VDb21wb3Nlcikuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRW1wdHk6IHRocmVhZC5jb21wb3Nlci5pc0VtcHR5LFxuICAgICAgICAgIHRleHQ6IHRocmVhZC5jb21wb3Nlci50ZXh0LFxuICAgICAgICAgIGF0dGFjaG1lbnRzOiB0aHJlYWQuY29tcG9zZXIuYXR0YWNobWVudHMsXG4gICAgICAgICAgY2FuQ2FuY2VsOiBzdGF0ZS5jYXBhYmlsaXRpZXMuY2FuY2VsLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgb25UaHJlYWRVcGRhdGUoKTtcbiAgICByZXR1cm4gc3Vic2NyaWJlVG9NYWluVGhyZWFkKHByb3ZpZGVyLCBvblRocmVhZFVwZGF0ZSk7XG4gIH0sIFtwcm92aWRlciwgY29udGV4dF0pO1xuXG4gIHVzZUluc2VydGlvbkVmZmVjdChcbiAgICAoKSA9PlxuICAgICAgcHJvdmlkZXIuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgd3JpdGFibGVTdG9yZShjb250ZXh0LnVzZVRocmVhZFJ1bnRpbWUpLnNldFN0YXRlKHByb3ZpZGVyLnRocmVhZCwgdHJ1ZSk7XG4gICAgICB9KSxcbiAgICBbcHJvdmlkZXIsIGNvbnRleHRdLFxuICApO1xuXG4gIC8vIHN1YnNjcmliZSB0byB0aHJlYWQgdXBkYXRlc1xuICBjb25zdCBTeW5jaHJvbml6ZXIgPSBjb250ZXh0LnVzZVRocmVhZFJ1bnRpbWUoXG4gICAgKHQpID0+ICh0IGFzIFJlYWN0VGhyZWFkUnVudGltZSkudW5zdGFibGVfc3luY2hyb25pemVyLFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFRocmVhZENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAge1N5bmNocm9uaXplciAmJiA8U3luY2hyb25pemVyIC8+fVxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVGhyZWFkQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBDb21wb3NlclN0YXRlIH0gZnJvbSBcIi4uL3N0b3Jlcy9Db21wb3NlclwiO1xuaW1wb3J0IHR5cGUgeyBUaHJlYWRTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXMvVGhyZWFkXCI7XG5pbXBvcnQgdHlwZSB7IFRocmVhZFZpZXdwb3J0U3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL1RocmVhZFZpZXdwb3J0XCI7XG5pbXBvcnQgeyBUaHJlYWRBY3Rpb25zU3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL1RocmVhZEFjdGlvbnNcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuaW1wb3J0IHsgVGhyZWFkTWVzc2FnZXNTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXMvVGhyZWFkTWVzc2FnZXNcIjtcbmltcG9ydCB7IFRocmVhZFJ1bnRpbWVTdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvVGhyZWFkUnVudGltZVwiO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRDb250ZXh0VmFsdWUgPSB7XG4gIHVzZVRocmVhZDogUmVhZG9ubHlTdG9yZTxUaHJlYWRTdGF0ZT47XG4gIHVzZVRocmVhZFJ1bnRpbWU6IFJlYWRvbmx5U3RvcmU8VGhyZWFkUnVudGltZVN0b3JlPjtcbiAgdXNlVGhyZWFkTWVzc2FnZXM6IFJlYWRvbmx5U3RvcmU8VGhyZWFkTWVzc2FnZXNTdGF0ZT47XG4gIHVzZVRocmVhZEFjdGlvbnM6IFJlYWRvbmx5U3RvcmU8VGhyZWFkQWN0aW9uc1N0YXRlPjtcbiAgdXNlQ29tcG9zZXI6IFJlYWRvbmx5U3RvcmU8Q29tcG9zZXJTdGF0ZT47XG4gIHVzZVZpZXdwb3J0OiBSZWFkb25seVN0b3JlPFRocmVhZFZpZXdwb3J0U3RhdGU+O1xufTtcblxuZXhwb3J0IGNvbnN0IFRocmVhZENvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRocmVhZENvbnRleHRWYWx1ZSB8IG51bGw+KG51bGwpO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyZWFkQ29udGV4dCgpOiBUaHJlYWRDb250ZXh0VmFsdWU7XG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyZWFkQ29udGV4dChvcHRpb25zOiB7XG4gIG9wdGlvbmFsOiB0cnVlO1xufSk6IFRocmVhZENvbnRleHRWYWx1ZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyZWFkQ29udGV4dChvcHRpb25zPzogeyBvcHRpb25hbDogdHJ1ZSB9KSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFRocmVhZENvbnRleHQpO1xuICBpZiAoIW9wdGlvbnM/Lm9wdGlvbmFsICYmICFjb250ZXh0KVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhpcyBjb21wb25lbnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBc3Npc3RhbnRSdW50aW1lUHJvdmlkZXIuXCIsXG4gICAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCJpbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBVbnN1YnNjcmliZSB9IGZyb20gXCIuLi8uLi90eXBlcy9VbnN1YnNjcmliZVwiO1xuaW1wb3J0IHsgVGhyZWFkQ29udGV4dFZhbHVlIH0gZnJvbSBcIi4uL3JlYWN0XCI7XG5pbXBvcnQgeyBUaHJlYWRDb21wb3NlckF0dGFjaG1lbnQgfSBmcm9tIFwiLi9BdHRhY2htZW50XCI7XG5cbmV4cG9ydCB0eXBlIENvbXBvc2VyU3RhdGUgPSBSZWFkb25seTx7XG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHRleHRgIGluc3RlYWQuICovXG4gIHZhbHVlOiBzdHJpbmc7XG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHNldFRleHRgIGluc3RlYWQuICovXG4gIHNldFZhbHVlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcblxuICBhdHRhY2htZW50czogcmVhZG9ubHkgVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50W107XG4gIGFkZEF0dGFjaG1lbnQ6IChmaWxlOiBGaWxlKSA9PiB2b2lkO1xuICByZW1vdmVBdHRhY2htZW50OiAoYXR0YWNobWVudElkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgdGV4dDogc3RyaW5nO1xuICBzZXRUZXh0OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcblxuICByZXNldDogKCkgPT4gdm9pZDtcblxuICBjYW5DYW5jZWw6IGJvb2xlYW47XG4gIGlzRWRpdGluZzogdHJ1ZTtcbiAgaXNFbXB0eTogYm9vbGVhbjtcblxuICBzZW5kOiAoKSA9PiB2b2lkO1xuICBjYW5jZWw6ICgpID0+IHZvaWQ7XG4gIGZvY3VzOiAoKSA9PiB2b2lkO1xuICBvbkZvY3VzOiAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IFVuc3Vic2NyaWJlO1xufT47XG5cbmV4cG9ydCBjb25zdCBtYWtlQ29tcG9zZXJTdG9yZSA9IChcbiAgdXNlVGhyZWFkUnVudGltZTogVGhyZWFkQ29udGV4dFZhbHVlW1widXNlVGhyZWFkUnVudGltZVwiXSxcbik6IFJlYWRvbmx5U3RvcmU8Q29tcG9zZXJTdGF0ZT4gPT4ge1xuICBjb25zdCBmb2N1c0xpc3RlbmVycyA9IG5ldyBTZXQ8KCkgPT4gdm9pZD4oKTtcbiAgcmV0dXJuIGNyZWF0ZTxDb21wb3NlclN0YXRlPigpKChfLCBnZXQpID0+IHtcbiAgICBjb25zdCBydW50aW1lID0gdXNlVGhyZWFkUnVudGltZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBnZXQoKS50ZXh0O1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGdldCgpLnNldFRleHQodmFsdWUpO1xuICAgICAgfSxcblxuICAgICAgYXR0YWNobWVudHM6IHJ1bnRpbWUuY29tcG9zZXIuYXR0YWNobWVudHMsXG4gICAgICBhZGRBdHRhY2htZW50OiAoZmlsZSkgPT4ge1xuICAgICAgICB1c2VUaHJlYWRSdW50aW1lLmdldFN0YXRlKCkuY29tcG9zZXIuYWRkQXR0YWNobWVudChmaWxlKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVBdHRhY2htZW50OiAoYXR0YWNobWVudElkKSA9PiB7XG4gICAgICAgIHVzZVRocmVhZFJ1bnRpbWUuZ2V0U3RhdGUoKS5jb21wb3Nlci5yZW1vdmVBdHRhY2htZW50KGF0dGFjaG1lbnRJZCk7XG4gICAgICB9LFxuICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgdXNlVGhyZWFkUnVudGltZS5nZXRTdGF0ZSgpLmNvbXBvc2VyLnJlc2V0KCk7XG4gICAgICB9LFxuXG4gICAgICB0ZXh0OiBydW50aW1lLmNvbXBvc2VyLnRleHQsXG4gICAgICBzZXRUZXh0OiAodGV4dCkgPT4ge1xuICAgICAgICB1c2VUaHJlYWRSdW50aW1lLmdldFN0YXRlKCkuY29tcG9zZXIuc2V0VGV4dCh0ZXh0KTtcbiAgICAgIH0sXG5cbiAgICAgIGNhbkNhbmNlbDogcnVudGltZS5jYXBhYmlsaXRpZXMuY2FuY2VsLFxuICAgICAgaXNFZGl0aW5nOiB0cnVlLFxuICAgICAgaXNFbXB0eTogcnVudGltZS5jb21wb3Nlci5pc0VtcHR5LFxuXG4gICAgICBzZW5kOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJ1bnRpbWUgPSB1c2VUaHJlYWRSdW50aW1lLmdldFN0YXRlKCk7XG4gICAgICAgIHJ1bnRpbWUuY29tcG9zZXIuc2VuZCgpO1xuICAgICAgfSxcbiAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICB1c2VUaHJlYWRSdW50aW1lLmdldFN0YXRlKCkuY2FuY2VsUnVuKCk7XG4gICAgICB9LFxuICAgICAgZm9jdXM6ICgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBmb2N1c0xpc3RlbmVycykge1xuICAgICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkZvY3VzOiAobGlzdGVuZXIpID0+IHtcbiAgICAgICAgZm9jdXNMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBmb2N1c0xpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9O1xuICB9KTtcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lU3RvcmUgfSBmcm9tIFwiLi9UaHJlYWRSdW50aW1lXCI7XG5cbmV4cG9ydCB0eXBlIFRocmVhZFN0YXRlID0gUmVhZG9ubHk8e1xuICBjYXBhYmlsaXRpZXM6IFJlYWRvbmx5PFJ1bnRpbWVDYXBhYmlsaXRpZXM+O1xuICB0aHJlYWRJZDogc3RyaW5nO1xuICBpc1J1bm5pbmc6IGJvb2xlYW47XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG59PjtcblxuZXhwb3J0IHR5cGUgUnVudGltZUNhcGFiaWxpdGllcyA9IHtcbiAgc3dpdGNoVG9CcmFuY2g6IGJvb2xlYW47XG4gIGVkaXQ6IGJvb2xlYW47XG4gIHJlbG9hZDogYm9vbGVhbjtcbiAgY2FuY2VsOiBib29sZWFuO1xuICB1bnN0YWJsZV9jb3B5OiBib29sZWFuO1xuICBzcGVhazogYm9vbGVhbjtcbiAgYXR0YWNobWVudHM6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VGhyZWFkU3RhdGVGcm9tUnVudGltZSA9IChcbiAgcnVudGltZTogVGhyZWFkUnVudGltZVN0b3JlLFxuKTogVGhyZWFkU3RhdGUgPT4ge1xuICBjb25zdCBsYXN0TWVzc2FnZSA9IHJ1bnRpbWUubWVzc2FnZXMuYXQoLTEpO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgdGhyZWFkSWQ6IHJ1bnRpbWUudGhyZWFkSWQsXG4gICAgY2FwYWJpbGl0aWVzOiBydW50aW1lLmNhcGFiaWxpdGllcyxcbiAgICBpc0Rpc2FibGVkOiBydW50aW1lLmlzRGlzYWJsZWQsXG4gICAgaXNSdW5uaW5nOlxuICAgICAgbGFzdE1lc3NhZ2U/LnJvbGUgIT09IFwiYXNzaXN0YW50XCJcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IGxhc3RNZXNzYWdlLnN0YXR1cy50eXBlID09PSBcInJ1bm5pbmdcIixcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgbWFrZVRocmVhZFN0b3JlID0gKFxuICBydW50aW1lUmVmOiBSZWFkb25seVN0b3JlPFRocmVhZFJ1bnRpbWVTdG9yZT4sXG4pID0+IHtcbiAgY29uc3QgcnVudGltZSA9IHJ1bnRpbWVSZWYuZ2V0U3RhdGUoKTtcbiAgcmV0dXJuIGNyZWF0ZTxUaHJlYWRTdGF0ZT4oKCkgPT4gZ2V0VGhyZWFkU3RhdGVGcm9tUnVudGltZShydW50aW1lKSk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHR5cGUgeyBVbnN1YnNjcmliZSB9IGZyb20gXCIuLi8uLi90eXBlcy9VbnN1YnNjcmliZVwiO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRWaWV3cG9ydFN0YXRlID0gUmVhZG9ubHk8e1xuICBpc0F0Qm90dG9tOiBib29sZWFuO1xuICBzY3JvbGxUb0JvdHRvbTogKCkgPT4gdm9pZDtcbiAgb25TY3JvbGxUb0JvdHRvbTogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBVbnN1YnNjcmliZTtcbn0+O1xuXG5leHBvcnQgY29uc3QgbWFrZVRocmVhZFZpZXdwb3J0U3RvcmUgPSAoKSA9PiB7XG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tTGlzdGVuZXJzID0gbmV3IFNldDwoKSA9PiB2b2lkPigpO1xuXG4gIHJldHVybiBjcmVhdGU8VGhyZWFkVmlld3BvcnRTdGF0ZT4oKCkgPT4gKHtcbiAgICBpc0F0Qm90dG9tOiB0cnVlLFxuICAgIHNjcm9sbFRvQm90dG9tOiAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHNjcm9sbFRvQm90dG9tTGlzdGVuZXJzKSB7XG4gICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblNjcm9sbFRvQm90dG9tOiAoY2FsbGJhY2spID0+IHtcbiAgICAgIHNjcm9sbFRvQm90dG9tTGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzY3JvbGxUb0JvdHRvbUxpc3RlbmVycy5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgfTtcbiAgICB9LFxuICB9KSk7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB0eXBlIHsgQXBwZW5kTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lU3RvcmUgfSBmcm9tIFwiLi9UaHJlYWRSdW50aW1lXCI7XG5pbXBvcnQgeyBTcGVlY2hTeW50aGVzaXNBZGFwdGVyIH0gZnJvbSBcIi4uLy4uL3J1bnRpbWVzL3NwZWVjaC9TcGVlY2hBZGFwdGVyVHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgQWRkVG9vbFJlc3VsdE9wdGlvbnMgPSB7XG4gIG1lc3NhZ2VJZDogc3RyaW5nO1xuICB0b29sTmFtZTogc3RyaW5nO1xuICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gIHJlc3VsdDogYW55O1xufTtcblxuZXhwb3J0IHR5cGUgVGhyZWFkQWN0aW9uc1N0YXRlID0gUmVhZG9ubHk8e1xuICBnZXRCcmFuY2hlczogKG1lc3NhZ2VJZDogc3RyaW5nKSA9PiByZWFkb25seSBzdHJpbmdbXTtcbiAgc3dpdGNoVG9CcmFuY2g6IChicmFuY2hJZDogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIGFwcGVuZDogKG1lc3NhZ2U6IEFwcGVuZE1lc3NhZ2UpID0+IHZvaWQ7XG4gIHN0YXJ0UnVuOiAocGFyZW50SWQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGNhbmNlbFJ1bjogKCkgPT4gdm9pZDtcblxuICBhZGRUb29sUmVzdWx0OiAob3B0aW9uczogQWRkVG9vbFJlc3VsdE9wdGlvbnMpID0+IHZvaWQ7XG5cbiAgc3BlYWs6IChtZXNzYWdlSWQ6IHN0cmluZykgPT4gU3BlZWNoU3ludGhlc2lzQWRhcHRlci5VdHRlcmFuY2U7XG59PjtcblxuZXhwb3J0IGNvbnN0IG1ha2VUaHJlYWRBY3Rpb25TdG9yZSA9IChcbiAgcnVudGltZVN0b3JlOiBSZWFkb25seVN0b3JlPFRocmVhZFJ1bnRpbWVTdG9yZT4sXG4pID0+IHtcbiAgcmV0dXJuIGNyZWF0ZTxUaHJlYWRBY3Rpb25zU3RhdGU+KCgpID0+XG4gICAgT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBnZXRCcmFuY2hlczogKG1lc3NhZ2VJZCkgPT5cbiAgICAgICAgcnVudGltZVN0b3JlLmdldFN0YXRlKCkuZ2V0QnJhbmNoZXMobWVzc2FnZUlkKSxcbiAgICAgIHN3aXRjaFRvQnJhbmNoOiAoYnJhbmNoSWQpID0+XG4gICAgICAgIHJ1bnRpbWVTdG9yZS5nZXRTdGF0ZSgpLnN3aXRjaFRvQnJhbmNoKGJyYW5jaElkKSxcblxuICAgICAgc3RhcnRSdW46IChwYXJlbnRJZCkgPT4gcnVudGltZVN0b3JlLmdldFN0YXRlKCkuc3RhcnRSdW4ocGFyZW50SWQpLFxuICAgICAgYXBwZW5kOiAobWVzc2FnZSkgPT4gcnVudGltZVN0b3JlLmdldFN0YXRlKCkuYXBwZW5kKG1lc3NhZ2UpLFxuICAgICAgY2FuY2VsUnVuOiAoKSA9PiBydW50aW1lU3RvcmUuZ2V0U3RhdGUoKS5jYW5jZWxSdW4oKSxcblxuICAgICAgYWRkVG9vbFJlc3VsdDogKG9wdGlvbnMpID0+XG4gICAgICAgIHJ1bnRpbWVTdG9yZS5nZXRTdGF0ZSgpLmFkZFRvb2xSZXN1bHQob3B0aW9ucyksXG5cbiAgICAgIHNwZWFrOiAobWVzc2FnZUlkKSA9PiBydW50aW1lU3RvcmUuZ2V0U3RhdGUoKS5zcGVhayhtZXNzYWdlSWQpLFxuICAgIH0pLFxuICApO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgdHlwZSB7IFRocmVhZE1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vdHlwZXMvQXNzaXN0YW50VHlwZXNcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuaW1wb3J0IHsgVGhyZWFkUnVudGltZVN0b3JlIH0gZnJvbSBcIi4vVGhyZWFkUnVudGltZVwiO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRNZXNzYWdlc1N0YXRlID0gcmVhZG9ubHkgVGhyZWFkTWVzc2FnZVtdO1xuXG5leHBvcnQgY29uc3QgbWFrZVRocmVhZE1lc3NhZ2VzU3RvcmUgPSAoXG4gIHJ1bnRpbWVSZWY6IFJlYWRvbmx5U3RvcmU8VGhyZWFkUnVudGltZVN0b3JlPixcbikgPT4ge1xuICByZXR1cm4gY3JlYXRlPFRocmVhZE1lc3NhZ2VzU3RhdGU+KCgpID0+IHJ1bnRpbWVSZWYuZ2V0U3RhdGUoKS5tZXNzYWdlcyk7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IFRocmVhZFJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vcnVudGltZXNcIjtcblxuZXhwb3J0IHR5cGUgVGhyZWFkUnVudGltZVN0b3JlID0gVGhyZWFkUnVudGltZTtcblxuZXhwb3J0IGNvbnN0IG1ha2VUaHJlYWRSdW50aW1lU3RvcmUgPSAocnVudGltZTogVGhyZWFkUnVudGltZSkgPT4ge1xuICByZXR1cm4gY3JlYXRlPFRocmVhZFJ1bnRpbWVTdG9yZT4oKCkgPT4gcnVudGltZSk7XG59O1xuIiwiaW1wb3J0IHsgVW5zdWJzY3JpYmUgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IFRocmVhZFJ1bnRpbWVXaXRoU3Vic2NyaWJlIH0gZnJvbSBcIi4vQXNzaXN0YW50UnVudGltZVwiO1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVG9NYWluVGhyZWFkID0gKFxuICBydW50aW1lOiBUaHJlYWRSdW50aW1lV2l0aFN1YnNjcmliZSxcbiAgY2FsbGJhY2s6ICgpID0+IHZvaWQsXG4pID0+IHtcbiAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgbGV0IGNsZWFudXA6IFVuc3Vic2NyaWJlIHwgdW5kZWZpbmVkO1xuICBjb25zdCBpbm5lciA9ICgpID0+IHtcbiAgICBjbGVhbnVwPy4oKTtcbiAgICBjbGVhbnVwID0gcnVudGltZS50aHJlYWQuc3Vic2NyaWJlKGNhbGxiYWNrKTtcblxuICAgIGlmICghZmlyc3QpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGZpcnN0ID0gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSBydW50aW1lLnN1YnNjcmliZShpbm5lcik7XG4gIGlubmVyKCk7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICB1bnN1YnNjcmliZSgpO1xuICAgIGNsZWFudXA/LigpO1xuICB9O1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VJbnNlcnRpb25FZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IENoYXRNb2RlbEFkYXB0ZXIgfSBmcm9tIFwiLi9DaGF0TW9kZWxBZGFwdGVyXCI7XG5pbXBvcnQgeyBMb2NhbFJ1bnRpbWUgfSBmcm9tIFwiLi9Mb2NhbFJ1bnRpbWVcIjtcbmltcG9ydCB7IExvY2FsUnVudGltZU9wdGlvbnMgfSBmcm9tIFwiLi9Mb2NhbFJ1bnRpbWVPcHRpb25zXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VMb2NhbFJ1bnRpbWUgPSAoXG4gIGFkYXB0ZXI6IENoYXRNb2RlbEFkYXB0ZXIsXG4gIG9wdGlvbnM6IExvY2FsUnVudGltZU9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBjb25zdCBbcnVudGltZV0gPSB1c2VTdGF0ZSgoKSA9PiBuZXcgTG9jYWxSdW50aW1lKGFkYXB0ZXIsIG9wdGlvbnMpKTtcblxuICB1c2VJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgIHJ1bnRpbWUuYWRhcHRlciA9IGFkYXB0ZXI7XG4gICAgcnVudGltZS5vcHRpb25zID0gb3B0aW9ucztcbiAgfSk7XG5cbiAgcmV0dXJuIHJ1bnRpbWU7XG59O1xuIiwiaW1wb3J0IHsgdHlwZSBNb2RlbENvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgVW5zdWJzY3JpYmUgfSBmcm9tIFwiLi4vLi4vdHlwZXMvVW5zdWJzY3JpYmVcIjtcbmltcG9ydCB0eXBlIHsgQXNzaXN0YW50UnVudGltZSB9IGZyb20gXCIuL0Fzc2lzdGFudFJ1bnRpbWVcIjtcbmltcG9ydCB7IFJlYWN0VGhyZWFkUnVudGltZSB9IGZyb20gXCIuL1JlYWN0VGhyZWFkUnVudGltZVwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUFzc2lzdGFudFJ1bnRpbWU8XG4gIFRUaHJlYWRSdW50aW1lIGV4dGVuZHMgUmVhY3RUaHJlYWRSdW50aW1lLFxuPiBpbXBsZW1lbnRzIEFzc2lzdGFudFJ1bnRpbWVcbntcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfdGhyZWFkOiBUVGhyZWFkUnVudGltZSkge1xuICAgIHRoaXMuX3RocmVhZCA9IF90aHJlYWQ7XG4gIH1cblxuICBnZXQgdGhyZWFkKCkge1xuICAgIHJldHVybiB0aGlzLl90aHJlYWQ7XG4gIH1cblxuICBzZXQgdGhyZWFkKHRocmVhZDogVFRocmVhZFJ1bnRpbWUpIHtcbiAgICB0aGlzLl90aHJlYWQgPSB0aHJlYWQ7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25IYW5kbGVyKCk7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKFxuICAgIHByb3ZpZGVyOiBNb2RlbENvbmZpZ1Byb3ZpZGVyLFxuICApOiBVbnN1YnNjcmliZTtcbiAgcHVibGljIGFic3RyYWN0IHN3aXRjaFRvVGhyZWFkKHRocmVhZElkOiBzdHJpbmcgfCBudWxsKTogdm9pZDtcblxuICBwcml2YXRlIF9zdWJzY3JpcHRpb25zID0gbmV3IFNldDwoKSA9PiB2b2lkPigpO1xuXG4gIHB1YmxpYyBzdWJzY3JpYmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBVbnN1YnNjcmliZSB7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5hZGQoY2FsbGJhY2spO1xuICAgIHJldHVybiAoKSA9PiB0aGlzLl9zdWJzY3JpcHRpb25zLmRlbGV0ZShjYWxsYmFjayk7XG4gIH1cblxuICBwcml2YXRlIHN1YnNjcmlwdGlvbkhhbmRsZXIgPSAoKSA9PiB7XG4gICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiB0aGlzLl9zdWJzY3JpcHRpb25zKSBjYWxsYmFjaygpO1xuICB9O1xufVxuIiwiZXhwb3J0IHsgVGhyZWFkUnVudGltZUNvbXBvc2VyIH0gZnJvbSBcIi4vcnVudGltZXMvdXRpbHMvVGhyZWFkUnVudGltZUNvbXBvc2VyXCI7XG5leHBvcnQgeyBQcm94eUNvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4vdXRpbHMvUHJveHlDb25maWdQcm92aWRlclwiO1xuZXhwb3J0IHsgTWVzc2FnZVJlcG9zaXRvcnkgfSBmcm9tIFwiLi9ydW50aW1lcy91dGlscy9NZXNzYWdlUmVwb3NpdG9yeVwiO1xuZXhwb3J0IHsgQmFzZUFzc2lzdGFudFJ1bnRpbWUgfSBmcm9tIFwiLi9ydW50aW1lcy9jb3JlL0Jhc2VBc3Npc3RhbnRSdW50aW1lXCI7XG5leHBvcnQgKiBmcm9tIFwiLi91dGlscy9zbW9vdGhcIjtcbmV4cG9ydCB7IFRvb2x0aXBJY29uQnV0dG9uIH0gZnJvbSBcIi4vdWkvYmFzZS90b29sdGlwLWljb24tYnV0dG9uXCI7XG5leHBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSBcIi4vdXRpbHMvaWRVdGlsc1wiO1xuIiwiaW1wb3J0IHsgVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvc3RvcmVzL0F0dGFjaG1lbnRcIjtcbmltcG9ydCB7IEFwcGVuZE1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IEF0dGFjaG1lbnRBZGFwdGVyIH0gZnJvbSBcIi4uL2F0dGFjaG1lbnQvQXR0YWNobWVudEFkYXB0ZXJcIjtcbmltcG9ydCB7IFRocmVhZFJ1bnRpbWUgfSBmcm9tIFwiLi4vY29yZVwiO1xuXG5leHBvcnQgY2xhc3MgVGhyZWFkUnVudGltZUNvbXBvc2VyIGltcGxlbWVudHMgVGhyZWFkUnVudGltZS5Db21wb3NlciB7XG4gIHByaXZhdGUgX2F0dGFjaG1lbnRBZGFwdGVyPzogQXR0YWNobWVudEFkYXB0ZXIgfCB1bmRlZmluZWQ7XG5cbiAgcHVibGljIGF0dGFjaG1lbnRBY2NlcHQ6IHN0cmluZyA9IFwiKlwiO1xuXG4gIHB1YmxpYyBnZXQgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gIXRoaXMudGV4dC50cmltKCkgJiYgIXRoaXMuYXR0YWNobWVudHMubGVuZ3RoO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBydW50aW1lOiB7XG4gICAgICBtZXNzYWdlczogVGhyZWFkUnVudGltZVtcIm1lc3NhZ2VzXCJdO1xuICAgICAgYXBwZW5kOiAobWVzc2FnZTogQXBwZW5kTWVzc2FnZSkgPT4gdm9pZDtcbiAgICB9LFxuICAgIHByaXZhdGUgbm90aWZ5U3Vic2NyaWJlcnM6ICgpID0+IHZvaWQsXG4gICkge31cblxuICBwdWJsaWMgc2V0QXR0YWNobWVudEFkYXB0ZXIoYWRhcHRlcjogQXR0YWNobWVudEFkYXB0ZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLl9hdHRhY2htZW50QWRhcHRlciA9IGFkYXB0ZXI7XG4gICAgY29uc3QgYWNjZXB0ID0gYWRhcHRlcj8uYWNjZXB0ID8/IFwiKlwiO1xuICAgIGlmICh0aGlzLmF0dGFjaG1lbnRBY2NlcHQgIT09IGFjY2VwdCkge1xuICAgICAgdGhpcy5hdHRhY2htZW50QWNjZXB0ID0gYWNjZXB0O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgX2F0dGFjaG1lbnRzOiBUaHJlYWRDb21wb3NlckF0dGFjaG1lbnRbXSA9IFtdO1xuXG4gIHB1YmxpYyBnZXQgYXR0YWNobWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2F0dGFjaG1lbnRzO1xuICB9XG5cbiAgYXN5bmMgYWRkQXR0YWNobWVudChmaWxlOiBGaWxlKSB7XG4gICAgaWYgKCF0aGlzLl9hdHRhY2htZW50QWRhcHRlcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGFjaG1lbnRzIGFyZSBub3Qgc3VwcG9ydGVkXCIpO1xuXG4gICAgY29uc3QgYXR0YWNobWVudCA9IGF3YWl0IHRoaXMuX2F0dGFjaG1lbnRBZGFwdGVyLmFkZCh7IGZpbGUgfSk7XG5cbiAgICB0aGlzLl9hdHRhY2htZW50cyA9IFsuLi50aGlzLl9hdHRhY2htZW50cywgYXR0YWNobWVudF07XG4gICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xuICB9XG5cbiAgYXN5bmMgcmVtb3ZlQXR0YWNobWVudChhdHRhY2htZW50SWQ6IHN0cmluZykge1xuICAgIGlmICghdGhpcy5fYXR0YWNobWVudEFkYXB0ZXIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRhY2htZW50cyBhcmUgbm90IHN1cHBvcnRlZFwiKTtcblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fYXR0YWNobWVudHMuZmluZEluZGV4KChhKSA9PiBhLmlkID09PSBhdHRhY2htZW50SWQpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHRocm93IG5ldyBFcnJvcihcIkF0dGFjaG1lbnQgbm90IGZvdW5kXCIpO1xuICAgIGNvbnN0IGF0dGFjaG1lbnQgPSB0aGlzLl9hdHRhY2htZW50c1tpbmRleF0hO1xuXG4gICAgYXdhaXQgdGhpcy5fYXR0YWNobWVudEFkYXB0ZXIucmVtb3ZlKGF0dGFjaG1lbnQpO1xuXG4gICAgdGhpcy5fYXR0YWNobWVudHMgPSB0aGlzLl9hdHRhY2htZW50cy50b1NwbGljZWQoaW5kZXgsIDEpO1xuICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3RleHQgPSBcIlwiO1xuXG4gIGdldCB0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICB9XG5cbiAgc2V0VGV4dCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fdGV4dCA9IHZhbHVlO1xuICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3RleHQgPSBcIlwiO1xuICAgIHRoaXMuX2F0dGFjaG1lbnRzID0gW107XG4gICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNlbmQoKSB7XG4gICAgY29uc3QgYXR0YWNobWVudHMgPSB0aGlzLl9hdHRhY2htZW50QWRhcHRlclxuICAgICAgPyBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLm1hcChcbiAgICAgICAgICAgIGFzeW5jIChhKSA9PiBhd2FpdCB0aGlzLl9hdHRhY2htZW50QWRhcHRlciEuc2VuZChhKSxcbiAgICAgICAgICApLFxuICAgICAgICApXG4gICAgICA6IFtdO1xuXG4gICAgdGhpcy5ydW50aW1lLmFwcGVuZCh7XG4gICAgICBwYXJlbnRJZDogdGhpcy5ydW50aW1lLm1lc3NhZ2VzLmF0KC0xKT8uaWQgPz8gbnVsbCxcbiAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgY29udGVudDogdGhpcy50ZXh0ID8gW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHRoaXMudGV4dCB9XSA6IFtdLFxuICAgICAgYXR0YWNobWVudHMsXG4gICAgfSk7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjdXN0b21BbHBoYWJldCB9IGZyb20gXCJuYW5vaWQvbm9uLXNlY3VyZVwiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVJZCA9IGN1c3RvbUFscGhhYmV0KFxuICBcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsXG4gIDcsXG4pO1xuXG5jb25zdCBvcHRpbWlzdGljUHJlZml4ID0gXCJfX29wdGltaXN0aWNfX1wiO1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlT3B0aW1pc3RpY0lkID0gKCkgPT4gYCR7b3B0aW1pc3RpY1ByZWZpeH0ke2dlbmVyYXRlSWQoKX1gO1xuZXhwb3J0IGNvbnN0IGlzT3B0aW1pc3RpY0lkID0gKGlkOiBzdHJpbmcpID0+IGlkLnN0YXJ0c1dpdGgob3B0aW1pc3RpY1ByZWZpeCk7XG4iLCJpbXBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsXCI7XG5pbXBvcnQge1xuICBUaHJlYWRNZXNzYWdlLFxuICBDb3JlTWVzc2FnZSxcbiAgVG9vbENhbGxDb250ZW50UGFydCxcbiAgTWVzc2FnZVN0YXR1cyxcbn0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBmcm9tQ29yZU1lc3NhZ2VzID0gKFxuICBtZXNzYWdlOiByZWFkb25seSBDb3JlTWVzc2FnZVtdLFxuKTogVGhyZWFkTWVzc2FnZVtdID0+IHtcbiAgcmV0dXJuIG1lc3NhZ2UubWFwKChtZXNzYWdlKSA9PiBmcm9tQ29yZU1lc3NhZ2UobWVzc2FnZSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZyb21Db3JlTWVzc2FnZSA9IChcbiAgbWVzc2FnZTogQ29yZU1lc3NhZ2UsXG4gIHtcbiAgICBpZCA9IGdlbmVyYXRlSWQoKSxcbiAgICBzdGF0dXMgPSB7IHR5cGU6IFwiY29tcGxldGVcIiwgcmVhc29uOiBcInVua25vd25cIiB9IGFzIE1lc3NhZ2VTdGF0dXMsXG4gIH0gPSB7fSxcbik6IFRocmVhZE1lc3NhZ2UgPT4ge1xuICBjb25zdCBjb21tb25Qcm9wcyA9IHtcbiAgICBpZCxcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gIH07XG5cbiAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTtcbiAgc3dpdGNoIChyb2xlKSB7XG4gICAgY2FzZSBcImFzc2lzdGFudFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY29tbW9uUHJvcHMsXG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudC5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRvb2wtY2FsbFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5wYXJ0LFxuICAgICAgICAgICAgICBhcmdzVGV4dDogSlNPTi5zdHJpbmdpZnkocGFydC5hcmdzKSxcbiAgICAgICAgICAgIH0gc2F0aXNmaWVzIFRvb2xDYWxsQ29udGVudFBhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICB9KSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgfSBzYXRpc2ZpZXMgVGhyZWFkTWVzc2FnZTtcblxuICAgIGNhc2UgXCJ1c2VyXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb21tb25Qcm9wcyxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICBhdHRhY2htZW50czogW10sXG4gICAgICB9IHNhdGlzZmllcyBUaHJlYWRNZXNzYWdlO1xuXG4gICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY29tbW9uUHJvcHMsXG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgIH0gc2F0aXNmaWVzIFRocmVhZE1lc3NhZ2U7XG5cbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCB1bnN1cHBvcnRlZFJvbGU6IG5ldmVyID0gcm9sZTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHJvbGU6ICR7dW5zdXBwb3J0ZWRSb2xlfWApO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB0eXBlIHsgQ29yZU1lc3NhZ2UsIFRocmVhZE1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vdHlwZXMvQXNzaXN0YW50VHlwZXNcIjtcbmltcG9ydCB7IGdlbmVyYXRlT3B0aW1pc3RpY0lkIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2lkVXRpbHNcIjtcbmltcG9ydCB7IGZyb21Db3JlTWVzc2FnZSB9IGZyb20gXCIuLi9lZGdlL2NvbnZlcnRlcnMvZnJvbUNvcmVNZXNzYWdlXCI7XG5cbnR5cGUgUmVwb3NpdG9yeVBhcmVudCA9IHtcbiAgY2hpbGRyZW46IHN0cmluZ1tdO1xuICBuZXh0OiBSZXBvc2l0b3J5TWVzc2FnZSB8IG51bGw7XG59O1xuXG50eXBlIFJlcG9zaXRvcnlNZXNzYWdlID0gUmVwb3NpdG9yeVBhcmVudCAmIHtcbiAgcHJldjogUmVwb3NpdG9yeU1lc3NhZ2UgfCBudWxsO1xuICBjdXJyZW50OiBUaHJlYWRNZXNzYWdlO1xuICBsZXZlbDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBFeHBvcnRlZE1lc3NhZ2VSZXBvc2l0b3J5IHtcbiAgaGVhZElkPzogc3RyaW5nIHwgbnVsbDtcbiAgbWVzc2FnZXM6IEFycmF5PHtcbiAgICBtZXNzYWdlOiBUaHJlYWRNZXNzYWdlO1xuICAgIHBhcmVudElkOiBzdHJpbmcgfCBudWxsO1xuICB9Pjtcbn1cblxuY29uc3QgZmluZEhlYWQgPSAoXG4gIG1lc3NhZ2U6IFJlcG9zaXRvcnlNZXNzYWdlIHwgUmVwb3NpdG9yeVBhcmVudCxcbik6IFJlcG9zaXRvcnlNZXNzYWdlIHwgbnVsbCA9PiB7XG4gIGlmIChtZXNzYWdlLm5leHQpIHJldHVybiBmaW5kSGVhZChtZXNzYWdlLm5leHQpO1xuICBpZiAoXCJjdXJyZW50XCIgaW4gbWVzc2FnZSkgcmV0dXJuIG1lc3NhZ2U7XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VSZXBvc2l0b3J5IHtcbiAgcHJpdmF0ZSBtZXNzYWdlcyA9IG5ldyBNYXA8c3RyaW5nLCBSZXBvc2l0b3J5TWVzc2FnZT4oKTsgLy8gbWVzc2FnZV9pZCAtPiBpdGVtXG4gIHByaXZhdGUgaGVhZDogUmVwb3NpdG9yeU1lc3NhZ2UgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByb290OiBSZXBvc2l0b3J5UGFyZW50ID0ge1xuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBuZXh0OiBudWxsLFxuICB9O1xuXG4gIHByaXZhdGUgcGVyZm9ybU9wKFxuICAgIG5ld1BhcmVudDogUmVwb3NpdG9yeU1lc3NhZ2UgfCBudWxsLFxuICAgIGNoaWxkOiBSZXBvc2l0b3J5TWVzc2FnZSxcbiAgICBvcGVyYXRpb246IFwiY3V0XCIgfCBcImxpbmtcIiB8IFwicmVsaW5rXCIsXG4gICkge1xuICAgIGNvbnN0IHBhcmVudE9yUm9vdCA9IGNoaWxkLnByZXYgPz8gdGhpcy5yb290O1xuICAgIGNvbnN0IG5ld1BhcmVudE9yUm9vdCA9IG5ld1BhcmVudCA/PyB0aGlzLnJvb3Q7XG5cbiAgICBpZiAob3BlcmF0aW9uID09PSBcInJlbGlua1wiICYmIHBhcmVudE9yUm9vdCA9PT0gbmV3UGFyZW50T3JSb290KSByZXR1cm47XG5cbiAgICAvLyBjdXRcbiAgICBpZiAob3BlcmF0aW9uICE9PSBcImxpbmtcIikge1xuICAgICAgLy8gcmVtb3ZlIGZyb20gcGFyZW50T3JSb290LmNoaWxkcmVuXG4gICAgICBwYXJlbnRPclJvb3QuY2hpbGRyZW4gPSBwYXJlbnRPclJvb3QuY2hpbGRyZW4uZmlsdGVyKFxuICAgICAgICAobSkgPT4gbSAhPT0gY2hpbGQuY3VycmVudC5pZCxcbiAgICAgICk7XG5cbiAgICAgIC8vIHVwZGF0ZSBwYXJlbnRPclJvb3QubmV4dFxuICAgICAgaWYgKHBhcmVudE9yUm9vdC5uZXh0ID09PSBjaGlsZCkge1xuICAgICAgICBjb25zdCBmYWxsYmFja0lkID0gcGFyZW50T3JSb290LmNoaWxkcmVuLmF0KC0xKTtcbiAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBmYWxsYmFja0lkID8gdGhpcy5tZXNzYWdlcy5nZXQoZmFsbGJhY2tJZCkgOiBudWxsO1xuICAgICAgICBpZiAoZmFsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIFwiTWVzc2FnZVJlcG9zaXRvcnkocGVyZm9ybU9wL2N1dCk6IEZhbGxiYWNrIHNpYmxpbmcgbWVzc2FnZSBub3QgZm91bmQuIFRoaXMgaXMgbGlrZWx5IGFuIGludGVybmFsIGJ1ZyBpbiBhc3Npc3RhbnQtdWkuXCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnRPclJvb3QubmV4dCA9IGZhbGxiYWNrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxpbmtcbiAgICBpZiAob3BlcmF0aW9uICE9PSBcImN1dFwiKSB7XG4gICAgICAvLyBlbnN1cmUgdGhlIGNoaWxkIGlzIG5vdCBwYXJ0IG9mIHBhcmVudCB0cmVlXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgY3VycmVudDogUmVwb3NpdG9yeU1lc3NhZ2UgfCBudWxsID0gbmV3UGFyZW50O1xuICAgICAgICBjdXJyZW50O1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wcmV2XG4gICAgICApIHtcbiAgICAgICAgaWYgKGN1cnJlbnQuY3VycmVudC5pZCA9PT0gY2hpbGQuY3VycmVudC5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIFwiTWVzc2FnZVJlcG9zaXRvcnkocGVyZm9ybU9wL2xpbmspOiBBIG1lc3NhZ2Ugd2l0aCB0aGUgc2FtZSBpZCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgcGFyZW50IHRyZWUuIFRoaXMgZXJyb3Igb2NjdXJzIGlmIHRoZSBzYW1lIG1lc3NhZ2UgaWQgaXMgZm91bmQgbXVsdGlwbGUgdGltZXMuIFRoaXMgaXMgbGlrZWx5IGFuIGludGVybmFsIGJ1ZyBpbiBhc3Npc3RhbnQtdWkuXCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhZGQgdG8gcGFyZW50T3JSb290LmNoaWxkcmVuXG4gICAgICBuZXdQYXJlbnRPclJvb3QuY2hpbGRyZW4gPSBbXG4gICAgICAgIC4uLm5ld1BhcmVudE9yUm9vdC5jaGlsZHJlbixcbiAgICAgICAgY2hpbGQuY3VycmVudC5pZCxcbiAgICAgIF07XG5cbiAgICAgIC8vIHVwZGF0ZSBwYXJlbnRPclJvb3QubmV4dFxuICAgICAgaWYgKGZpbmRIZWFkKGNoaWxkKSA9PT0gdGhpcy5oZWFkIHx8IG5ld1BhcmVudE9yUm9vdC5uZXh0ID09PSBudWxsKSB7XG4gICAgICAgIG5ld1BhcmVudE9yUm9vdC5uZXh0ID0gY2hpbGQ7XG4gICAgICB9XG5cbiAgICAgIGNoaWxkLnByZXYgPSBuZXdQYXJlbnQ7XG4gICAgfVxuICB9XG4gIGdldE1lc3NhZ2VzKCkge1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gbmV3IEFycmF5PFRocmVhZE1lc3NhZ2U+KHRoaXMuaGVhZD8ubGV2ZWwgPz8gMCk7XG4gICAgZm9yIChsZXQgY3VycmVudCA9IHRoaXMuaGVhZDsgY3VycmVudDsgY3VycmVudCA9IGN1cnJlbnQucHJldikge1xuICAgICAgbWVzc2FnZXNbY3VycmVudC5sZXZlbF0gPSBjdXJyZW50LmN1cnJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlcztcbiAgfVxuXG4gIGFkZE9yVXBkYXRlTWVzc2FnZShwYXJlbnRJZDogc3RyaW5nIHwgbnVsbCwgbWVzc2FnZTogVGhyZWFkTWVzc2FnZSkge1xuICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IHRoaXMubWVzc2FnZXMuZ2V0KG1lc3NhZ2UuaWQpO1xuICAgIGNvbnN0IHByZXYgPSBwYXJlbnRJZCA/IHRoaXMubWVzc2FnZXMuZ2V0KHBhcmVudElkKSA6IG51bGw7XG4gICAgaWYgKHByZXYgPT09IHVuZGVmaW5lZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJNZXNzYWdlUmVwb3NpdG9yeShhZGRPclVwZGF0ZU1lc3NhZ2UpOiBQYXJlbnQgbWVzc2FnZSBub3QgZm91bmQuIFRoaXMgaXMgbGlrZWx5IGFuIGludGVybmFsIGJ1ZyBpbiBhc3Npc3RhbnQtdWkuXCIsXG4gICAgICApO1xuXG4gICAgLy8gdXBkYXRlIGV4aXN0aW5nIG1lc3NhZ2VcbiAgICBpZiAoZXhpc3RpbmdJdGVtKSB7XG4gICAgICBleGlzdGluZ0l0ZW0uY3VycmVudCA9IG1lc3NhZ2U7XG4gICAgICB0aGlzLnBlcmZvcm1PcChwcmV2LCBleGlzdGluZ0l0ZW0sIFwicmVsaW5rXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBhIG5ldyBtZXNzYWdlXG4gICAgY29uc3QgbmV3SXRlbTogUmVwb3NpdG9yeU1lc3NhZ2UgPSB7XG4gICAgICBwcmV2LFxuICAgICAgY3VycmVudDogbWVzc2FnZSxcbiAgICAgIG5leHQ6IG51bGwsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBsZXZlbDogcHJldiA/IHByZXYubGV2ZWwgKyAxIDogMCxcbiAgICB9O1xuXG4gICAgdGhpcy5tZXNzYWdlcy5zZXQobWVzc2FnZS5pZCwgbmV3SXRlbSk7XG4gICAgdGhpcy5wZXJmb3JtT3AocHJldiwgbmV3SXRlbSwgXCJsaW5rXCIpO1xuXG4gICAgaWYgKHRoaXMuaGVhZCA9PT0gcHJldikge1xuICAgICAgdGhpcy5oZWFkID0gbmV3SXRlbTtcbiAgICB9XG4gIH1cblxuICBnZXRNZXNzYWdlKG1lc3NhZ2VJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZCk7XG4gICAgaWYgKCFtZXNzYWdlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk1lc3NhZ2VSZXBvc2l0b3J5KHVwZGF0ZU1lc3NhZ2UpOiBNZXNzYWdlIG5vdCBmb3VuZC4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFyZW50SWQ6IG1lc3NhZ2UucHJldj8uY3VycmVudC5pZCA/PyBudWxsLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZS5jdXJyZW50LFxuICAgIH07XG4gIH1cblxuICBhcHBlbmRPcHRpbWlzdGljTWVzc2FnZShwYXJlbnRJZDogc3RyaW5nIHwgbnVsbCwgbWVzc2FnZTogQ29yZU1lc3NhZ2UpIHtcbiAgICBsZXQgb3B0aW1pc3RpY0lkOiBzdHJpbmc7XG4gICAgZG8ge1xuICAgICAgb3B0aW1pc3RpY0lkID0gZ2VuZXJhdGVPcHRpbWlzdGljSWQoKTtcbiAgICB9IHdoaWxlICh0aGlzLm1lc3NhZ2VzLmhhcyhvcHRpbWlzdGljSWQpKTtcblxuICAgIHRoaXMuYWRkT3JVcGRhdGVNZXNzYWdlKFxuICAgICAgcGFyZW50SWQsXG4gICAgICBmcm9tQ29yZU1lc3NhZ2UobWVzc2FnZSwge1xuICAgICAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgICAgICBzdGF0dXM6IHsgdHlwZTogXCJydW5uaW5nXCIgfSxcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICByZXR1cm4gb3B0aW1pc3RpY0lkO1xuICB9XG5cbiAgZGVsZXRlTWVzc2FnZShtZXNzYWdlSWQ6IHN0cmluZywgcmVwbGFjZW1lbnRJZD86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKTtcblxuICAgIGlmICghbWVzc2FnZSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJNZXNzYWdlUmVwb3NpdG9yeShkZWxldGVNZXNzYWdlKTogT3B0aW1pc3RpYyBtZXNzYWdlIG5vdCBmb3VuZC4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICk7XG5cbiAgICBjb25zdCByZXBsYWNlbWVudCA9XG4gICAgICByZXBsYWNlbWVudElkID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBtZXNzYWdlLnByZXYgLy8gaWYgbm8gcmVwbGFjZW1lbnRJZCBpcyBwcm92aWRlZCwgdXNlIHRoZSBwYXJlbnRcbiAgICAgICAgOiByZXBsYWNlbWVudElkID09PSBudWxsXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0aGlzLm1lc3NhZ2VzLmdldChyZXBsYWNlbWVudElkKTtcbiAgICBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJNZXNzYWdlUmVwb3NpdG9yeShkZWxldGVNZXNzYWdlKTogUmVwbGFjZW1lbnQgbm90IGZvdW5kLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLlwiLFxuICAgICAgKTtcblxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgbWVzc2FnZS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgY2hpbGRNZXNzYWdlID0gdGhpcy5tZXNzYWdlcy5nZXQoY2hpbGQpO1xuICAgICAgaWYgKCFjaGlsZE1lc3NhZ2UpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIk1lc3NhZ2VSZXBvc2l0b3J5KGRlbGV0ZU1lc3NhZ2UpOiBDaGlsZCBtZXNzYWdlIG5vdCBmb3VuZC4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICAgKTtcbiAgICAgIHRoaXMucGVyZm9ybU9wKHJlcGxhY2VtZW50LCBjaGlsZE1lc3NhZ2UsIFwicmVsaW5rXCIpO1xuICAgIH1cblxuICAgIHRoaXMucGVyZm9ybU9wKG51bGwsIG1lc3NhZ2UsIFwiY3V0XCIpO1xuICAgIHRoaXMubWVzc2FnZXMuZGVsZXRlKG1lc3NhZ2VJZCk7XG5cbiAgICBpZiAodGhpcy5oZWFkID09PSBtZXNzYWdlKSB7XG4gICAgICB0aGlzLmhlYWQgPSBmaW5kSGVhZChyZXBsYWNlbWVudCA/PyB0aGlzLnJvb3QpO1xuICAgIH1cbiAgfVxuXG4gIGdldEJyYW5jaGVzKG1lc3NhZ2VJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZCk7XG4gICAgaWYgKCFtZXNzYWdlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk1lc3NhZ2VSZXBvc2l0b3J5KGdldEJyYW5jaGVzKTogTWVzc2FnZSBub3QgZm91bmQuIFRoaXMgaXMgbGlrZWx5IGFuIGludGVybmFsIGJ1ZyBpbiBhc3Npc3RhbnQtdWkuXCIsXG4gICAgICApO1xuXG4gICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gbWVzc2FnZS5wcmV2ID8/IHRoaXMucm9vdDtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cblxuICBzd2l0Y2hUb0JyYW5jaChtZXNzYWdlSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpO1xuICAgIGlmICghbWVzc2FnZSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJNZXNzYWdlUmVwb3NpdG9yeShzd2l0Y2hUb0JyYW5jaCk6IEJyYW5jaCBub3QgZm91bmQuIFRoaXMgaXMgbGlrZWx5IGFuIGludGVybmFsIGJ1ZyBpbiBhc3Npc3RhbnQtdWkuXCIsXG4gICAgICApO1xuXG4gICAgY29uc3QgcHJldk9yUm9vdCA9IG1lc3NhZ2UucHJldiA/PyB0aGlzLnJvb3Q7XG4gICAgcHJldk9yUm9vdC5uZXh0ID0gbWVzc2FnZTtcblxuICAgIHRoaXMuaGVhZCA9IGZpbmRIZWFkKG1lc3NhZ2UpO1xuICB9XG5cbiAgcmVzZXRIZWFkKG1lc3NhZ2VJZDogc3RyaW5nIHwgbnVsbCkge1xuICAgIGlmIChtZXNzYWdlSWQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuaGVhZCA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZCk7XG4gICAgaWYgKCFtZXNzYWdlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk1lc3NhZ2VSZXBvc2l0b3J5KHJlc2V0SGVhZCk6IEJyYW5jaCBub3QgZm91bmQuIFRoaXMgaXMgbGlrZWx5IGFuIGludGVybmFsIGJ1ZyBpbiBhc3Npc3RhbnQtdWkuXCIsXG4gICAgICApO1xuXG4gICAgdGhpcy5oZWFkID0gbWVzc2FnZTtcbiAgICBmb3IgKFxuICAgICAgbGV0IGN1cnJlbnQ6IFJlcG9zaXRvcnlNZXNzYWdlIHwgbnVsbCA9IG1lc3NhZ2U7XG4gICAgICBjdXJyZW50O1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQucHJldlxuICAgICkge1xuICAgICAgaWYgKGN1cnJlbnQucHJldikge1xuICAgICAgICBjdXJyZW50LnByZXYubmV4dCA9IGN1cnJlbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0KCk6IEV4cG9ydGVkTWVzc2FnZVJlcG9zaXRvcnkge1xuICAgIGNvbnN0IGV4cG9ydEl0ZW1zOiBFeHBvcnRlZE1lc3NhZ2VSZXBvc2l0b3J5W1wibWVzc2FnZXNcIl0gPSBbXTtcblxuICAgIC8vIGhpbnQ6IHdlIGFyZSByZWx5aW5nIG9uIHRoZSBpbnNlcnRpb24gb3JkZXIgb2YgdGhlIG1lc3NhZ2VzXG4gICAgLy8gdGhpcyBpcyBpbXBvcnRhbnQgZm9yIHRoZSBpbXBvcnQgZnVuY3Rpb24gdG8gcHJvcGVybHkgbGluayB0aGUgbWVzc2FnZXNcbiAgICBmb3IgKGNvbnN0IFssIG1lc3NhZ2VdIG9mIHRoaXMubWVzc2FnZXMpIHtcbiAgICAgIGV4cG9ydEl0ZW1zLnB1c2goe1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLmN1cnJlbnQsXG4gICAgICAgIHBhcmVudElkOiBtZXNzYWdlLnByZXY/LmN1cnJlbnQuaWQgPz8gbnVsbCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBoZWFkSWQ6IHRoaXMuaGVhZD8uY3VycmVudC5pZCA/PyBudWxsLFxuICAgICAgbWVzc2FnZXM6IGV4cG9ydEl0ZW1zLFxuICAgIH07XG4gIH1cblxuICBpbXBvcnQoeyBoZWFkSWQsIG1lc3NhZ2VzIH06IEV4cG9ydGVkTWVzc2FnZVJlcG9zaXRvcnkpIHtcbiAgICBmb3IgKGNvbnN0IHsgbWVzc2FnZSwgcGFyZW50SWQgfSBvZiBtZXNzYWdlcykge1xuICAgICAgdGhpcy5hZGRPclVwZGF0ZU1lc3NhZ2UocGFyZW50SWQsIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8vIHN3aXRjaCB0byB0aGUgc2F2ZWQgaGVhZCBpZCBpZiBpdCBpcyBub3QgdGhlIG1vc3QgcmVjZW50IG1lc3NhZ2VcbiAgICB0aGlzLnJlc2V0SGVhZChoZWFkSWQgPz8gbWVzc2FnZXMuYXQoLTEpPy5tZXNzYWdlLmlkID8/IG51bGwpO1xuICB9XG59XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VNZXNzYWdlQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0XCI7XG5pbXBvcnQge1xuICBDb250ZW50UGFydFN0YXR1cyxcbiAgVG9vbENhbGxDb250ZW50UGFydFN0YXR1cyxcbn0gZnJvbSBcIi4uLy4uL3R5cGVzL0Fzc2lzdGFudFR5cGVzXCI7XG5pbXBvcnQgeyBUZXh0Q29udGVudFBhcnRTdGF0ZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3N0b3Jlcy9Db250ZW50UGFydFwiO1xuaW1wb3J0IHsgdXNlU21vb3RoQ29udGV4dCB9IGZyb20gXCIuL1Ntb290aENvbnRleHRcIjtcbmltcG9ydCB7IFN0b3JlQXBpIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrUmVmIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtY2FsbGJhY2stcmVmXCI7XG5cbmNsYXNzIFRleHRTdHJlYW1BbmltYXRvciB7XG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWVJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbGFzdFVwZGF0ZVRpbWU6IG51bWJlciA9IERhdGUubm93KCk7XG5cbiAgcHVibGljIHRhcmdldFRleHQ6IHN0cmluZyA9IFwiXCI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGN1cnJlbnRUZXh0OiBzdHJpbmcsXG4gICAgcHJpdmF0ZSBzZXRUZXh0OiAobmV3VGV4dDogc3RyaW5nKSA9PiB2b2lkLFxuICApIHt9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uRnJhbWVJZCAhPT0gbnVsbCkgcmV0dXJuO1xuICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuYW5pbWF0ZSgpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5hbmltYXRpb25GcmFtZUlkICE9PSBudWxsKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lSWQpO1xuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGRlbHRhVGltZSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0VXBkYXRlVGltZTtcbiAgICBsZXQgdGltZVRvQ29uc3VtZSA9IGRlbHRhVGltZTtcblxuICAgIGNvbnN0IHJlbWFpbmluZ0NoYXJzID0gdGhpcy50YXJnZXRUZXh0Lmxlbmd0aCAtIHRoaXMuY3VycmVudFRleHQubGVuZ3RoO1xuICAgIGNvbnN0IGJhc2VUaW1lUGVyQ2hhciA9IE1hdGgubWluKDUsIDI1MCAvIHJlbWFpbmluZ0NoYXJzKTtcblxuICAgIGxldCBjaGFyc1RvQWRkID0gMDtcbiAgICB3aGlsZSAodGltZVRvQ29uc3VtZSA+PSBiYXNlVGltZVBlckNoYXIgJiYgY2hhcnNUb0FkZCA8IHJlbWFpbmluZ0NoYXJzKSB7XG4gICAgICBjaGFyc1RvQWRkKys7XG4gICAgICB0aW1lVG9Db25zdW1lIC09IGJhc2VUaW1lUGVyQ2hhcjtcbiAgICB9XG5cbiAgICBpZiAoY2hhcnNUb0FkZCAhPT0gcmVtYWluaW5nQ2hhcnMpIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY2hhcnNUb0FkZCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgdGhpcy5jdXJyZW50VGV4dCA9IHRoaXMudGFyZ2V0VGV4dC5zbGljZShcbiAgICAgIDAsXG4gICAgICB0aGlzLmN1cnJlbnRUZXh0Lmxlbmd0aCArIGNoYXJzVG9BZGQsXG4gICAgKTtcbiAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gY3VycmVudFRpbWUgLSB0aW1lVG9Db25zdW1lO1xuICAgIHRoaXMuc2V0VGV4dCh0aGlzLmN1cnJlbnRUZXh0KTtcbiAgfTtcbn1cblxuY29uc3QgU01PT1RIX1NUQVRVUzogQ29udGVudFBhcnRTdGF0dXMgPSBPYmplY3QuZnJlZXplKHtcbiAgdHlwZTogXCJydW5uaW5nXCIsXG59KTtcblxuZXhwb3J0IGNvbnN0IHVzZVNtb290aCA9IChcbiAgc3RhdGU6IFRleHRDb250ZW50UGFydFN0YXRlLFxuICBzbW9vdGg6IGJvb2xlYW4gPSBmYWxzZSxcbik6IFRleHRDb250ZW50UGFydFN0YXRlID0+IHtcbiAgY29uc3QgeyB1c2VTbW9vdGhTdGF0dXMgfSA9IHVzZVNtb290aENvbnRleHQoeyBvcHRpb25hbDogdHJ1ZSB9KSA/PyB7fTtcblxuICBjb25zdCB7XG4gICAgcGFydDogeyB0ZXh0IH0sXG4gIH0gPSBzdGF0ZTtcbiAgY29uc3QgeyB1c2VNZXNzYWdlIH0gPSB1c2VNZXNzYWdlQ29udGV4dCgpO1xuICBjb25zdCBpZCA9IHVzZU1lc3NhZ2UoKG0pID0+IG0ubWVzc2FnZS5pZCk7XG5cbiAgY29uc3QgaWRSZWYgPSB1c2VSZWYoaWQpO1xuICBjb25zdCBbZGlzcGxheWVkVGV4dCwgc2V0RGlzcGxheWVkVGV4dF0gPSB1c2VTdGF0ZSh0ZXh0KTtcblxuICBjb25zdCBzZXRUZXh0ID0gdXNlQ2FsbGJhY2tSZWYoKHRleHQ6IHN0cmluZykgPT4ge1xuICAgIHNldERpc3BsYXllZFRleHQodGV4dCk7XG4gICAgKFxuICAgICAgdXNlU21vb3RoU3RhdHVzIGFzIHVua25vd24gYXNcbiAgICAgICAgfCBTdG9yZUFwaTxUb29sQ2FsbENvbnRlbnRQYXJ0U3RhdHVzPlxuICAgICAgICB8IHVuZGVmaW5lZFxuICAgICk/LnNldFN0YXRlKHRleHQgIT09IHN0YXRlLnBhcnQudGV4dCA/IFNNT09USF9TVEFUVVMgOiBzdGF0ZS5zdGF0dXMpO1xuICB9KTtcblxuICAvLyBUT0RPIHRoaXMgaXMgaGFja3lcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBUT0RPIGFkZCBhIGhlbHBlciBmdW5jdGlvbiBzbyB3ZSBkb24ndCBoYXZlIHRvIG92ZXJyaWRlIHRoZSB0eXBlc1xuICAgIChcbiAgICAgIHVzZVNtb290aFN0YXR1cyBhcyB1bmtub3duIGFzXG4gICAgICAgIHwgU3RvcmVBcGk8VG9vbENhbGxDb250ZW50UGFydFN0YXR1cz5cbiAgICAgICAgfCB1bmRlZmluZWRcbiAgICApPy5zZXRTdGF0ZSh0ZXh0ICE9PSBkaXNwbGF5ZWRUZXh0ID8gU01PT1RIX1NUQVRVUyA6IHN0YXRlLnN0YXR1cyk7XG4gIH0sIFt1c2VTbW9vdGhTdGF0dXMsIHRleHQsIGRpc3BsYXllZFRleHQsIHN0YXRlLnN0YXR1c10pO1xuXG4gIGNvbnN0IFthbmltYXRvclJlZl0gPSB1c2VTdGF0ZTxUZXh0U3RyZWFtQW5pbWF0b3I+KFxuICAgIG5ldyBUZXh0U3RyZWFtQW5pbWF0b3IodGV4dCwgc2V0VGV4dCksXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNtb290aCkge1xuICAgICAgYW5pbWF0b3JSZWYuc3RvcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpZFJlZi5jdXJyZW50ICE9PSBpZCB8fCAhdGV4dC5zdGFydHNXaXRoKGFuaW1hdG9yUmVmLnRhcmdldFRleHQpKSB7XG4gICAgICBpZFJlZi5jdXJyZW50ID0gaWQ7XG4gICAgICBzZXRUZXh0KHRleHQpO1xuXG4gICAgICBhbmltYXRvclJlZi5jdXJyZW50VGV4dCA9IHRleHQ7XG4gICAgICBhbmltYXRvclJlZi50YXJnZXRUZXh0ID0gdGV4dDtcbiAgICAgIGFuaW1hdG9yUmVmLnN0b3AoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFuaW1hdG9yUmVmLnRhcmdldFRleHQgPSB0ZXh0O1xuICAgIGFuaW1hdG9yUmVmLnN0YXJ0KCk7XG4gIH0sIFtzZXRUZXh0LCBhbmltYXRvclJlZiwgaWQsIHNtb290aCwgdGV4dF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGFuaW1hdG9yUmVmLnN0b3AoKTtcbiAgICB9O1xuICB9LCBbYW5pbWF0b3JSZWZdKTtcblxuICByZXR1cm4gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgc21vb3RoXG4gICAgICAgID8ge1xuICAgICAgICAgICAgcGFydDogeyB0eXBlOiBcInRleHRcIiwgdGV4dDogZGlzcGxheWVkVGV4dCB9LFxuICAgICAgICAgICAgc3RhdHVzOiB0ZXh0ID09PSBkaXNwbGF5ZWRUZXh0ID8gc3RhdGUuc3RhdHVzIDogU01PT1RIX1NUQVRVUyxcbiAgICAgICAgICB9XG4gICAgICAgIDogc3RhdGUsXG4gICAgW3Ntb290aCwgZGlzcGxheWVkVGV4dCwgc3RhdGUsIHRleHRdLFxuICApO1xufTtcbiIsImltcG9ydCB7XG4gIGNyZWF0ZUNvbnRleHQsXG4gIEZDLFxuICBmb3J3YXJkUmVmLFxuICBQcm9wc1dpdGhDaGlsZHJlbixcbiAgdXNlQ29udGV4dCxcbiAgdXNlU3RhdGUsXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udGVudFBhcnRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHtcbiAgQ29udGVudFBhcnRTdGF0dXMsXG4gIFRvb2xDYWxsQ29udGVudFBhcnRTdGF0dXMsXG59IGZyb20gXCIuLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuXG50eXBlIFNtb290aENvbnRleHRWYWx1ZSA9IHtcbiAgdXNlU21vb3RoU3RhdHVzOiBSZWFkb25seVN0b3JlPFRvb2xDYWxsQ29udGVudFBhcnRTdGF0dXMgfCBDb250ZW50UGFydFN0YXR1cz47XG59O1xuXG5jb25zdCBTbW9vdGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxTbW9vdGhDb250ZXh0VmFsdWUgfCBudWxsPihudWxsKTtcblxuY29uc3QgbWFrZVNtb290aENvbnRleHQgPSAoXG4gIGluaXRpYWxTdGF0ZTogQ29udGVudFBhcnRTdGF0dXMgfCBUb29sQ2FsbENvbnRlbnRQYXJ0U3RhdHVzLFxuKSA9PiB7XG4gIGNvbnN0IHVzZVNtb290aFN0YXR1cyA9IGNyZWF0ZSgoKSA9PiBpbml0aWFsU3RhdGUpO1xuICByZXR1cm4geyB1c2VTbW9vdGhTdGF0dXMgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBTbW9vdGhDb250ZXh0UHJvdmlkZXI6IEZDPFByb3BzV2l0aENoaWxkcmVuPiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3Qgb3V0ZXIgPSB1c2VTbW9vdGhDb250ZXh0KHsgb3B0aW9uYWw6IHRydWUgfSk7XG4gIGNvbnN0IHsgdXNlQ29udGVudFBhcnQgfSA9IHVzZUNvbnRlbnRQYXJ0Q29udGV4dCgpO1xuXG4gIGNvbnN0IFtjb250ZXh0XSA9IHVzZVN0YXRlKCgpID0+XG4gICAgbWFrZVNtb290aENvbnRleHQodXNlQ29udGVudFBhcnQuZ2V0U3RhdGUoKS5zdGF0dXMpLFxuICApO1xuXG4gIC8vIGRvIG5vdCB3cmFwIGlmIHRoZXJlIGlzIGFuIG91dGVyIFNtb290aENvbnRleHRQcm92aWRlclxuICBpZiAob3V0ZXIpIHJldHVybiBjaGlsZHJlbjtcblxuICByZXR1cm4gKFxuICAgIDxTbW9vdGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT57Y2hpbGRyZW59PC9TbW9vdGhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhTbW9vdGhDb250ZXh0UHJvdmlkZXIgPSA8QyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudFR5cGU8YW55Pj4oXG4gIENvbXBvbmVudDogQyxcbik6IEMgPT4ge1xuICBjb25zdCBXcmFwcGVkID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8U21vb3RoQ29udGV4dFByb3ZpZGVyPlxuICAgICAgICA8Q29tcG9uZW50IHsuLi4ocHJvcHMgYXMgYW55KX0gcmVmPXtyZWZ9IC8+XG4gICAgICA8L1Ntb290aENvbnRleHRQcm92aWRlcj5cbiAgICApO1xuICB9KTtcbiAgV3JhcHBlZC5kaXNwbGF5TmFtZSA9IENvbXBvbmVudC5kaXNwbGF5TmFtZTtcbiAgcmV0dXJuIFdyYXBwZWQgYXMgYW55O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNtb290aENvbnRleHQoKTogU21vb3RoQ29udGV4dFZhbHVlO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVNtb290aENvbnRleHQob3B0aW9uczoge1xuICBvcHRpb25hbDogdHJ1ZTtcbn0pOiBTbW9vdGhDb250ZXh0VmFsdWUgfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVNtb290aENvbnRleHQob3B0aW9ucz86IHsgb3B0aW9uYWw6IHRydWUgfSkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChTbW9vdGhDb250ZXh0KTtcbiAgaWYgKCFvcHRpb25zPy5vcHRpb25hbCAmJiAhY29udGV4dClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRoaXMgY29tcG9uZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBTbW9vdGhDb250ZXh0UHJvdmlkZXIuXCIsXG4gICAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmV4cG9ydCBjb25zdCB1c2VTbW9vdGhTdGF0dXMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlU21vb3RoU3RhdHVzIH0gPSB1c2VTbW9vdGhDb250ZXh0KCk7XG4gIHJldHVybiB1c2VTbW9vdGhTdGF0dXMoKTtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgZm9yd2FyZFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVG9vbHRpcCwgVG9vbHRpcENvbnRlbnQsIFRvb2x0aXBUcmlnZ2VyIH0gZnJvbSBcIi4vdG9vbHRpcFwiO1xuaW1wb3J0IHsgQnV0dG9uLCBCdXR0b25Qcm9wcyB9IGZyb20gXCIuL2J1dHRvblwiO1xuXG5leHBvcnQgdHlwZSBUb29sdGlwSWNvbkJ1dHRvblByb3BzID0gQnV0dG9uUHJvcHMgJiB7XG4gIHRvb2x0aXA6IHN0cmluZztcbiAgc2lkZT86IFwidG9wXCIgfCBcImJvdHRvbVwiIHwgXCJsZWZ0XCIgfCBcInJpZ2h0XCI7XG59O1xuXG5leHBvcnQgY29uc3QgVG9vbHRpcEljb25CdXR0b24gPSBmb3J3YXJkUmVmPFxuICBIVE1MQnV0dG9uRWxlbWVudCxcbiAgVG9vbHRpcEljb25CdXR0b25Qcm9wc1xuPigoeyBjaGlsZHJlbiwgdG9vbHRpcCwgc2lkZSA9IFwiYm90dG9tXCIsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFRvb2x0aXA+XG4gICAgICA8VG9vbHRpcFRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwiaWNvblwiIHsuLi5yZXN0fSByZWY9e3JlZn0+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImF1aS1zci1vbmx5XCI+e3Rvb2x0aXB9PC9zcGFuPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICA8VG9vbHRpcENvbnRlbnQgc2lkZT17c2lkZX0+e3Rvb2x0aXB9PC9Ub29sdGlwQ29udGVudD5cbiAgICA8L1Rvb2x0aXA+XG4gICk7XG59KTtcblxuVG9vbHRpcEljb25CdXR0b24uZGlzcGxheU5hbWUgPSBcIlRvb2x0aXBJY29uQnV0dG9uXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0ICogYXMgVG9vbHRpcFByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXRvb2x0aXBcIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuLi91dGlscy93aXRoRGVmYXVsdHNcIjtcbmltcG9ydCB7IEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBUb29sdGlwOiBGQzxUb29sdGlwUHJpbWl0aXZlLlRvb2x0aXBQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VG9vbHRpcFByaW1pdGl2ZS5Qcm92aWRlcj5cbiAgICAgIDxUb29sdGlwUHJpbWl0aXZlLlJvb3Qgey4uLnByb3BzfSAvPlxuICAgIDwvVG9vbHRpcFByaW1pdGl2ZS5Qcm92aWRlcj5cbiAgKTtcbn07XG5cblRvb2x0aXAuZGlzcGxheU5hbWUgPSBcIlRvb2x0aXBcIjtcblxuZXhwb3J0IGNvbnN0IFRvb2x0aXBUcmlnZ2VyID0gVG9vbHRpcFByaW1pdGl2ZS5UcmlnZ2VyO1xuXG5leHBvcnQgY29uc3QgVG9vbHRpcENvbnRlbnQgPSB3aXRoRGVmYXVsdHMoVG9vbHRpcFByaW1pdGl2ZS5Db250ZW50LCB7XG4gIHNpZGVPZmZzZXQ6IDQsXG4gIGNsYXNzTmFtZTogXCJhdWktdG9vbHRpcC1jb250ZW50XCIsXG59KTtcblxuVG9vbHRpcENvbnRlbnQuZGlzcGxheU5hbWUgPSBcIlRvb2x0aXBDb250ZW50XCI7XG4iLCJpbXBvcnQge1xuICBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYsXG4gIEVsZW1lbnRSZWYsXG4gIEVsZW1lbnRUeXBlLFxuICBmb3J3YXJkUmVmLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XG5cbmV4cG9ydCBjb25zdCB3aXRoRGVmYXVsdFByb3BzID1cbiAgPFRQcm9wcyBleHRlbmRzIHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+KHtcbiAgICBjbGFzc05hbWUsXG4gICAgLi4uZGVmYXVsdFByb3BzXG4gIH06IFBhcnRpYWw8VFByb3BzPikgPT5cbiAgKHsgY2xhc3NOYW1lOiBjbGFzc05hbWVQcm9wLCAuLi5wcm9wcyB9OiBUUHJvcHMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzTmFtZSwgY2xhc3NOYW1lUHJvcCksXG4gICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAuLi5wcm9wcyxcbiAgICB9IGFzIFRQcm9wcztcbiAgfTtcblxuZXhwb3J0IGNvbnN0IHdpdGhEZWZhdWx0cyA9IDxUQ29tcG9uZW50IGV4dGVuZHMgRWxlbWVudFR5cGU+KFxuICBDb21wb25lbnQ6IFRDb21wb25lbnQsXG4gIGRlZmF1bHRQcm9wczogUGFydGlhbDxDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8VENvbXBvbmVudD4+LFxuKSA9PiB7XG4gIHR5cGUgVENvbXBvbmVudFByb3BzID0gdHlwZW9mIGRlZmF1bHRQcm9wcztcbiAgY29uc3QgZ2V0UHJvcHMgPSB3aXRoRGVmYXVsdFByb3BzPFRDb21wb25lbnRQcm9wcz4oZGVmYXVsdFByb3BzKTtcbiAgY29uc3QgV2l0aERlZmF1bHRzID0gZm9yd2FyZFJlZjxFbGVtZW50UmVmPFRDb21wb25lbnQ+LCBUQ29tcG9uZW50UHJvcHM+KFxuICAgIChwcm9wcywgcmVmKSA9PiB7XG4gICAgICBjb25zdCBDb21wb25lbnRBc0FueSA9IENvbXBvbmVudCBhcyBhbnk7XG4gICAgICByZXR1cm4gPENvbXBvbmVudEFzQW55IHsuLi5nZXRQcm9wcyhwcm9wcyBhcyBhbnkpfSByZWY9e3JlZn0gLz47XG4gICAgfSxcbiAgKTtcbiAgV2l0aERlZmF1bHRzLmRpc3BsYXlOYW1lID1cbiAgICBcIndpdGhEZWZhdWx0cyhcIiArXG4gICAgKHR5cGVvZiBDb21wb25lbnQgPT09IFwic3RyaW5nXCIgPyBDb21wb25lbnQgOiBDb21wb25lbnQuZGlzcGxheU5hbWUpICtcbiAgICBcIilcIjtcbiAgcmV0dXJuIFdpdGhEZWZhdWx0cztcbn07XG4iLCJpbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IEVsZW1lbnRSZWYsIGZvcndhcmRSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoXCJhdWktYnV0dG9uXCIsIHtcbiAgdmFyaWFudHM6IHtcbiAgICB2YXJpYW50OiB7XG4gICAgICBkZWZhdWx0OiBcImF1aS1idXR0b24tcHJpbWFyeVwiLFxuICAgICAgb3V0bGluZTogXCJhdWktYnV0dG9uLW91dGxpbmVcIixcbiAgICAgIGdob3N0OiBcImF1aS1idXR0b24tZ2hvc3RcIixcbiAgICB9LFxuICAgIHNpemU6IHtcbiAgICAgIGRlZmF1bHQ6IFwiYXVpLWJ1dHRvbi1tZWRpdW1cIixcbiAgICAgIGljb246IFwiYXVpLWJ1dHRvbi1pY29uXCIsXG4gICAgfSxcbiAgfSxcbiAgZGVmYXVsdFZhcmlhbnRzOiB7XG4gICAgdmFyaWFudDogXCJkZWZhdWx0XCIsXG4gICAgc2l6ZTogXCJkZWZhdWx0XCIsXG4gIH0sXG59KTtcblxudHlwZSBCdXR0b25FbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmJ1dHRvbj47XG5cbmV4cG9ydCB0eXBlIEJ1dHRvblByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPFxuICB0eXBlb2YgUHJpbWl0aXZlLmJ1dHRvblxuPiAmXG4gIFZhcmlhbnRQcm9wczx0eXBlb2YgYnV0dG9uVmFyaWFudHM+O1xuXG5jb25zdCBCdXR0b24gPSBmb3J3YXJkUmVmPEJ1dHRvbkVsZW1lbnQsIEJ1dHRvblByb3BzPihcbiAgKHsgY2xhc3NOYW1lLCB2YXJpYW50LCBzaXplLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFByaW1pdGl2ZS5idXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtidXR0b25WYXJpYW50cyh7IHZhcmlhbnQsIHNpemUsIGNsYXNzTmFtZSB9KX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSxcbik7XG5cbkJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiQnV0dG9uXCI7XG5cbmV4cG9ydCB7IEJ1dHRvbiwgYnV0dG9uVmFyaWFudHMgfTtcbiIsImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMU1lc3NhZ2UgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHsgQ29yZU1lc3NhZ2UsIFRvb2xDYWxsQ29udGVudFBhcnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcblxudHlwZSBmcm9tTGFuZ3VhZ2VNb2RlbE1lc3NhZ2VzT3B0aW9ucyA9IHtcbiAgbWVyZ2VSb3VuZHRyaXBzOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNvbnN0IGZyb21MYW5ndWFnZU1vZGVsTWVzc2FnZXMgPSAoXG4gIGxtOiBMYW5ndWFnZU1vZGVsVjFNZXNzYWdlW10sXG4gIHsgbWVyZ2VSb3VuZHRyaXBzIH06IGZyb21MYW5ndWFnZU1vZGVsTWVzc2FnZXNPcHRpb25zLFxuKTogQ29yZU1lc3NhZ2VbXSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VzOiBDb3JlTWVzc2FnZVtdID0gW107XG5cbiAgZm9yIChjb25zdCBsbU1lc3NhZ2Ugb2YgbG0pIHtcbiAgICBjb25zdCByb2xlID0gbG1NZXNzYWdlLnJvbGU7XG4gICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICB0ZXh0OiBsbU1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInVzZXJcIjoge1xuICAgICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBsbU1lc3NhZ2UuY29udGVudC5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuaW1hZ2UgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHBhcnQuaW1hZ2UuaHJlZixcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9ubHkgaW1hZ2VzIHdpdGggVVJMIGRhdGEgYXJlIHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogbmV2ZXIgPSB0eXBlO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjb250ZW50IHBhcnQgdHlwZTogJHt1bmhhbmRsZWRUeXBlfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhc3Npc3RhbnRcIjoge1xuICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gbG1NZXNzYWdlLmNvbnRlbnQubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0b29sLWNhbGxcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGxcIixcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgYXJnc1RleHQ6IEpTT04uc3RyaW5naWZ5KHBhcnQuYXJncyksXG4gICAgICAgICAgICAgIGFyZ3M6IHBhcnQuYXJncyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgIH0gc2F0aXNmaWVzIFRvb2xDYWxsQ29udGVudFBhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWVyZ2VSb3VuZHRyaXBzKSB7XG4gICAgICAgICAgY29uc3QgcHJldmlvdXNNZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgaWYgKHByZXZpb3VzTWVzc2FnZT8ucm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICAgICAgcHJldmlvdXNNZXNzYWdlLmNvbnRlbnQucHVzaCguLi5uZXdDb250ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgY29udGVudDogbmV3Q29udGVudCxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInRvb2xcIjoge1xuICAgICAgICBjb25zdCBwcmV2aW91c01lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKHByZXZpb3VzTWVzc2FnZT8ucm9sZSAhPT0gXCJhc3Npc3RhbnRcIilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkEgdG9vbCBtZXNzYWdlIG11c3QgYmUgcHJlY2VkZWQgYnkgYW4gYXNzaXN0YW50IG1lc3NhZ2UuXCIsXG4gICAgICAgICAgKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2YgbG1NZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgICBjb25zdCB0b29sQ2FsbCA9IHByZXZpb3VzTWVzc2FnZS5jb250ZW50LmZpbmQoXG4gICAgICAgICAgICAoYyk6IGMgaXMgVG9vbENhbGxDb250ZW50UGFydCA9PlxuICAgICAgICAgICAgICBjLnR5cGUgPT09IFwidG9vbC1jYWxsXCIgJiYgYy50b29sQ2FsbElkID09PSB0b29sLnRvb2xDYWxsSWQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXRvb2xDYWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVjZWl2ZWQgdG9vbCByZXN1bHQgZm9yIGFuIHVua25vd24gdG9vbCBjYWxsLlwiKTtcbiAgICAgICAgICBpZiAodG9vbENhbGwudG9vbE5hbWUgIT09IHRvb2wudG9vbE5hbWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb29sIGNhbGwgbmFtZSBtaXNtYXRjaC5cIik7XG5cbiAgICAgICAgICB0b29sQ2FsbC5yZXN1bHQgPSB0b29sLnJlc3VsdDtcbiAgICAgICAgICBpZiAodG9vbC5pc0Vycm9yKSB7XG4gICAgICAgICAgICB0b29sQ2FsbC5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCB1bmhhbmRsZWRSb2xlOiBuZXZlciA9IHJvbGU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHJvbGU6ICR7dW5oYW5kbGVkUm9sZX1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWVzc2FnZXM7XG59O1xuIiwiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYxRnVuY3Rpb25Ub29sIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7IFRvb2wgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXMvTW9kZWxDb25maWdUeXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZnJvbUxhbmd1YWdlTW9kZWxUb29scyA9IChcbiAgdG9vbHM6IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbFtdLFxuKTogUmVjb3JkPHN0cmluZywgVG9vbDxhbnksIGFueT4+ID0+IHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICB0b29scy5tYXAoKHRvb2wpID0+IFtcbiAgICAgIHRvb2wubmFtZSxcbiAgICAgIHtcbiAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgIHBhcmFtZXRlcnM6IHRvb2wucGFyYW1ldGVycyxcbiAgICAgIH0sXG4gICAgXSksXG4gICk7XG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGNodW5rQnlMaW5lU3RyZWFtKCkge1xuICBsZXQgYnVmZmVyID0gXCJcIjtcblxuICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICBidWZmZXIgKz0gY2h1bms7XG4gICAgICBjb25zdCBsaW5lcyA9IGJ1ZmZlci5zcGxpdChcIlxcblwiKTtcblxuICAgICAgLy8gUHJvY2VzcyBhbGwgY29tcGxldGUgbGluZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShsaW5lc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEtlZXAgdGhlIGxhc3QgaW5jb21wbGV0ZSBsaW5lIGluIHRoZSBidWZmZXJcbiAgICAgIGJ1ZmZlciA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdITtcbiAgICB9LFxuICAgIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgIC8vIGZsdXNoIGFueSByZW1haW5pbmcgY29udGVudCBpbiB0aGUgYnVmZmVyXG4gICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShidWZmZXIpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgY2h1bmtCeUxpbmVTdHJlYW0gfSBmcm9tIFwiLi9jaHVua0J5TGluZVN0cmVhbVwiO1xuaW1wb3J0IHsgUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW0gfSBmcm9tIFwiLi9QaXBlYWJsZVRyYW5zZm9ybVN0cmVhbVwiO1xuaW1wb3J0IHsgU3RyZWFtUGFydCB9IGZyb20gXCIuL1N0cmVhbVBhcnRcIjtcblxuY29uc3QgZGVjb2RlU3RyZWFtUGFydCA9IDxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KFxuICBwYXJ0OiBzdHJpbmcsXG4pOiBTdHJlYW1QYXJ0PFQ+ID0+IHtcbiAgY29uc3QgaW5kZXggPSBwYXJ0LmluZGV4T2YoXCI6XCIpO1xuICBpZiAoaW5kZXggPT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmVhbSBwYXJ0XCIpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHBhcnQuc2xpY2UoMCwgaW5kZXgpLFxuICAgIHZhbHVlOiBKU09OLnBhcnNlKHBhcnQuc2xpY2UoaW5kZXggKyAxKSksXG4gIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtUGFydERlY29kZXJTdHJlYW08VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PigpIHtcbiAgY29uc3QgZGVjb2RlU3RyZWFtID0gbmV3IFRyYW5zZm9ybVN0cmVhbTxzdHJpbmcsIFN0cmVhbVBhcnQ8VD4+KHtcbiAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShkZWNvZGVTdHJlYW1QYXJ0PFQ+KGNodW5rKSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBQaXBlYWJsZVRyYW5zZm9ybVN0cmVhbSgocmVhZGFibGUpID0+IHtcbiAgICByZXR1cm4gcmVhZGFibGVcbiAgICAgIC5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSlcbiAgICAgIC5waXBlVGhyb3VnaChjaHVua0J5TGluZVN0cmVhbSgpKVxuICAgICAgLnBpcGVUaHJvdWdoKGRlY29kZVN0cmVhbSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgc3RyZWFtUGFydERlY29kZXJTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1QYXJ0RGVjb2RlclN0cmVhbVwiO1xuaW1wb3J0IHsgc3RyZWFtUGFydEVuY29kZXJTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1QYXJ0RW5jb2RlclN0cmVhbVwiO1xuaW1wb3J0IHsgU3RyZWFtUGFydCB9IGZyb20gXCIuL1N0cmVhbVBhcnRcIjtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFN0cmVhbVV0aWxzIHtcbiAgZXhwb3J0IHsgU3RyZWFtUGFydCB9O1xufVxuXG5leHBvcnQgY29uc3Qgc3RyZWFtVXRpbHMgPSB7XG4gIHN0cmVhbVBhcnRFbmNvZGVyU3RyZWFtLFxuICBzdHJlYW1QYXJ0RGVjb2RlclN0cmVhbSxcbn07XG4iLCJpbXBvcnQgeyBMb2NhbFJ1bnRpbWVPcHRpb25zLCB1c2VMb2NhbFJ1bnRpbWUgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBFZGdlQ2hhdEFkYXB0ZXJPcHRpb25zLCBFZGdlQ2hhdEFkYXB0ZXIgfSBmcm9tIFwiLi9FZGdlQ2hhdEFkYXB0ZXJcIjtcblxuZXhwb3J0IHR5cGUgRWRnZVJ1bnRpbWVPcHRpb25zID0gRWRnZUNoYXRBZGFwdGVyT3B0aW9ucyAmIExvY2FsUnVudGltZU9wdGlvbnM7XG5cbmV4cG9ydCBjb25zdCB1c2VFZGdlUnVudGltZSA9ICh7XG4gIGluaXRpYWxNZXNzYWdlcyxcbiAgbWF4VG9vbFJvdW5kdHJpcHMsXG4gIGFkYXB0ZXJzLFxuICAuLi5vcHRpb25zXG59OiBFZGdlUnVudGltZU9wdGlvbnMpID0+IHtcbiAgY29uc3QgW2FkYXB0ZXJdID0gdXNlU3RhdGUoKCkgPT4gbmV3IEVkZ2VDaGF0QWRhcHRlcihvcHRpb25zKSk7XG4gIHJldHVybiB1c2VMb2NhbFJ1bnRpbWUoYWRhcHRlciwge1xuICAgIGluaXRpYWxNZXNzYWdlcyxcbiAgICBtYXhUb29sUm91bmR0cmlwcyxcbiAgICBhZGFwdGVycyxcbiAgfSk7XG59O1xuIiwiaW1wb3J0IHtcbiAgQXNzaXN0YW50U3RyZWFtQ2h1bmssXG4gIEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZSxcbn0gZnJvbSBcIi4vQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlXCI7XG5pbXBvcnQgeyBTdHJlYW1QYXJ0IH0gZnJvbSBcIi4vdXRpbHMvU3RyZWFtUGFydFwiO1xuaW1wb3J0IHsgVG9vbFJlc3VsdFN0cmVhbVBhcnQgfSBmcm9tIFwiLi90b29sUmVzdWx0U3RyZWFtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3Npc3RhbnREZWNvZGVyU3RyZWFtKCkge1xuICBjb25zdCB0b29sQ2FsbE5hbWVzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgbGV0IGN1cnJlbnRUb29sQ2FsbDpcbiAgICB8IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBhcmdzVGV4dDogc3RyaW5nIH1cbiAgICB8IHVuZGVmaW5lZDtcblxuICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICBTdHJlYW1QYXJ0PEFzc2lzdGFudFN0cmVhbUNodW5rPixcbiAgICBUb29sUmVzdWx0U3RyZWFtUGFydFxuICA+KHtcbiAgICB0cmFuc2Zvcm0oeyB0eXBlLCB2YWx1ZSB9LCBjb250cm9sbGVyKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGN1cnJlbnRUb29sQ2FsbCAmJlxuICAgICAgICB0eXBlICE9PSBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxBcmdzVGV4dERlbHRhICYmXG4gICAgICAgIHR5cGUgIT09IEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZS5FcnJvclxuICAgICAgKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGxcIixcbiAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICB0b29sQ2FsbElkOiBjdXJyZW50VG9vbENhbGwuaWQsXG4gICAgICAgICAgdG9vbE5hbWU6IGN1cnJlbnRUb29sQ2FsbC5uYW1lLFxuICAgICAgICAgIGFyZ3M6IGN1cnJlbnRUb29sQ2FsbC5hcmdzVGV4dCxcbiAgICAgICAgfSk7XG4gICAgICAgIGN1cnJlbnRUb29sQ2FsbCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLlRleHREZWx0YToge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgIHRleHREZWx0YTogdmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxCZWdpbjoge1xuICAgICAgICAgIGNvbnN0IHsgaWQsIG5hbWUgfSA9IHZhbHVlO1xuICAgICAgICAgIHRvb2xDYWxsTmFtZXMuc2V0KGlkLCBuYW1lKTtcbiAgICAgICAgICBjdXJyZW50VG9vbENhbGwgPSB7IGlkLCBuYW1lLCBhcmdzVGV4dDogXCJcIiB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLlRvb2xDYWxsQXJnc1RleHREZWx0YToge1xuICAgICAgICAgIGNvbnN0IGRlbHRhID0gdmFsdWU7XG4gICAgICAgICAgY3VycmVudFRvb2xDYWxsIS5hcmdzVGV4dCArPSBkZWx0YTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGwtZGVsdGFcIixcbiAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgdG9vbENhbGxJZDogY3VycmVudFRvb2xDYWxsIS5pZCxcbiAgICAgICAgICAgIHRvb2xOYW1lOiBjdXJyZW50VG9vbENhbGwhLm5hbWUsXG4gICAgICAgICAgICBhcmdzVGV4dERlbHRhOiBkZWx0YSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZS5Ub29sQ2FsbFJlc3VsdDoge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLmlkLFxuICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsTmFtZXMuZ2V0KHZhbHVlLmlkKSEsXG4gICAgICAgICAgICByZXN1bHQ6IHZhbHVlLnJlc3VsdCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZS5GaW5pc2g6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLkVycm9yOiB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIGVycm9yOiB2YWx1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogbmV2ZXIgPSB0eXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIGNodW5rIHR5cGU6ICR7dW5oYW5kbGVkVHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgQ2hhdE1vZGVsQWRhcHRlciwgQ2hhdE1vZGVsUnVuT3B0aW9ucyB9IGZyb20gXCIuLi9sb2NhbFwiO1xuaW1wb3J0IHsgQ2hhdE1vZGVsUnVuUmVzdWx0IH0gZnJvbSBcIi4uL2xvY2FsL0NoYXRNb2RlbEFkYXB0ZXJcIjtcbmltcG9ydCB7IHRvQ29yZU1lc3NhZ2VzIH0gZnJvbSBcIi4vY29udmVydGVycy90b0NvcmVNZXNzYWdlc1wiO1xuaW1wb3J0IHsgdG9MYW5ndWFnZU1vZGVsVG9vbHMgfSBmcm9tIFwiLi9jb252ZXJ0ZXJzL3RvTGFuZ3VhZ2VNb2RlbFRvb2xzXCI7XG5pbXBvcnQgeyBFZGdlUnVudGltZVJlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4vRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9uc1wiO1xuaW1wb3J0IHsgYXNzaXN0YW50RGVjb2RlclN0cmVhbSB9IGZyb20gXCIuL3N0cmVhbXMvYXNzaXN0YW50RGVjb2RlclN0cmVhbVwiO1xuaW1wb3J0IHsgc3RyZWFtUGFydERlY29kZXJTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1zL3V0aWxzL3N0cmVhbVBhcnREZWNvZGVyU3RyZWFtXCI7XG5pbXBvcnQgeyBydW5SZXN1bHRTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1zL3J1blJlc3VsdFN0cmVhbVwiO1xuaW1wb3J0IHsgdG9vbFJlc3VsdFN0cmVhbSB9IGZyb20gXCIuL3N0cmVhbXMvdG9vbFJlc3VsdFN0cmVhbVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNBc3luY0l0ZXJhYmxlPFQ+KFxuICBzb3VyY2U6IFJlYWRhYmxlU3RyZWFtPFQ+LFxuKTogQXN5bmNJdGVyYWJsZTxUPiB7XG4gIHJldHVybiB7XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgY29uc3QgcmVhZGVyID0gc291cmNlLmdldFJlYWRlcigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXN5bmMgbmV4dCgpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PFQsIHVuZGVmaW5lZD4+IHtcbiAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgIHJldHVybiBkb25lXG4gICAgICAgICAgICA/IHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9XG4gICAgICAgICAgICA6IHsgZG9uZTogZmFsc2UsIHZhbHVlIH07XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG4gIH07XG59XG5leHBvcnQgdHlwZSBFZGdlQ2hhdEFkYXB0ZXJPcHRpb25zID0ge1xuICBhcGk6IHN0cmluZztcblxuICBjcmVkZW50aWFscz86IFJlcXVlc3RDcmVkZW50aWFscztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCBIZWFkZXJzO1xuICBib2R5Pzogb2JqZWN0O1xufTtcblxuZXhwb3J0IGNsYXNzIEVkZ2VDaGF0QWRhcHRlciBpbXBsZW1lbnRzIENoYXRNb2RlbEFkYXB0ZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9wdGlvbnM6IEVkZ2VDaGF0QWRhcHRlck9wdGlvbnMpIHt9XG5cbiAgYXN5bmMgKnJ1bih7IG1lc3NhZ2VzLCBhYm9ydFNpZ25hbCwgY29uZmlnIH06IENoYXRNb2RlbFJ1bk9wdGlvbnMpIHtcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5vcHRpb25zLmhlYWRlcnMpO1xuICAgIGhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKHRoaXMub3B0aW9ucy5hcGksIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzLFxuICAgICAgY3JlZGVudGlhbHM6IHRoaXMub3B0aW9ucy5jcmVkZW50aWFscyA/PyBcInNhbWUtb3JpZ2luXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHN5c3RlbTogY29uZmlnLnN5c3RlbSxcbiAgICAgICAgbWVzc2FnZXM6IHRvQ29yZU1lc3NhZ2VzKG1lc3NhZ2VzKSxcbiAgICAgICAgdG9vbHM6IGNvbmZpZy50b29scyA/IHRvTGFuZ3VhZ2VNb2RlbFRvb2xzKGNvbmZpZy50b29scykgOiBbXSxcbiAgICAgICAgLi4uY29uZmlnLmNhbGxTZXR0aW5ncyxcbiAgICAgICAgLi4uY29uZmlnLmNvbmZpZyxcblxuICAgICAgICAuLi50aGlzLm9wdGlvbnMuYm9keSxcbiAgICAgIH0gc2F0aXNmaWVzIEVkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnMpLFxuICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdHVzICR7cmVzdWx0LnN0YXR1c306ICR7YXdhaXQgcmVzdWx0LnRleHQoKX1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJlYW0gPSByZXN1bHRcbiAgICAgIC5ib2R5IS5waXBlVGhyb3VnaChzdHJlYW1QYXJ0RGVjb2RlclN0cmVhbSgpKVxuICAgICAgLnBpcGVUaHJvdWdoKGFzc2lzdGFudERlY29kZXJTdHJlYW0oKSlcbiAgICAgIC5waXBlVGhyb3VnaCh0b29sUmVzdWx0U3RyZWFtKGNvbmZpZy50b29scywgYWJvcnRTaWduYWwpKVxuICAgICAgLnBpcGVUaHJvdWdoKHJ1blJlc3VsdFN0cmVhbSgpKTtcblxuICAgIGxldCB1cGRhdGU6IENoYXRNb2RlbFJ1blJlc3VsdCB8IHVuZGVmaW5lZDtcbiAgICBmb3IgYXdhaXQgKHVwZGF0ZSBvZiBhc0FzeW5jSXRlcmFibGUoc3RyZWFtKSkge1xuICAgICAgeWllbGQgdXBkYXRlO1xuICAgIH1cblxuICAgIGlmICh1cGRhdGUgPT09IHVuZGVmaW5lZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGRhdGEgcmVjZWl2ZWQgZnJvbSBFZGdlIFJ1bnRpbWVcIik7XG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgVGhyZWFkQXNzaXN0YW50TWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3Qgc2hvdWxkQ29udGludWUgPSAocmVzdWx0OiBUaHJlYWRBc3Npc3RhbnRNZXNzYWdlKSA9PlxuICByZXN1bHQuc3RhdHVzPy50eXBlID09PSBcInJlcXVpcmVzLWFjdGlvblwiICYmXG4gIHJlc3VsdC5zdGF0dXMucmVhc29uID09PSBcInRvb2wtY2FsbHNcIiAmJlxuICByZXN1bHQuY29udGVudC5ldmVyeSgoYykgPT4gYy50eXBlICE9PSBcInRvb2wtY2FsbFwiIHx8ICEhYy5yZXN1bHQpO1xuIiwiaW1wb3J0IHsgQWRkVG9vbFJlc3VsdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbFwiO1xuaW1wb3J0IHR5cGUge1xuICBNb2RlbENvbmZpZ1Byb3ZpZGVyLFxuICBBcHBlbmRNZXNzYWdlLFxuICBUaHJlYWRVc2VyTWVzc2FnZSxcbiAgVGhyZWFkQXNzaXN0YW50TWVzc2FnZSxcbiAgVW5zdWJzY3JpYmUsXG59IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgZnJvbUNvcmVNZXNzYWdlcyB9IGZyb20gXCIuLi9lZGdlXCI7XG5pbXBvcnQge1xuICBFeHBvcnRlZE1lc3NhZ2VSZXBvc2l0b3J5LFxuICBNZXNzYWdlUmVwb3NpdG9yeSxcbn0gZnJvbSBcIi4uL3V0aWxzL01lc3NhZ2VSZXBvc2l0b3J5XCI7XG5pbXBvcnQgdHlwZSB7IENoYXRNb2RlbEFkYXB0ZXIsIENoYXRNb2RlbFJ1blJlc3VsdCB9IGZyb20gXCIuL0NoYXRNb2RlbEFkYXB0ZXJcIjtcbmltcG9ydCB7IFRocmVhZFJ1bnRpbWVDb21wb3NlciB9IGZyb20gXCIuLi91dGlscy9UaHJlYWRSdW50aW1lQ29tcG9zZXJcIjtcbmltcG9ydCB7IHNob3VsZENvbnRpbnVlIH0gZnJvbSBcIi4vc2hvdWxkQ29udGludWVcIjtcbmltcG9ydCB7IExvY2FsUnVudGltZU9wdGlvbnMgfSBmcm9tIFwiLi9Mb2NhbFJ1bnRpbWVPcHRpb25zXCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IFNwZWVjaFN5bnRoZXNpc0FkYXB0ZXIgfSBmcm9tIFwiLi4vc3BlZWNoXCI7XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFRocmVhZFJ1bnRpbWUgaW1wbGVtZW50cyBUaHJlYWRSdW50aW1lIHtcbiAgcHJpdmF0ZSBfc3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQ8KCkgPT4gdm9pZD4oKTtcblxuICBwcml2YXRlIGFib3J0Q29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgcmVwb3NpdG9yeSA9IG5ldyBNZXNzYWdlUmVwb3NpdG9yeSgpO1xuXG4gIHB1YmxpYyByZWFkb25seSBjYXBhYmlsaXRpZXMgPSB7XG4gICAgc3dpdGNoVG9CcmFuY2g6IHRydWUsXG4gICAgZWRpdDogdHJ1ZSxcbiAgICByZWxvYWQ6IHRydWUsXG4gICAgY2FuY2VsOiB0cnVlLFxuICAgIHVuc3RhYmxlX2NvcHk6IHRydWUsXG4gICAgc3BlYWs6IGZhbHNlLFxuICAgIGF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgfTtcblxuICBwdWJsaWMgcmVhZG9ubHkgdGhyZWFkSWQ6IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IGlzRGlzYWJsZWQgPSBmYWxzZTtcblxuICBwdWJsaWMgZ2V0IG1lc3NhZ2VzKCkge1xuICAgIHJldHVybiB0aGlzLnJlcG9zaXRvcnkuZ2V0TWVzc2FnZXMoKTtcbiAgfVxuXG4gIHB1YmxpYyByZWFkb25seSBjb21wb3NlciA9IG5ldyBUaHJlYWRSdW50aW1lQ29tcG9zZXIoXG4gICAgdGhpcyxcbiAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzLmJpbmQodGhpcyksXG4gICk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBjb25maWdQcm92aWRlcjogTW9kZWxDb25maWdQcm92aWRlcixcbiAgICBwdWJsaWMgYWRhcHRlcjogQ2hhdE1vZGVsQWRhcHRlcixcbiAgICB7IGluaXRpYWxNZXNzYWdlcywgLi4ub3B0aW9ucyB9OiBMb2NhbFJ1bnRpbWVPcHRpb25zLFxuICApIHtcbiAgICB0aGlzLnRocmVhZElkID0gZ2VuZXJhdGVJZCgpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKGluaXRpYWxNZXNzYWdlcykge1xuICAgICAgbGV0IHBhcmVudElkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZnJvbUNvcmVNZXNzYWdlcyhpbml0aWFsTWVzc2FnZXMpO1xuICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgICAgIHRoaXMucmVwb3NpdG9yeS5hZGRPclVwZGF0ZU1lc3NhZ2UocGFyZW50SWQsIG1lc3NhZ2UpO1xuICAgICAgICBwYXJlbnRJZCA9IG1lc3NhZ2UuaWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb3B0aW9ucyE6IExvY2FsUnVudGltZU9wdGlvbnM7XG5cbiAgcHVibGljIGdldCBvcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICB9XG5cbiAgcHVibGljIHNldCBvcHRpb25zKHsgaW5pdGlhbE1lc3NhZ2VzLCAuLi5vcHRpb25zIH06IExvY2FsUnVudGltZU9wdGlvbnMpIHtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuICAgIGxldCBoYXNVcGRhdGVzID0gZmFsc2U7XG5cbiAgICBjb25zdCBjYW5TcGVhayA9IG9wdGlvbnMuYWRhcHRlcnM/LnNwZWVjaCAhPT0gdW5kZWZpbmVkO1xuICAgIGlmICh0aGlzLmNhcGFiaWxpdGllcy5zcGVhayAhPT0gY2FuU3BlYWspIHtcbiAgICAgIHRoaXMuY2FwYWJpbGl0aWVzLnNwZWFrID0gY2FuU3BlYWs7XG4gICAgICBoYXNVcGRhdGVzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBvc2VyLnNldEF0dGFjaG1lbnRBZGFwdGVyKG9wdGlvbnMuYWRhcHRlcnM/LmF0dGFjaG1lbnRzKTtcblxuICAgIGNvbnN0IGNhbkF0dGFjaCA9IG9wdGlvbnMuYWRhcHRlcnM/LmF0dGFjaG1lbnRzICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMuY2FwYWJpbGl0aWVzLmF0dGFjaG1lbnRzICE9PSBjYW5BdHRhY2gpIHtcbiAgICAgIHRoaXMuY2FwYWJpbGl0aWVzLmF0dGFjaG1lbnRzID0gY2FuQXR0YWNoO1xuICAgICAgaGFzVXBkYXRlcyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGhhc1VwZGF0ZXMpIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCcmFuY2hlcyhtZXNzYWdlSWQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5yZXBvc2l0b3J5LmdldEJyYW5jaGVzKG1lc3NhZ2VJZCk7XG4gIH1cblxuICBwdWJsaWMgc3dpdGNoVG9CcmFuY2goYnJhbmNoSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucmVwb3NpdG9yeS5zd2l0Y2hUb0JyYW5jaChicmFuY2hJZCk7XG4gICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGFwcGVuZChtZXNzYWdlOiBBcHBlbmRNZXNzYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVE9ETyBhZGQgc3VwcG9ydCBmb3IgYXNzaXN0YW50IGFwcGVuZHNcbiAgICBpZiAobWVzc2FnZS5yb2xlICE9PSBcInVzZXJcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJPbmx5IGFwcGVuZGluZyB1c2VyIG1lc3NhZ2VzIGFyZSBzdXBwb3J0ZWQgaW4gTG9jYWxSdW50aW1lLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLlwiLFxuICAgICAgKTtcblxuICAgIC8vIGFkZCB1c2VyIG1lc3NhZ2VcbiAgICBjb25zdCB1c2VyTWVzc2FnZUlkID0gZ2VuZXJhdGVJZCgpO1xuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBUaHJlYWRVc2VyTWVzc2FnZSA9IHtcbiAgICAgIGlkOiB1c2VyTWVzc2FnZUlkLFxuICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICBhdHRhY2htZW50czogbWVzc2FnZS5hdHRhY2htZW50cyA/PyBbXSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICAgIHRoaXMucmVwb3NpdG9yeS5hZGRPclVwZGF0ZU1lc3NhZ2UobWVzc2FnZS5wYXJlbnRJZCwgdXNlck1lc3NhZ2UpO1xuXG4gICAgYXdhaXQgdGhpcy5zdGFydFJ1bih1c2VyTWVzc2FnZUlkKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzdGFydFJ1bihwYXJlbnRJZDogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMucmVwb3NpdG9yeS5yZXNldEhlYWQocGFyZW50SWQpO1xuXG4gICAgLy8gYWRkIGFzc2lzdGFudCBtZXNzYWdlXG4gICAgY29uc3QgaWQgPSBnZW5lcmF0ZUlkKCk7XG4gICAgbGV0IG1lc3NhZ2U6IFRocmVhZEFzc2lzdGFudE1lc3NhZ2UgPSB7XG4gICAgICBpZCxcbiAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICBzdGF0dXM6IHsgdHlwZTogXCJydW5uaW5nXCIgfSxcbiAgICAgIGNvbnRlbnQ6IFtdLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICBkbyB7XG4gICAgICBtZXNzYWdlID0gYXdhaXQgdGhpcy5wZXJmb3JtUm91bmR0cmlwKHBhcmVudElkLCBtZXNzYWdlKTtcbiAgICB9IHdoaWxlIChzaG91bGRDb250aW51ZShtZXNzYWdlKSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHBlcmZvcm1Sb3VuZHRyaXAoXG4gICAgcGFyZW50SWQ6IHN0cmluZyB8IG51bGwsXG4gICAgbWVzc2FnZTogVGhyZWFkQXNzaXN0YW50TWVzc2FnZSxcbiAgKSB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLnJlcG9zaXRvcnkuZ2V0TWVzc2FnZXMoKTtcblxuICAgIC8vIGFib3J0IGV4aXN0aW5nIHJ1blxuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyPy5hYm9ydCgpO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgY29uc3QgaW5pdGlhbENvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgY29uc3QgaW5pdGlhbFJvdW5kdHJpcHMgPSBtZXNzYWdlLm1ldGFkYXRhPy5yb3VuZHRyaXBzO1xuICAgIGNvbnN0IGluaXRhbEN1c3RvbSA9IG1lc3NhZ2UubWV0YWRhdGE/LmN1c3RvbTtcbiAgICBjb25zdCB1cGRhdGVNZXNzYWdlID0gKG06IFBhcnRpYWw8Q2hhdE1vZGVsUnVuUmVzdWx0PikgPT4ge1xuICAgICAgbWVzc2FnZSA9IHtcbiAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgLi4uKG0uY29udGVudFxuICAgICAgICAgID8geyBjb250ZW50OiBbLi4uaW5pdGlhbENvbnRlbnQsIC4uLihtLmNvbnRlbnQgPz8gW10pXSB9XG4gICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICBzdGF0dXM6IG0uc3RhdHVzID8/IG1lc3NhZ2Uuc3RhdHVzLFxuICAgICAgICAvLyBUT0RPIGRlcHJlY2F0ZWQsIHJlbW92ZSBpbiB2MC42XG4gICAgICAgIC4uLihtLm1ldGFkYXRhPy5yb3VuZHRyaXBzXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHJvdW5kdHJpcHM6IFtcbiAgICAgICAgICAgICAgICAuLi4oaW5pdGlhbFJvdW5kdHJpcHMgPz8gW10pLFxuICAgICAgICAgICAgICAgIC4uLm0ubWV0YWRhdGEucm91bmR0cmlwcyxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCksXG4gICAgICAgIC4uLihtLm1ldGFkYXRhXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgLi4ubWVzc2FnZS5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAuLi4obS5tZXRhZGF0YS5yb3VuZHRyaXBzXG4gICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICByb3VuZHRyaXBzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oaW5pdGlhbFJvdW5kdHJpcHMgPz8gW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubS5tZXRhZGF0YS5yb3VuZHRyaXBzLFxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAuLi4obS5tZXRhZGF0YT8uY3VzdG9tXG4gICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBjdXN0b206IHsgLi4uKGluaXRhbEN1c3RvbSA/PyB7fSksIC4uLm0ubWV0YWRhdGEuY3VzdG9tIH0sXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCksXG4gICAgICB9O1xuICAgICAgdGhpcy5yZXBvc2l0b3J5LmFkZE9yVXBkYXRlTWVzc2FnZShwYXJlbnRJZCwgbWVzc2FnZSk7XG4gICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG1heFRvb2xSb3VuZHRyaXBzID0gdGhpcy5vcHRpb25zLm1heFRvb2xSb3VuZHRyaXBzID8/IDE7XG4gICAgY29uc3QgdG9vbFJvdW5kdHJpcHMgPSBtZXNzYWdlLm1ldGFkYXRhPy5yb3VuZHRyaXBzPy5sZW5ndGggPz8gMDtcbiAgICBpZiAodG9vbFJvdW5kdHJpcHMgPiBtYXhUb29sUm91bmR0cmlwcykge1xuICAgICAgLy8gcmVhY2hlZCBtYXggdG9vbCByb3VuZHRyaXBzXG4gICAgICB1cGRhdGVNZXNzYWdlKHtcbiAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgdHlwZTogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgICAgcmVhc29uOiBcInRvb2wtY2FsbHNcIixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZU1lc3NhZ2Uoe1xuICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICB0eXBlOiBcInJ1bm5pbmdcIixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9taXNlT3JHZW5lcmF0b3IgPSB0aGlzLmFkYXB0ZXIucnVuKHtcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIGFib3J0U2lnbmFsOiB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIGNvbmZpZzogdGhpcy5jb25maWdQcm92aWRlci5nZXRNb2RlbENvbmZpZygpLFxuICAgICAgICBvblVwZGF0ZTogdXBkYXRlTWVzc2FnZSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBoYW5kbGUgYXN5bmMgaXRlcmF0b3IgZm9yIHN0cmVhbWluZyByZXN1bHRzXG4gICAgICBpZiAoU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcHJvbWlzZU9yR2VuZXJhdG9yKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgciBvZiBwcm9taXNlT3JHZW5lcmF0b3IpIHtcbiAgICAgICAgICB1cGRhdGVNZXNzYWdlKHIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVNZXNzYWdlKGF3YWl0IHByb21pc2VPckdlbmVyYXRvcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbnVsbDtcblxuICAgICAgaWYgKG1lc3NhZ2Uuc3RhdHVzLnR5cGUgPT09IFwicnVubmluZ1wiKSB7XG4gICAgICAgIHVwZGF0ZU1lc3NhZ2Uoe1xuICAgICAgICAgIHN0YXR1czogeyB0eXBlOiBcImNvbXBsZXRlXCIsIHJlYXNvbjogXCJ1bmtub3duXCIgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSBudWxsO1xuXG4gICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhlIHJ1biByZXN1bHQgc3RyZWFtXG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgICAgdXBkYXRlTWVzc2FnZSh7XG4gICAgICAgICAgc3RhdHVzOiB7IHR5cGU6IFwiaW5jb21wbGV0ZVwiLCByZWFzb246IFwiY2FuY2VsbGVkXCIgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVNZXNzYWdlKHtcbiAgICAgICAgICBzdGF0dXM6IHsgdHlwZTogXCJpbmNvbXBsZXRlXCIsIHJlYXNvbjogXCJlcnJvclwiLCBlcnJvcjogZSB9LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuXG4gIGNhbmNlbFJ1bigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuYWJvcnRDb250cm9sbGVyKSByZXR1cm47XG5cbiAgICB0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5U3Vic2NyaWJlcnMoKSB7XG4gICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiB0aGlzLl9zdWJzY3JpcHRpb25zKSBjYWxsYmFjaygpO1xuICB9XG5cbiAgcHVibGljIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IFVuc3Vic2NyaWJlIHtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmFkZChjYWxsYmFjayk7XG4gICAgcmV0dXJuICgpID0+IHRoaXMuX3N1YnNjcmlwdGlvbnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUb29sUmVzdWx0KHtcbiAgICBtZXNzYWdlSWQsXG4gICAgdG9vbENhbGxJZCxcbiAgICByZXN1bHQsXG4gIH06IEFkZFRvb2xSZXN1bHRPcHRpb25zKSB7XG4gICAgbGV0IHsgcGFyZW50SWQsIG1lc3NhZ2UgfSA9IHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlKG1lc3NhZ2VJZCk7XG5cbiAgICBpZiAobWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJpZWQgdG8gYWRkIHRvb2wgcmVzdWx0IHRvIG5vbi1hc3Npc3RhbnQgbWVzc2FnZVwiKTtcblxuICAgIGxldCBhZGRlZCA9IGZhbHNlO1xuICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnQubWFwKChjKSA9PiB7XG4gICAgICBpZiAoYy50eXBlICE9PSBcInRvb2wtY2FsbFwiKSByZXR1cm4gYztcbiAgICAgIGlmIChjLnRvb2xDYWxsSWQgIT09IHRvb2xDYWxsSWQpIHJldHVybiBjO1xuICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgaWYgKCFjLnJlc3VsdCkgYWRkZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYyxcbiAgICAgICAgcmVzdWx0LFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGlmICghZm91bmQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byBhZGQgdG9vbCByZXN1bHQgdG8gbm9uLWV4aXN0aW5nIHRvb2wgY2FsbFwiKTtcblxuICAgIG1lc3NhZ2UgPSB7XG4gICAgICAuLi5tZXNzYWdlLFxuICAgICAgY29udGVudDogbmV3Q29udGVudCxcbiAgICB9O1xuICAgIHRoaXMucmVwb3NpdG9yeS5hZGRPclVwZGF0ZU1lc3NhZ2UocGFyZW50SWQsIG1lc3NhZ2UpO1xuXG4gICAgaWYgKGFkZGVkICYmIHNob3VsZENvbnRpbnVlKG1lc3NhZ2UpKSB7XG4gICAgICB0aGlzLnBlcmZvcm1Sb3VuZHRyaXAocGFyZW50SWQsIG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE8gbGlmdCB1dHRlcmFuY2Ugc3RhdGUgdG8gdGhyZWFkIHJ1bnRpbWVcbiAgcHJpdmF0ZSBfdXR0ZXJhbmNlOiBTcGVlY2hTeW50aGVzaXNBZGFwdGVyLlV0dGVyYW5jZSB8IHVuZGVmaW5lZDtcblxuICBwdWJsaWMgc3BlYWsobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5vcHRpb25zLmFkYXB0ZXJzPy5zcGVlY2g7XG4gICAgaWYgKCFhZGFwdGVyKSB0aHJvdyBuZXcgRXJyb3IoXCJTcGVlY2ggYWRhcHRlciBub3QgY29uZmlndXJlZFwiKTtcblxuICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gdGhpcy5yZXBvc2l0b3J5LmdldE1lc3NhZ2UobWVzc2FnZUlkKTtcblxuICAgIGlmICh0aGlzLl91dHRlcmFuY2UpIHtcbiAgICAgIHRoaXMuX3V0dGVyYW5jZS5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3V0dGVyYW5jZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCB1dHRlcmFuY2UgPSBhZGFwdGVyLnNwZWFrKG1lc3NhZ2UpO1xuICAgIHV0dGVyYW5jZS5vbkVuZCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fdXR0ZXJhbmNlID09PSB1dHRlcmFuY2UpIHtcbiAgICAgICAgdGhpcy5fdXR0ZXJhbmNlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX3V0dGVyYW5jZSA9IHV0dGVyYW5jZTtcblxuICAgIHJldHVybiB0aGlzLl91dHRlcmFuY2U7XG4gIH1cblxuICBwdWJsaWMgZXhwb3J0KCkge1xuICAgIHJldHVybiB0aGlzLnJlcG9zaXRvcnkuZXhwb3J0KCk7XG4gIH1cblxuICBwdWJsaWMgaW1wb3J0KGRhdGE6IEV4cG9ydGVkTWVzc2FnZVJlcG9zaXRvcnkpIHtcbiAgICB0aGlzLnJlcG9zaXRvcnkuaW1wb3J0KGRhdGEpO1xuICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgdHlwZSBNb2RlbENvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgQ29yZU1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vdHlwZXMvQXNzaXN0YW50VHlwZXNcIjtcbmltcG9ydCB7IEJhc2VBc3Npc3RhbnRSdW50aW1lIH0gZnJvbSBcIi4uL2NvcmUvQmFzZUFzc2lzdGFudFJ1bnRpbWVcIjtcbmltcG9ydCB0eXBlIHsgQ2hhdE1vZGVsQWRhcHRlciB9IGZyb20gXCIuL0NoYXRNb2RlbEFkYXB0ZXJcIjtcbmltcG9ydCB7IFByb3h5Q29uZmlnUHJvdmlkZXIgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWxcIjtcbmltcG9ydCB7IExvY2FsVGhyZWFkUnVudGltZSB9IGZyb20gXCIuL0xvY2FsVGhyZWFkUnVudGltZVwiO1xuaW1wb3J0IHsgTG9jYWxSdW50aW1lT3B0aW9ucyB9IGZyb20gXCIuL0xvY2FsUnVudGltZU9wdGlvbnNcIjtcbmltcG9ydCB7IGZyb21Db3JlTWVzc2FnZXMgfSBmcm9tIFwiLi4vZWRnZS9jb252ZXJ0ZXJzL2Zyb21Db3JlTWVzc2FnZVwiO1xuXG5leHBvcnQgY2xhc3MgTG9jYWxSdW50aW1lIGV4dGVuZHMgQmFzZUFzc2lzdGFudFJ1bnRpbWU8TG9jYWxUaHJlYWRSdW50aW1lPiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3Byb3h5Q29uZmlnUHJvdmlkZXI6IFByb3h5Q29uZmlnUHJvdmlkZXI7XG5cbiAgY29uc3RydWN0b3IoYWRhcHRlcjogQ2hhdE1vZGVsQWRhcHRlciwgb3B0aW9uczogTG9jYWxSdW50aW1lT3B0aW9ucykge1xuICAgIGNvbnN0IHByb3h5Q29uZmlnUHJvdmlkZXIgPSBuZXcgUHJveHlDb25maWdQcm92aWRlcigpO1xuICAgIHN1cGVyKG5ldyBMb2NhbFRocmVhZFJ1bnRpbWUocHJveHlDb25maWdQcm92aWRlciwgYWRhcHRlciwgb3B0aW9ucykpO1xuICAgIHRoaXMuX3Byb3h5Q29uZmlnUHJvdmlkZXIgPSBwcm94eUNvbmZpZ1Byb3ZpZGVyO1xuICB9XG5cbiAgcHVibGljIHNldCBhZGFwdGVyKGFkYXB0ZXI6IENoYXRNb2RlbEFkYXB0ZXIpIHtcbiAgICB0aGlzLnRocmVhZC5hZGFwdGVyID0gYWRhcHRlcjtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgb3B0aW9ucyhvcHRpb25zOiBMb2NhbFJ1bnRpbWVPcHRpb25zKSB7XG4gICAgdGhpcy50aHJlYWQub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICByZWdpc3Rlck1vZGVsQ29uZmlnUHJvdmlkZXIocHJvdmlkZXI6IE1vZGVsQ29uZmlnUHJvdmlkZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJveHlDb25maWdQcm92aWRlci5yZWdpc3Rlck1vZGVsQ29uZmlnUHJvdmlkZXIocHJvdmlkZXIpO1xuICB9XG5cbiAgcHVibGljIHN3aXRjaFRvVGhyZWFkKHRocmVhZElkOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgaWYgKHRocmVhZElkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMb2NhbFJ1bnRpbWUgZG9lcyBub3QgeWV0IHN1cHBvcnQgc3dpdGNoaW5nIHRocmVhZHNcIik7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbml0aWFsTWVzc2FnZXMsIC4uLm9wdGlvbnMgfSA9IHRoaXMudGhyZWFkLm9wdGlvbnM7XG5cbiAgICByZXR1cm4gKHRoaXMudGhyZWFkID0gbmV3IExvY2FsVGhyZWFkUnVudGltZShcbiAgICAgIHRoaXMuX3Byb3h5Q29uZmlnUHJvdmlkZXIsXG4gICAgICB0aGlzLnRocmVhZC5hZGFwdGVyLFxuICAgICAgb3B0aW9ucyxcbiAgICApKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCh7XG4gICAgaW5pdGlhbE1lc3NhZ2VzLFxuICB9OiB7XG4gICAgaW5pdGlhbE1lc3NhZ2VzPzogcmVhZG9ubHkgQ29yZU1lc3NhZ2VbXSB8IHVuZGVmaW5lZDtcbiAgfSA9IHt9KSB7XG4gICAgdGhpcy5zd2l0Y2hUb1RocmVhZChudWxsKTtcbiAgICBpZiAoIWluaXRpYWxNZXNzYWdlcykgcmV0dXJuO1xuXG4gICAgY29uc3QgbWVzc2FnZXMgPSBmcm9tQ29yZU1lc3NhZ2VzKGluaXRpYWxNZXNzYWdlcyk7XG4gICAgdGhpcy50aHJlYWQuaW1wb3J0KHtcbiAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcy5tYXAoKG0sIGlkeCkgPT4gKHtcbiAgICAgICAgcGFyZW50SWQ6IG1lc3NhZ2VzW2lkeCAtIDFdPy5pZCA/PyBudWxsLFxuICAgICAgICBtZXNzYWdlOiBtLFxuICAgICAgfSkpLFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBUaHJlYWRNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBzeW1ib2xJbm5lck1lc3NhZ2UgPSBTeW1ib2woXCJpbm5lck1lc3NhZ2VcIik7XG5cbmV4cG9ydCB0eXBlIEV4dGVybmFsU3RvcmVUaHJlYWRNZXNzYWdlPFQ+ID0gVGhyZWFkTWVzc2FnZSAmIHtcbiAgW3N5bWJvbElubmVyTWVzc2FnZV0/OiBUO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEV4dGVybmFsU3RvcmVNZXNzYWdlID0gPFQsPihtZXNzYWdlOiBUaHJlYWRNZXNzYWdlKSA9PiB7XG4gIHJldHVybiAobWVzc2FnZSBhcyBFeHRlcm5hbFN0b3JlVGhyZWFkTWVzc2FnZTxUPilbc3ltYm9sSW5uZXJNZXNzYWdlXTtcbn07XG4iLCJpbXBvcnQgeyBUaHJlYWRNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIENvbnZlcnRlckNhbGxiYWNrPFRJbj4gPSAoXG4gIGNhY2hlOiBUaHJlYWRNZXNzYWdlIHwgdW5kZWZpbmVkLFxuICBtZXNzYWdlOiBUSW4sXG4gIGlkeDogbnVtYmVyLFxuKSA9PiBUaHJlYWRNZXNzYWdlO1xuXG5leHBvcnQgY2xhc3MgVGhyZWFkTWVzc2FnZUNvbnZlcnRlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FjaGUgPSBuZXcgV2Vha01hcDxXZWFrS2V5LCBUaHJlYWRNZXNzYWdlPigpO1xuXG4gIGNvbnZlcnRNZXNzYWdlczxUSW4gZXh0ZW5kcyBXZWFrS2V5PihcbiAgICBtZXNzYWdlczogVEluW10sXG4gICAgY29udmVydGVyOiBDb252ZXJ0ZXJDYWxsYmFjazxUSW4+LFxuICApOiBUaHJlYWRNZXNzYWdlW10ge1xuICAgIHJldHVybiBtZXNzYWdlcy5tYXAoKG0sIGlkeCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGVkID0gdGhpcy5jYWNoZS5nZXQobSk7XG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0gY29udmVydGVyKGNhY2hlZCwgbSwgaWR4KTtcbiAgICAgIHRoaXMuY2FjaGUuc2V0KG0sIG5ld01lc3NhZ2UpO1xuICAgICAgcmV0dXJuIG5ld01lc3NhZ2U7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1lc3NhZ2VTdGF0dXMgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuY29uc3QgQVVUT19TVEFUVVNfUlVOTklORyA9IE9iamVjdC5mcmVlemUoeyB0eXBlOiBcInJ1bm5pbmdcIiB9KTtcbmNvbnN0IEFVVE9fU1RBVFVTX0NPTVBMRVRFID0gT2JqZWN0LmZyZWV6ZSh7XG4gIHR5cGU6IFwiY29tcGxldGVcIixcbiAgcmVhc29uOiBcInVua25vd25cIixcbn0pO1xuXG5leHBvcnQgY29uc3QgaXNBdXRvU3RhdHVzID0gKHN0YXR1czogTWVzc2FnZVN0YXR1cykgPT5cbiAgc3RhdHVzID09PSBBVVRPX1NUQVRVU19SVU5OSU5HIHx8IHN0YXR1cyA9PT0gQVVUT19TVEFUVVNfQ09NUExFVEU7XG5cbmV4cG9ydCBjb25zdCBnZXRBdXRvU3RhdHVzID0gKGlzTGFzdDogYm9vbGVhbiwgaXNSdW5uaW5nOiBib29sZWFuKSA9PlxuICBpc0xhc3QgJiYgaXNSdW5uaW5nID8gQVVUT19TVEFUVVNfUlVOTklORyA6IEFVVE9fU1RBVFVTX0NPTVBMRVRFO1xuIiwiaW1wb3J0IHsgTWVzc2FnZUF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9zdG9yZXMvQXR0YWNobWVudFwiO1xuaW1wb3J0IHtcbiAgTWVzc2FnZVN0YXR1cyxcbiAgVGV4dENvbnRlbnRQYXJ0LFxuICBJbWFnZUNvbnRlbnRQYXJ0LFxuICBUb29sQ2FsbENvbnRlbnRQYXJ0LFxuICBVSUNvbnRlbnRQYXJ0LFxuICBUaHJlYWRNZXNzYWdlLFxuICBUaHJlYWRBc3Npc3RhbnRDb250ZW50UGFydCxcbiAgVGhyZWFkQXNzaXN0YW50TWVzc2FnZSxcbiAgVGhyZWFkVXNlckNvbnRlbnRQYXJ0LFxuICBUaHJlYWRVc2VyTWVzc2FnZSxcbiAgVGhyZWFkU3lzdGVtTWVzc2FnZSxcbn0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBDb3JlVG9vbENhbGxDb250ZW50UGFydCB9IGZyb20gXCIuLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRNZXNzYWdlTGlrZSA9IHtcbiAgcm9sZTogXCJhc3Npc3RhbnRcIiB8IFwidXNlclwiIHwgXCJzeXN0ZW1cIjtcbiAgY29udGVudDpcbiAgICB8IHN0cmluZ1xuICAgIHwgKFxuICAgICAgICB8IFRleHRDb250ZW50UGFydFxuICAgICAgICB8IEltYWdlQ29udGVudFBhcnRcbiAgICAgICAgfCBUb29sQ2FsbENvbnRlbnRQYXJ0PGFueSwgYW55PlxuICAgICAgICB8IENvcmVUb29sQ2FsbENvbnRlbnRQYXJ0PGFueSwgYW55PlxuICAgICAgICB8IFVJQ29udGVudFBhcnRcbiAgICAgIClbXTtcbiAgaWQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGNyZWF0ZWRBdD86IERhdGUgfCB1bmRlZmluZWQ7XG4gIHN0YXR1cz86IE1lc3NhZ2VTdGF0dXMgfCB1bmRlZmluZWQ7XG4gIGF0dGFjaG1lbnRzPzogTWVzc2FnZUF0dGFjaG1lbnRbXSB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBmcm9tVGhyZWFkTWVzc2FnZUxpa2UgPSAoXG4gIGxpa2U6IFRocmVhZE1lc3NhZ2VMaWtlLFxuICBmYWxsYmFja0lkOiBzdHJpbmcsXG4gIGZhbGxiYWNrU3RhdHVzOiBNZXNzYWdlU3RhdHVzLFxuKTogVGhyZWFkTWVzc2FnZSA9PiB7XG4gIGNvbnN0IHsgcm9sZSwgaWQsIGNyZWF0ZWRBdCwgYXR0YWNobWVudHMsIHN0YXR1cyB9ID0gbGlrZTtcbiAgY29uc3QgY29tbW9uID0ge1xuICAgIGlkOiBpZCA/PyBmYWxsYmFja0lkLFxuICAgIGNyZWF0ZWRBdDogY3JlYXRlZEF0ID8/IG5ldyBEYXRlKCksXG4gIH07XG5cbiAgY29uc3QgY29udGVudCA9XG4gICAgdHlwZW9mIGxpa2UuY29udGVudCA9PT0gXCJzdHJpbmdcIlxuICAgICAgPyBbeyB0eXBlOiBcInRleHRcIiBhcyBjb25zdCwgdGV4dDogbGlrZS5jb250ZW50IH1dXG4gICAgICA6IGxpa2UuY29udGVudDtcblxuICBpZiAocm9sZSAhPT0gXCJ1c2VyXCIgJiYgYXR0YWNobWVudHMpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0YWNobWVudHMgYXJlIG9ubHkgc3VwcG9ydGVkIGZvciB1c2VyIG1lc3NhZ2VzXCIpO1xuICAvLyBUT0RPIGFkZCBpbiAwLjZcbiAgLy8gaWYgKHJvbGUgIT09IFwiYXNzaXN0YW50XCIgJiYgc3RhdHVzKVxuICAvLyAgIHRocm93IG5ldyBFcnJvcihcIlN0YXR1cyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgYXNzaXN0YW50IG1lc3NhZ2VzXCIpO1xuXG4gIHN3aXRjaCAocm9sZSkge1xuICAgIGNhc2UgXCJhc3Npc3RhbnRcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNvbW1vbixcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY29udGVudDogY29udGVudFxuICAgICAgICAgIC5tYXAoKHBhcnQpOiBUaHJlYWRBc3Npc3RhbnRDb250ZW50UGFydCB8IG51bGwgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHBhcnQudHlwZTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnRleHQudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XG5cbiAgICAgICAgICAgICAgY2FzZSBcInVpXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XG5cbiAgICAgICAgICAgICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKFwiYXJnc1RleHRcIiBpbiBwYXJ0KSByZXR1cm4gcGFydDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4ucGFydCxcbiAgICAgICAgICAgICAgICAgIGFyZ3NUZXh0OiBKU09OLnN0cmluZ2lmeShwYXJ0LmFyZ3MpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogXCJpbWFnZVwiID0gdHlwZTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY29udGVudCBwYXJ0IHR5cGU6ICR7dW5oYW5kbGVkVHlwZX1gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbHRlcigoYykgPT4gISFjKSxcbiAgICAgICAgc3RhdHVzOiBzdGF0dXMgPz8gZmFsbGJhY2tTdGF0dXMsXG4gICAgICB9IHNhdGlzZmllcyBUaHJlYWRBc3Npc3RhbnRNZXNzYWdlO1xuXG4gICAgY2FzZSBcInVzZXJcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNvbW1vbixcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY29udGVudDogY29udGVudC5tYXAoKHBhcnQpOiBUaHJlYWRVc2VyQ29udGVudFBhcnQgPT4ge1xuICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgICAgY2FzZSBcInVpXCI6XG4gICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogXCJ0b29sLWNhbGxcIiA9IHR5cGU7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjb250ZW50IHBhcnQgdHlwZTogJHt1bmhhbmRsZWRUeXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cyA/PyBbXSxcbiAgICAgIH0gc2F0aXNmaWVzIFRocmVhZFVzZXJNZXNzYWdlO1xuXG4gICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoICE9PSAxIHx8IGNvbnRlbnRbMF0hLnR5cGUgIT09IFwidGV4dFwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJTeXN0ZW0gbWVzc2FnZXMgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHRleHQgY29udGVudCBwYXJ0LlwiLFxuICAgICAgICApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb21tb24sXG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQgYXMgW1RleHRDb250ZW50UGFydF0sXG4gICAgICB9IHNhdGlzZmllcyBUaHJlYWRTeXN0ZW1NZXNzYWdlO1xuXG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgdW5zdXBwb3J0ZWRSb2xlOiBuZXZlciA9IHJvbGU7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSByb2xlOiAke3Vuc3VwcG9ydGVkUm9sZX1gKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgdHlwZSB7IFRleHRDb250ZW50UGFydCwgVGhyZWFkTWVzc2FnZSB9IGZyb20gXCIuLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0VGhyZWFkTWVzc2FnZVRleHQgPSAobWVzc2FnZTogVGhyZWFkTWVzc2FnZSkgPT4ge1xuICBjb25zdCB0ZXh0UGFydHMgPSBtZXNzYWdlLmNvbnRlbnQuZmlsdGVyKFxuICAgIChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwidGV4dFwiLFxuICApIGFzIFRleHRDb250ZW50UGFydFtdO1xuXG4gIHJldHVybiB0ZXh0UGFydHMubWFwKChwYXJ0KSA9PiBwYXJ0LnRleHQpLmpvaW4oXCJcXG5cXG5cIik7XG59O1xuIiwiaW1wb3J0IHsgUmVhY3RUaHJlYWRSdW50aW1lIH0gZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCB7IE1lc3NhZ2VSZXBvc2l0b3J5IH0gZnJvbSBcIi4uL3V0aWxzL01lc3NhZ2VSZXBvc2l0b3J5XCI7XG5pbXBvcnQgeyBBcHBlbmRNZXNzYWdlLCBUaHJlYWRNZXNzYWdlLCBVbnN1YnNjcmliZSB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgRXh0ZXJuYWxTdG9yZUFkYXB0ZXIgfSBmcm9tIFwiLi9FeHRlcm5hbFN0b3JlQWRhcHRlclwiO1xuaW1wb3J0IHsgQWRkVG9vbFJlc3VsdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgZ2V0RXh0ZXJuYWxTdG9yZU1lc3NhZ2UsXG4gIHN5bWJvbElubmVyTWVzc2FnZSxcbn0gZnJvbSBcIi4vZ2V0RXh0ZXJuYWxTdG9yZU1lc3NhZ2VcIjtcbmltcG9ydCB7IFRocmVhZE1lc3NhZ2VDb252ZXJ0ZXIgfSBmcm9tIFwiLi9UaHJlYWRNZXNzYWdlQ29udmVydGVyXCI7XG5pbXBvcnQgeyBnZXRBdXRvU3RhdHVzLCBpc0F1dG9TdGF0dXMgfSBmcm9tIFwiLi9hdXRvLXN0YXR1c1wiO1xuaW1wb3J0IHsgZnJvbVRocmVhZE1lc3NhZ2VMaWtlIH0gZnJvbSBcIi4vVGhyZWFkTWVzc2FnZUxpa2VcIjtcbmltcG9ydCB7IFJ1bnRpbWVDYXBhYmlsaXRpZXMgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9zdG9yZXMvVGhyZWFkXCI7XG5pbXBvcnQgeyBnZXRUaHJlYWRNZXNzYWdlVGV4dCB9IGZyb20gXCIuLi8uLi91dGlscy9nZXRUaHJlYWRNZXNzYWdlVGV4dFwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbFwiO1xuaW1wb3J0IHsgVGhyZWFkUnVudGltZUNvbXBvc2VyIH0gZnJvbSBcIi4uL3V0aWxzL1RocmVhZFJ1bnRpbWVDb21wb3NlclwiO1xuXG5leHBvcnQgY29uc3QgaGFzVXBjb21pbmdNZXNzYWdlID0gKFxuICBpc1J1bm5pbmc6IGJvb2xlYW4sXG4gIG1lc3NhZ2VzOiBUaHJlYWRNZXNzYWdlW10sXG4pID0+IHtcbiAgcmV0dXJuIGlzUnVubmluZyAmJiBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXT8ucm9sZSAhPT0gXCJhc3Npc3RhbnRcIjtcbn07XG5cbmV4cG9ydCBjbGFzcyBFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZSBpbXBsZW1lbnRzIFJlYWN0VGhyZWFkUnVudGltZSB7XG4gIHByaXZhdGUgX3N1YnNjcmlwdGlvbnMgPSBuZXcgU2V0PCgpID0+IHZvaWQ+KCk7XG4gIHByaXZhdGUgcmVwb3NpdG9yeSA9IG5ldyBNZXNzYWdlUmVwb3NpdG9yeSgpO1xuICBwcml2YXRlIGFzc2lzdGFudE9wdGltaXN0aWNJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgcHJpdmF0ZSBfY2FwYWJpbGl0aWVzOiBSdW50aW1lQ2FwYWJpbGl0aWVzID0ge1xuICAgIHN3aXRjaFRvQnJhbmNoOiBmYWxzZSxcbiAgICBlZGl0OiBmYWxzZSxcbiAgICByZWxvYWQ6IGZhbHNlLFxuICAgIGNhbmNlbDogZmFsc2UsXG4gICAgdW5zdGFibGVfY29weTogZmFsc2UsXG4gICAgc3BlYWs6IGZhbHNlLFxuICAgIGF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgfTtcblxuICBwdWJsaWMgZ2V0IGNhcGFiaWxpdGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwYWJpbGl0aWVzO1xuICB9XG5cbiAgcHVibGljIHRocmVhZElkITogc3RyaW5nO1xuICBwdWJsaWMgbWVzc2FnZXMhOiBUaHJlYWRNZXNzYWdlW107XG4gIHB1YmxpYyBpc0Rpc2FibGVkITogYm9vbGVhbjtcbiAgcHVibGljIGNvbnZlcnRlciA9IG5ldyBUaHJlYWRNZXNzYWdlQ29udmVydGVyKCk7XG5cbiAgcHJpdmF0ZSBfc3RvcmUhOiBFeHRlcm5hbFN0b3JlQWRhcHRlcjxhbnk+O1xuXG4gIHB1YmxpYyByZWFkb25seSBjb21wb3NlciA9IG5ldyBUaHJlYWRSdW50aW1lQ29tcG9zZXIoXG4gICAgdGhpcyxcbiAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzLmJpbmQodGhpcyksXG4gICk7XG5cbiAgY29uc3RydWN0b3Ioc3RvcmU6IEV4dGVybmFsU3RvcmVBZGFwdGVyPGFueT4pIHtcbiAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHN0b3JlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgc3RvcmUoc3RvcmU6IEV4dGVybmFsU3RvcmVBZGFwdGVyPGFueT4pIHtcbiAgICBpZiAodGhpcy5fc3RvcmUgPT09IHN0b3JlKSByZXR1cm47XG5cbiAgICB0aGlzLnRocmVhZElkID0gc3RvcmUudGhyZWFkSWQgPz8gdGhpcy50aHJlYWRJZCA/PyBnZW5lcmF0ZUlkKCk7XG4gICAgY29uc3QgaXNSdW5uaW5nID0gc3RvcmUuaXNSdW5uaW5nID8/IGZhbHNlO1xuICAgIHRoaXMuaXNEaXNhYmxlZCA9IHN0b3JlLmlzRGlzYWJsZWQgPz8gZmFsc2U7XG5cbiAgICBjb25zdCBvbGRTdG9yZSA9IHRoaXMuX3N0b3JlIGFzIEV4dGVybmFsU3RvcmVBZGFwdGVyPGFueT4gfCB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLl9jYXBhYmlsaXRpZXMgPSB7XG4gICAgICBzd2l0Y2hUb0JyYW5jaDogdGhpcy5fc3RvcmUuc2V0TWVzc2FnZXMgIT09IHVuZGVmaW5lZCxcbiAgICAgIGVkaXQ6IHRoaXMuX3N0b3JlLm9uRWRpdCAhPT0gdW5kZWZpbmVkLFxuICAgICAgcmVsb2FkOiB0aGlzLl9zdG9yZS5vblJlbG9hZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgY2FuY2VsOiB0aGlzLl9zdG9yZS5vbkNhbmNlbCAhPT0gdW5kZWZpbmVkLFxuICAgICAgc3BlYWs6IHRoaXMuX3N0b3JlLm9uU3BlYWsgIT09IHVuZGVmaW5lZCxcbiAgICAgIHVuc3RhYmxlX2NvcHk6IHRoaXMuX3N0b3JlLnVuc3RhYmxlX2NhcGFiaWxpdGllcz8uY29weSAhPT0gZmFsc2UsIC8vIGRlZmF1bHQgdHJ1ZVxuICAgICAgYXR0YWNobWVudHM6ICEhdGhpcy5zdG9yZS5hZGFwdGVycz8uYXR0YWNobWVudHMsXG4gICAgfTtcblxuICAgIHRoaXMuY29tcG9zZXIuc2V0QXR0YWNobWVudEFkYXB0ZXIodGhpcy5fc3RvcmUuYWRhcHRlcnM/LmF0dGFjaG1lbnRzKTtcblxuICAgIGlmIChvbGRTdG9yZSkge1xuICAgICAgLy8gZmx1c2ggdGhlIGNvbnZlcnRlciBjYWNoZSB3aGVuIHRoZSBjb252ZXJ0TWVzc2FnZSBwcm9wIGNoYW5nZXNcbiAgICAgIGlmIChvbGRTdG9yZS5jb252ZXJ0TWVzc2FnZSAhPT0gc3RvcmUuY29udmVydE1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5jb252ZXJ0ZXIgPSBuZXcgVGhyZWFkTWVzc2FnZUNvbnZlcnRlcigpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgb2xkU3RvcmUuaXNSdW5uaW5nID09PSBzdG9yZS5pc1J1bm5pbmcgJiZcbiAgICAgICAgb2xkU3RvcmUubWVzc2FnZXMgPT09IHN0b3JlLm1lc3NhZ2VzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xuICAgICAgICAvLyBubyBjb252ZXJzaW9uIHVwZGF0ZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZXMgPSAhc3RvcmUuY29udmVydE1lc3NhZ2VcbiAgICAgID8gc3RvcmUubWVzc2FnZXNcbiAgICAgIDogdGhpcy5jb252ZXJ0ZXIuY29udmVydE1lc3NhZ2VzKHN0b3JlLm1lc3NhZ2VzLCAoY2FjaGUsIG0sIGlkeCkgPT4ge1xuICAgICAgICAgIGlmICghc3RvcmUuY29udmVydE1lc3NhZ2UpIHJldHVybiBtO1xuXG4gICAgICAgICAgY29uc3QgaXNMYXN0ID0gaWR4ID09PSBzdG9yZS5tZXNzYWdlcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGNvbnN0IGF1dG9TdGF0dXMgPSBnZXRBdXRvU3RhdHVzKGlzTGFzdCwgaXNSdW5uaW5nKTtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhY2hlICYmXG4gICAgICAgICAgICAoY2FjaGUucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiB8fFxuICAgICAgICAgICAgICAhaXNBdXRvU3RhdHVzKGNhY2hlLnN0YXR1cykgfHxcbiAgICAgICAgICAgICAgY2FjaGUuc3RhdHVzID09PSBhdXRvU3RhdHVzKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBjYWNoZTtcblxuICAgICAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSBmcm9tVGhyZWFkTWVzc2FnZUxpa2UoXG4gICAgICAgICAgICBzdG9yZS5jb252ZXJ0TWVzc2FnZShtLCBpZHgpLFxuICAgICAgICAgICAgaWR4LnRvU3RyaW5nKCksXG4gICAgICAgICAgICBhdXRvU3RhdHVzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgKG5ld01lc3NhZ2UgYXMgYW55KVtzeW1ib2xJbm5lck1lc3NhZ2VdID0gbTtcbiAgICAgICAgICByZXR1cm4gbmV3TWVzc2FnZTtcbiAgICAgICAgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZXNbaV0hO1xuICAgICAgY29uc3QgcGFyZW50ID0gbWVzc2FnZXNbaSAtIDFdO1xuICAgICAgdGhpcy5yZXBvc2l0b3J5LmFkZE9yVXBkYXRlTWVzc2FnZShwYXJlbnQ/LmlkID8/IG51bGwsIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFzc2lzdGFudE9wdGltaXN0aWNJZCkge1xuICAgICAgdGhpcy5yZXBvc2l0b3J5LmRlbGV0ZU1lc3NhZ2UodGhpcy5hc3Npc3RhbnRPcHRpbWlzdGljSWQpO1xuICAgICAgdGhpcy5hc3Npc3RhbnRPcHRpbWlzdGljSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChoYXNVcGNvbWluZ01lc3NhZ2UoaXNSdW5uaW5nLCBtZXNzYWdlcykpIHtcbiAgICAgIHRoaXMuYXNzaXN0YW50T3B0aW1pc3RpY0lkID0gdGhpcy5yZXBvc2l0b3J5LmFwcGVuZE9wdGltaXN0aWNNZXNzYWdlKFxuICAgICAgICBtZXNzYWdlcy5hdCgtMSk/LmlkID8/IG51bGwsXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IFtdLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlcG9zaXRvcnkucmVzZXRIZWFkKFxuICAgICAgdGhpcy5hc3Npc3RhbnRPcHRpbWlzdGljSWQgPz8gbWVzc2FnZXMuYXQoLTEpPy5pZCA/PyBudWxsLFxuICAgICk7XG5cbiAgICB0aGlzLm1lc3NhZ2VzID0gdGhpcy5yZXBvc2l0b3J5LmdldE1lc3NhZ2VzKCk7XG4gICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBub3RpZnlTdWJzY3JpYmVycygpIHtcbiAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIHRoaXMuX3N1YnNjcmlwdGlvbnMpIGNhbGxiYWNrKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QnJhbmNoZXMobWVzc2FnZUlkOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMucmVwb3NpdG9yeS5nZXRCcmFuY2hlcyhtZXNzYWdlSWQpO1xuICB9XG5cbiAgcHVibGljIHN3aXRjaFRvQnJhbmNoKGJyYW5jaElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3N0b3JlLnNldE1lc3NhZ2VzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUnVudGltZSBkb2VzIG5vdCBzdXBwb3J0IHN3aXRjaGluZyBicmFuY2hlcy5cIik7XG5cbiAgICB0aGlzLnJlcG9zaXRvcnkuc3dpdGNoVG9CcmFuY2goYnJhbmNoSWQpO1xuICAgIHRoaXMudXBkYXRlTWVzc2FnZXModGhpcy5yZXBvc2l0b3J5LmdldE1lc3NhZ2VzKCkpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGFwcGVuZChtZXNzYWdlOiBBcHBlbmRNZXNzYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKG1lc3NhZ2UucGFyZW50SWQgIT09ICh0aGlzLm1lc3NhZ2VzLmF0KC0xKT8uaWQgPz8gbnVsbCkpIHtcbiAgICAgIGlmICghdGhpcy5fc3RvcmUub25FZGl0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdW50aW1lIGRvZXMgbm90IHN1cHBvcnQgZWRpdGluZyBtZXNzYWdlcy5cIik7XG4gICAgICBhd2FpdCB0aGlzLl9zdG9yZS5vbkVkaXQobWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHRoaXMuX3N0b3JlLm9uTmV3KG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzdGFydFJ1bihwYXJlbnRJZDogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5fc3RvcmUub25SZWxvYWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdW50aW1lIGRvZXMgbm90IHN1cHBvcnQgcmVsb2FkaW5nIG1lc3NhZ2VzLlwiKTtcblxuICAgIGF3YWl0IHRoaXMuX3N0b3JlLm9uUmVsb2FkKHBhcmVudElkKTtcbiAgfVxuXG4gIHB1YmxpYyBjYW5jZWxSdW4oKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9zdG9yZS5vbkNhbmNlbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJ1bnRpbWUgZG9lcyBub3Qgc3VwcG9ydCBjYW5jZWxsaW5nIHJ1bnMuXCIpO1xuXG4gICAgdGhpcy5fc3RvcmUub25DYW5jZWwoKTtcblxuICAgIGlmICh0aGlzLmFzc2lzdGFudE9wdGltaXN0aWNJZCkge1xuICAgICAgdGhpcy5yZXBvc2l0b3J5LmRlbGV0ZU1lc3NhZ2UodGhpcy5hc3Npc3RhbnRPcHRpbWlzdGljSWQpO1xuICAgICAgdGhpcy5hc3Npc3RhbnRPcHRpbWlzdGljSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGxldCBtZXNzYWdlcyA9IHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlcygpO1xuICAgIGNvbnN0IHByZXZpb3VzTWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChcbiAgICAgIHByZXZpb3VzTWVzc2FnZT8ucm9sZSA9PT0gXCJ1c2VyXCIgJiZcbiAgICAgIHByZXZpb3VzTWVzc2FnZS5pZCA9PT0gbWVzc2FnZXMuYXQoLTEpPy5pZCAvLyBlbnN1cmUgdGhlIHByZXZpb3VzIG1lc3NhZ2UgaXMgYSBsZWFmIG5vZGVcbiAgICApIHtcbiAgICAgIHRoaXMucmVwb3NpdG9yeS5kZWxldGVNZXNzYWdlKHByZXZpb3VzTWVzc2FnZS5pZCk7XG4gICAgICBpZiAoIXRoaXMuY29tcG9zZXIudGV4dC50cmltKCkpIHtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5zZXRUZXh0KGdldFRocmVhZE1lc3NhZ2VUZXh0KHByZXZpb3VzTWVzc2FnZSkpO1xuICAgICAgfVxuXG4gICAgICBtZXNzYWdlcyA9IHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgfVxuXG4gICAgLy8gcmVzeW5jIG1lc3NhZ2VzIChmb3IgcmVsb2FkaW5nLCB0byByZXN0b3JlIHRoZSBwcmV2aW91cyBicmFuY2gpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUb29sUmVzdWx0KG9wdGlvbnM6IEFkZFRvb2xSZXN1bHRPcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLl9zdG9yZS5vbkFkZFRvb2xSZXN1bHQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdW50aW1lIGRvZXMgbm90IHN1cHBvcnQgdG9vbCByZXN1bHRzLlwiKTtcbiAgICB0aGlzLl9zdG9yZS5vbkFkZFRvb2xSZXN1bHQob3B0aW9ucyk7XG4gIH1cblxuICBwdWJsaWMgc3BlYWsobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMuX3N0b3JlLm9uU3BlYWspXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdW50aW1lIGRvZXMgbm90IHN1cHBvcnQgc3BlYWtpbmcuXCIpO1xuXG4gICAgY29uc3QgeyBtZXNzYWdlIH0gPSB0aGlzLnJlcG9zaXRvcnkuZ2V0TWVzc2FnZShtZXNzYWdlSWQpO1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5vblNwZWFrKG1lc3NhZ2UpO1xuICB9XG5cbiAgcHVibGljIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IFVuc3Vic2NyaWJlIHtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmFkZChjYWxsYmFjayk7XG4gICAgcmV0dXJuICgpID0+IHRoaXMuX3N1YnNjcmlwdGlvbnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTWVzc2FnZXMgPSAobWVzc2FnZXM6IFRocmVhZE1lc3NhZ2VbXSkgPT4ge1xuICAgIHRoaXMuX3N0b3JlLnNldE1lc3NhZ2VzPy4oXG4gICAgICBtZXNzYWdlcy5mbGF0TWFwKGdldEV4dGVybmFsU3RvcmVNZXNzYWdlKS5maWx0ZXIoKG0pID0+IG0gIT0gbnVsbCksXG4gICAgKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IEJhc2VBc3Npc3RhbnRSdW50aW1lLCBQcm94eUNvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsXCI7XG5pbXBvcnQgeyBNb2RlbENvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBFeHRlcm5hbFN0b3JlQWRhcHRlciB9IGZyb20gXCIuL0V4dGVybmFsU3RvcmVBZGFwdGVyXCI7XG5pbXBvcnQgeyBFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZSB9IGZyb20gXCIuL0V4dGVybmFsU3RvcmVUaHJlYWRSdW50aW1lXCI7XG5cbmV4cG9ydCBjbGFzcyBFeHRlcm5hbFN0b3JlUnVudGltZSBleHRlbmRzIEJhc2VBc3Npc3RhbnRSdW50aW1lPEV4dGVybmFsU3RvcmVUaHJlYWRSdW50aW1lPiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3Byb3h5Q29uZmlnUHJvdmlkZXIgPSBuZXcgUHJveHlDb25maWdQcm92aWRlcigpO1xuXG4gIGNvbnN0cnVjdG9yKHN0b3JlOiBFeHRlcm5hbFN0b3JlQWRhcHRlcjxhbnk+KSB7XG4gICAgc3VwZXIobmV3IEV4dGVybmFsU3RvcmVUaHJlYWRSdW50aW1lKHN0b3JlKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHN0b3JlKCkge1xuICAgIHJldHVybiB0aGlzLnRocmVhZC5zdG9yZTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgc3RvcmUoc3RvcmU6IEV4dGVybmFsU3RvcmVBZGFwdGVyPGFueT4pIHtcbiAgICB0aGlzLnRocmVhZC5zdG9yZSA9IHN0b3JlO1xuICB9XG5cbiAgcHVibGljIGdldE1vZGVsQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm94eUNvbmZpZ1Byb3ZpZGVyLmdldE1vZGVsQ29uZmlnKCk7XG4gIH1cblxuICBwdWJsaWMgcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHByb3ZpZGVyOiBNb2RlbENvbmZpZ1Byb3ZpZGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3h5Q29uZmlnUHJvdmlkZXIucmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHByb3ZpZGVyKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzd2l0Y2hUb1RocmVhZCh0aHJlYWRJZDogc3RyaW5nIHwgbnVsbCkge1xuICAgIGlmICh0aHJlYWRJZCkge1xuICAgICAgaWYgKCF0aGlzLnN0b3JlLm9uU3dpdGNoVGhyZWFkKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdW50aW1lIGRvZXMgbm90IHN1cHBvcnQgc3dpdGNoaW5nIHRocmVhZHMuXCIpO1xuXG4gICAgICB0aGlzLnRocmVhZCA9IG5ldyBFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZSh7XG4gICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgb25OZXc6IHRoaXMuc3RvcmUub25OZXcsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3RvcmUub25Td2l0Y2hUaHJlYWQodGhyZWFkSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuc3RvcmUub25OZXdUaHJlYWQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJ1bnRpbWUgZG9lcyBub3Qgc3VwcG9ydCBzd2l0Y2hpbmcgdG8gbmV3IHRocmVhZHMuXCIpO1xuXG4gICAgICB0aGlzLnRocmVhZCA9IG5ldyBFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZSh7XG4gICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgb25OZXc6IHRoaXMuc3RvcmUub25OZXcsXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHRoaXMuc3RvcmUub25OZXdUaHJlYWQoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEV4dGVybmFsU3RvcmVSdW50aW1lIH0gZnJvbSBcIi4vRXh0ZXJuYWxTdG9yZVJ1bnRpbWVcIjtcbmltcG9ydCB7IEV4dGVybmFsU3RvcmVBZGFwdGVyIH0gZnJvbSBcIi4vRXh0ZXJuYWxTdG9yZUFkYXB0ZXJcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUV4dGVybmFsU3RvcmVSdW50aW1lID0gPFQsPihzdG9yZTogRXh0ZXJuYWxTdG9yZUFkYXB0ZXI8VD4pID0+IHtcbiAgY29uc3QgW3J1bnRpbWVdID0gdXNlU3RhdGUoKCkgPT4gbmV3IEV4dGVybmFsU3RvcmVSdW50aW1lKHN0b3JlKSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBydW50aW1lLnN0b3JlID0gc3RvcmU7XG4gIH0pO1xuXG4gIHJldHVybiBydW50aW1lO1xufTtcbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRocmVhZE1lc3NhZ2VDb252ZXJ0ZXIgfSBmcm9tIFwiLi9UaHJlYWRNZXNzYWdlQ29udmVydGVyXCI7XG5pbXBvcnQge1xuICBnZXRFeHRlcm5hbFN0b3JlTWVzc2FnZSxcbiAgc3ltYm9sSW5uZXJNZXNzYWdlLFxufSBmcm9tIFwiLi9nZXRFeHRlcm5hbFN0b3JlTWVzc2FnZVwiO1xuaW1wb3J0IHsgZnJvbVRocmVhZE1lc3NhZ2VMaWtlLCBUaHJlYWRNZXNzYWdlTGlrZSB9IGZyb20gXCIuL1RocmVhZE1lc3NhZ2VMaWtlXCI7XG5pbXBvcnQgeyBnZXRBdXRvU3RhdHVzLCBpc0F1dG9TdGF0dXMgfSBmcm9tIFwiLi9hdXRvLXN0YXR1c1wiO1xuaW1wb3J0IHsgVG9vbENhbGxDb250ZW50UGFydCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgbmFtZXNwYWNlIHVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlciB7XG4gIGV4cG9ydCB0eXBlIE1lc3NhZ2UgPVxuICAgIHwgVGhyZWFkTWVzc2FnZUxpa2VcbiAgICB8IHtcbiAgICAgICAgcm9sZTogXCJ0b29sXCI7XG4gICAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgICAgdG9vbE5hbWU/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgIHJlc3VsdDogYW55O1xuICAgICAgfTtcblxuICBleHBvcnQgdHlwZSBDYWxsYmFjazxUPiA9IChtZXNzYWdlOiBUKSA9PiBNZXNzYWdlIHwgTWVzc2FnZVtdO1xufVxuXG50eXBlIENhbGxiYWNrUmVzdWx0PFQ+ID0ge1xuICBpbnB1dDogVDtcbiAgb3V0cHV0czogdXNlRXh0ZXJuYWxNZXNzYWdlQ29udmVydGVyLk1lc3NhZ2VbXTtcbn07XG5cbnR5cGUgQ2h1bmtSZXN1bHQ8VD4gPSB7XG4gIGlucHV0czogVFtdO1xuICBvdXRwdXRzOiB1c2VFeHRlcm5hbE1lc3NhZ2VDb252ZXJ0ZXIuTWVzc2FnZVtdO1xufTtcblxuY29uc3Qgam9pbkV4dGVybmFsTWVzc2FnZXMgPSAoXG4gIG1lc3NhZ2VzOiB1c2VFeHRlcm5hbE1lc3NhZ2VDb252ZXJ0ZXIuTWVzc2FnZVtdLFxuKTogVGhyZWFkTWVzc2FnZUxpa2UgPT4ge1xuICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlOiBUaHJlYWRNZXNzYWdlTGlrZSAmIHsgY29udGVudDogYW55W10gfSA9IHtcbiAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgIGNvbnRlbnQ6IFtdLFxuICB9O1xuICBmb3IgKGNvbnN0IG91dHB1dCBvZiBtZXNzYWdlcykge1xuICAgIGlmIChvdXRwdXQucm9sZSA9PT0gXCJ0b29sXCIpIHtcbiAgICAgIGNvbnN0IHRvb2xDYWxsSWR4ID0gYXNzaXN0YW50TWVzc2FnZS5jb250ZW50LmZpbmRJbmRleChcbiAgICAgICAgKGMpID0+IGMudHlwZSA9PT0gXCJ0b29sLWNhbGxcIiAmJiBjLnRvb2xDYWxsSWQgPT09IG91dHB1dC50b29sQ2FsbElkLFxuICAgICAgKTtcbiAgICAgIGlmICh0b29sQ2FsbElkeCAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgdG9vbENhbGwgPSBhc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnRbXG4gICAgICAgICAgdG9vbENhbGxJZHhcbiAgICAgICAgXSEgYXMgVG9vbENhbGxDb250ZW50UGFydDtcbiAgICAgICAgaWYgKG91dHB1dC50b29sTmFtZSkge1xuICAgICAgICAgIGlmICh0b29sQ2FsbC50b29sTmFtZSAhPT0gb3V0cHV0LnRvb2xOYW1lKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgVG9vbCBjYWxsIG5hbWUgJHtvdXRwdXQudG9vbENhbGxJZH0gJHtvdXRwdXQudG9vbE5hbWV9IGRvZXMgbm90IG1hdGNoIGV4aXN0aW5nIHRvb2wgY2FsbCAke3Rvb2xDYWxsLnRvb2xOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lzdGFudE1lc3NhZ2UuY29udGVudFt0b29sQ2FsbElkeF0gPSB7XG4gICAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgICAgcmVzdWx0OiBvdXRwdXQucmVzdWx0LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBUb29sIGNhbGwgJHtvdXRwdXQudG9vbENhbGxJZH0gJHtvdXRwdXQudG9vbE5hbWV9IG5vdCBmb3VuZCBpbiBhc3Npc3RhbnQgbWVzc2FnZWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBvdXRwdXQuY29udGVudDtcbiAgICAgIGNvbnN0IHJvbGUgPSBvdXRwdXQucm9sZTtcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlIFwic3lzdGVtXCI6XG4gICAgICAgIGNhc2UgXCJ1c2VyXCI6XG4gICAgICAgICAgcmV0dXJuIHsgcm9sZSwgY29udGVudCB9O1xuICAgICAgICBjYXNlIFwiYXNzaXN0YW50XCI6XG4gICAgICAgICAgaWYgKGFzc2lzdGFudE1lc3NhZ2UuY29udGVudC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFzc2lzdGFudE1lc3NhZ2UuaWQgPSBvdXRwdXQuaWQ7XG4gICAgICAgICAgICBhc3Npc3RhbnRNZXNzYWdlLmNyZWF0ZWRBdCA/Pz0gb3V0cHV0LmNyZWF0ZWRBdDtcbiAgICAgICAgICAgIGFzc2lzdGFudE1lc3NhZ2Uuc3RhdHVzID8/PSBvdXRwdXQuc3RhdHVzO1xuICAgICAgICAgICAgLy8gVE9ETyBrZWVwIHRoaXMgaW4gc3luY1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnQucHVzaCguLi5jb250ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IHVuc3VwcG9ydGVkUm9sZTogbmV2ZXIgPSByb2xlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHJvbGU6ICR7dW5zdXBwb3J0ZWRSb2xlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhc3Npc3RhbnRNZXNzYWdlO1xufTtcblxuY29uc3QgY2h1bmtFeHRlcm5hbE1lc3NhZ2VzID0gPFQsPihjYWxsYmFja1Jlc3VsdHM6IENhbGxiYWNrUmVzdWx0PFQ+W10pID0+IHtcbiAgY29uc3QgcmVzdWx0czogQ2h1bmtSZXN1bHQ8VD5bXSA9IFtdO1xuICBsZXQgaXNBc3Npc3RhbnQgPSBmYWxzZTtcbiAgbGV0IGlucHV0czogVFtdID0gW107XG4gIGxldCBvdXRwdXRzOiB1c2VFeHRlcm5hbE1lc3NhZ2VDb252ZXJ0ZXIuTWVzc2FnZVtdID0gW107XG5cbiAgY29uc3QgZmx1c2ggPSAoKSA9PiB7XG4gICAgaWYgKG91dHB1dHMubGVuZ3RoKSB7XG4gICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICBpbnB1dHMsXG4gICAgICAgIG91dHB1dHMsXG4gICAgICB9KTtcbiAgICB9XG4gICAgaW5wdXRzID0gW107XG4gICAgb3V0cHV0cyA9IFtdO1xuICB9O1xuXG4gIGZvciAoY29uc3QgY2FsbGJhY2tSZXN1bHQgb2YgY2FsbGJhY2tSZXN1bHRzKSB7XG4gICAgZm9yIChjb25zdCBvdXRwdXQgb2YgY2FsbGJhY2tSZXN1bHQub3V0cHV0cykge1xuICAgICAgaWYgKCFpc0Fzc2lzdGFudCB8fCBvdXRwdXQucm9sZSA9PT0gXCJ1c2VyXCIgfHwgb3V0cHV0LnJvbGUgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgZmx1c2goKTtcbiAgICAgIH1cbiAgICAgIGlzQXNzaXN0YW50ID0gb3V0cHV0LnJvbGUgPT09IFwiYXNzaXN0YW50XCIgfHwgb3V0cHV0LnJvbGUgPT09IFwidG9vbFwiO1xuXG4gICAgICBpZiAoaW5wdXRzLmF0KC0xKSAhPT0gY2FsbGJhY2tSZXN1bHQuaW5wdXQpIHtcbiAgICAgICAgaW5wdXRzLnB1c2goY2FsbGJhY2tSZXN1bHQuaW5wdXQpO1xuICAgICAgfVxuICAgICAgb3V0cHV0cy5wdXNoKG91dHB1dCk7XG4gICAgfVxuICB9XG4gIGZsdXNoKCk7XG4gIHJldHVybiByZXN1bHRzO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlciA9IDxUIGV4dGVuZHMgV2Vha0tleT4oe1xuICBjYWxsYmFjayxcbiAgbWVzc2FnZXMsXG4gIGlzUnVubmluZyxcbn06IHtcbiAgY2FsbGJhY2s6IHVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlci5DYWxsYmFjazxUPjtcbiAgbWVzc2FnZXM6IFRbXTtcbiAgaXNSdW5uaW5nOiBib29sZWFuO1xufSkgPT4ge1xuICBjb25zdCBzdGF0ZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tDYWNoZTogbmV3IFdlYWtNYXA8VCwgQ2FsbGJhY2tSZXN1bHQ8VD4+KCksXG4gICAgICBjaHVua0NhY2hlOiBuZXcgV2Vha01hcDxcbiAgICAgICAgdXNlRXh0ZXJuYWxNZXNzYWdlQ29udmVydGVyLk1lc3NhZ2UsXG4gICAgICAgIENodW5rUmVzdWx0PFQ+XG4gICAgICA+KCksXG4gICAgICBjb252ZXJ0ZXJDYWNoZTogbmV3IFRocmVhZE1lc3NhZ2VDb252ZXJ0ZXIoKSxcbiAgICB9KSxcbiAgICBbY2FsbGJhY2tdLFxuICApO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjYWxsYmFja1Jlc3VsdHM6IENhbGxiYWNrUmVzdWx0PFQ+W10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgIGxldCByZXN1bHQgPSBzdGF0ZS5jYWxsYmFja0NhY2hlLmdldChtZXNzYWdlKTtcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHN0YXRlLmNhbGxiYWNrKG1lc3NhZ2UpO1xuICAgICAgICBjb25zdCBvdXRwdXRzID0gQXJyYXkuaXNBcnJheShvdXRwdXQpID8gb3V0cHV0IDogW291dHB1dF07XG4gICAgICAgIHJlc3VsdCA9IHsgaW5wdXQ6IG1lc3NhZ2UsIG91dHB1dHMgfTtcbiAgICAgICAgc3RhdGUuY2FsbGJhY2tDYWNoZS5zZXQobWVzc2FnZSwgcmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrUmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgfVxuXG4gICAgY29uc3QgY2h1bmtzID0gY2h1bmtFeHRlcm5hbE1lc3NhZ2VzKGNhbGxiYWNrUmVzdWx0cykubWFwKChtKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBtLm91dHB1dHNbMF07XG4gICAgICBpZiAoIWtleSkgcmV0dXJuIG07XG5cbiAgICAgIGNvbnN0IGNhY2hlZCA9IHN0YXRlLmNodW5rQ2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAoY2FjaGVkICYmIHNoYWxsb3dBcnJheUVxdWFsKGNhY2hlZC5vdXRwdXRzLCBtLm91dHB1dHMpKSByZXR1cm4gY2FjaGVkO1xuICAgICAgc3RhdGUuY2h1bmtDYWNoZS5zZXQoa2V5LCBtKTtcbiAgICAgIHJldHVybiBtO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN0YXRlLmNvbnZlcnRlckNhY2hlLmNvbnZlcnRNZXNzYWdlcyhcbiAgICAgIGNodW5rcyxcbiAgICAgIChjYWNoZSwgbWVzc2FnZSwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlzTGFzdCA9IGlkeCA9PT0gY2h1bmtzLmxlbmd0aCAtIDE7XG4gICAgICAgIGNvbnN0IGF1dG9TdGF0dXMgPSBnZXRBdXRvU3RhdHVzKGlzTGFzdCwgaXNSdW5uaW5nKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FjaGUgJiZcbiAgICAgICAgICAoY2FjaGUucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiB8fFxuICAgICAgICAgICAgIWlzQXV0b1N0YXR1cyhjYWNoZS5zdGF0dXMpIHx8XG4gICAgICAgICAgICBjYWNoZS5zdGF0dXMgPT09IGF1dG9TdGF0dXMpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGlucHV0cyA9IGdldEV4dGVybmFsU3RvcmVNZXNzYWdlKGNhY2hlKSBhcyBUW107XG4gICAgICAgICAgaWYgKHNoYWxsb3dBcnJheUVxdWFsKGlucHV0cywgbWVzc2FnZS5pbnB1dHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IGZyb21UaHJlYWRNZXNzYWdlTGlrZShcbiAgICAgICAgICBqb2luRXh0ZXJuYWxNZXNzYWdlcyhtZXNzYWdlLm91dHB1dHMpLFxuICAgICAgICAgIGlkeC50b1N0cmluZygpLFxuICAgICAgICAgIGF1dG9TdGF0dXMsXG4gICAgICAgICk7XG4gICAgICAgIChuZXdNZXNzYWdlIGFzIGFueSlbc3ltYm9sSW5uZXJNZXNzYWdlXSA9IG1lc3NhZ2UuaW5wdXRzO1xuICAgICAgICByZXR1cm4gbmV3TWVzc2FnZTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfSwgW3N0YXRlLCBtZXNzYWdlcywgaXNSdW5uaW5nXSk7XG59O1xuXG5jb25zdCBzaGFsbG93QXJyYXlFcXVhbCA9IChhOiB1bmtub3duW10sIGI6IHVua25vd25bXSkgPT4ge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuIiwiaW1wb3J0IHsgTG9jYWxSdW50aW1lT3B0aW9ucywgdXNlTG9jYWxSdW50aW1lIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgRGFuZ2Vyb3VzSW5Ccm93c2VyQWRhcHRlcixcbiAgRGFuZ2Vyb3VzSW5Ccm93c2VyQWRhcHRlck9wdGlvbnMsXG59IGZyb20gXCIuL0Rhbmdlcm91c0luQnJvd3NlckFkYXB0ZXJcIjtcblxuZXhwb3J0IHR5cGUgRGFuZ2Vyb3VzSW5Ccm93c2VyUnVudGltZU9wdGlvbnMgPVxuICBEYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyT3B0aW9ucyAmIExvY2FsUnVudGltZU9wdGlvbnM7XG5cbmV4cG9ydCBjb25zdCB1c2VEYW5nZXJvdXNJbkJyb3dzZXJSdW50aW1lID0gKHtcbiAgaW5pdGlhbE1lc3NhZ2VzLFxuICAuLi5vcHRpb25zXG59OiBEYW5nZXJvdXNJbkJyb3dzZXJSdW50aW1lT3B0aW9ucykgPT4ge1xuICBjb25zdCBbYWRhcHRlcl0gPSB1c2VTdGF0ZSgoKSA9PiBuZXcgRGFuZ2Vyb3VzSW5Ccm93c2VyQWRhcHRlcihvcHRpb25zKSk7XG4gIHJldHVybiB1c2VMb2NhbFJ1bnRpbWUoYWRhcHRlciwgeyBpbml0aWFsTWVzc2FnZXMgfSk7XG59O1xuIiwiaW1wb3J0IHsgQ2hhdE1vZGVsQWRhcHRlciwgQ2hhdE1vZGVsUnVuT3B0aW9ucyB9IGZyb20gXCIuLi9sb2NhbFwiO1xuaW1wb3J0IHsgdG9Db3JlTWVzc2FnZXMgfSBmcm9tIFwiLi4vZWRnZS9jb252ZXJ0ZXJzL3RvQ29yZU1lc3NhZ2VzXCI7XG5pbXBvcnQgeyB0b0xhbmd1YWdlTW9kZWxUb29scyB9IGZyb20gXCIuLi9lZGdlL2NvbnZlcnRlcnMvdG9MYW5ndWFnZU1vZGVsVG9vbHNcIjtcbmltcG9ydCB7IEVkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vZWRnZS9FZGdlUnVudGltZVJlcXVlc3RPcHRpb25zXCI7XG5pbXBvcnQgeyBydW5SZXN1bHRTdHJlYW0gfSBmcm9tIFwiLi4vZWRnZS9zdHJlYW1zL3J1blJlc3VsdFN0cmVhbVwiO1xuaW1wb3J0IHsgdG9vbFJlc3VsdFN0cmVhbSB9IGZyb20gXCIuLi9lZGdlL3N0cmVhbXMvdG9vbFJlc3VsdFN0cmVhbVwiO1xuaW1wb3J0IHsgYXNBc3luY0l0ZXJhYmxlIH0gZnJvbSBcIi4uL2VkZ2UvRWRnZUNoYXRBZGFwdGVyXCI7XG5pbXBvcnQge1xuICBDcmVhdGVFZGdlUnVudGltZUFQSU9wdGlvbnMsXG4gIGdldEVkZ2VSdW50aW1lU3RyZWFtLFxufSBmcm9tIFwiLi4vZWRnZS9jcmVhdGVFZGdlUnVudGltZUFQSVwiO1xuXG5leHBvcnQgdHlwZSBEYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyT3B0aW9ucyA9IENyZWF0ZUVkZ2VSdW50aW1lQVBJT3B0aW9ucztcblxuZXhwb3J0IGNsYXNzIERhbmdlcm91c0luQnJvd3NlckFkYXB0ZXIgaW1wbGVtZW50cyBDaGF0TW9kZWxBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBvcHRpb25zOiBEYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyT3B0aW9ucykge31cblxuICBhc3luYyAqcnVuKHsgbWVzc2FnZXMsIGFib3J0U2lnbmFsLCBjb25maWcgfTogQ2hhdE1vZGVsUnVuT3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldEVkZ2VSdW50aW1lU3RyZWFtKHtcbiAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgcmVxdWVzdERhdGE6IHtcbiAgICAgICAgc3lzdGVtOiBjb25maWcuc3lzdGVtLFxuICAgICAgICBtZXNzYWdlczogdG9Db3JlTWVzc2FnZXMobWVzc2FnZXMpLFxuICAgICAgICB0b29sczogY29uZmlnLnRvb2xzID8gdG9MYW5ndWFnZU1vZGVsVG9vbHMoY29uZmlnLnRvb2xzKSA6IFtdLFxuICAgICAgICAuLi5jb25maWcuY2FsbFNldHRpbmdzLFxuICAgICAgICAuLi5jb25maWcuY29uZmlnLFxuICAgICAgfSBzYXRpc2ZpZXMgRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9ucyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHN0cmVhbSA9IHJlc1xuICAgICAgLnBpcGVUaHJvdWdoKHRvb2xSZXN1bHRTdHJlYW0oY29uZmlnLnRvb2xzLCBhYm9ydFNpZ25hbCkpXG4gICAgICAucGlwZVRocm91Z2gocnVuUmVzdWx0U3RyZWFtKCkpO1xuXG4gICAgZm9yIGF3YWl0IChjb25zdCB1cGRhdGUgb2YgYXNBc3luY0l0ZXJhYmxlKHN0cmVhbSkpIHtcbiAgICAgIHlpZWxkIHVwZGF0ZTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFRocmVhZE1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IGdldFRocmVhZE1lc3NhZ2VUZXh0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL2dldFRocmVhZE1lc3NhZ2VUZXh0XCI7XG5pbXBvcnQgeyBTcGVlY2hTeW50aGVzaXNBZGFwdGVyIH0gZnJvbSBcIi4vU3BlZWNoQWRhcHRlclR5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBXZWJTcGVlY2hTeW50aGVzaXNBZGFwdGVyIGltcGxlbWVudHMgU3BlZWNoU3ludGhlc2lzQWRhcHRlciB7XG4gIHNwZWFrKG1lc3NhZ2U6IFRocmVhZE1lc3NhZ2UpOiBTcGVlY2hTeW50aGVzaXNBZGFwdGVyLlV0dGVyYW5jZSB7XG4gICAgY29uc3QgdGV4dCA9IGdldFRocmVhZE1lc3NhZ2VUZXh0KG1lc3NhZ2UpO1xuICAgIGNvbnN0IHV0dGVyYW5jZSA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UodGV4dCk7XG5cbiAgICBjb25zdCBlbmRIYW5kbGVycyA9IG5ldyBTZXQ8KCkgPT4gdm9pZD4oKTtcbiAgICBjb25zdCBoYW5kbGVFbmQgPSAoXG4gICAgICByZWFzb246IFwiZmluaXNoZWRcIiB8IFwiZXJyb3JcIiB8IFwiY2FuY2VsbGVkXCIsXG4gICAgICBlcnJvcj86IHVua25vd24sXG4gICAgKSA9PiB7XG4gICAgICBpZiAocmVzLnN0YXR1cy50eXBlID09PSBcImVuZGVkXCIpIHJldHVybjtcblxuICAgICAgcmVzLnN0YXR1cyA9IHsgdHlwZTogXCJlbmRlZFwiLCByZWFzb24sIGVycm9yIH07XG4gICAgICBlbmRIYW5kbGVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiBoYW5kbGVyKCkpO1xuICAgIH07XG5cbiAgICB1dHRlcmFuY2UuYWRkRXZlbnRMaXN0ZW5lcihcImVuZFwiLCAoKSA9PiBoYW5kbGVFbmQoXCJmaW5pc2hlZFwiKSk7XG4gICAgdXR0ZXJhbmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZSkgPT4gaGFuZGxlRW5kKFwiZXJyb3JcIiwgZS5lcnJvcikpO1xuXG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5zcGVhayh1dHRlcmFuY2UpO1xuXG4gICAgY29uc3QgcmVzOiBTcGVlY2hTeW50aGVzaXNBZGFwdGVyLlV0dGVyYW5jZSA9IHtcbiAgICAgIHN0YXR1czogeyB0eXBlOiBcInJ1bm5pbmdcIiB9LFxuICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7XG4gICAgICAgIGhhbmRsZUVuZChcImNhbmNlbGxlZFwiKTtcbiAgICAgIH0sXG4gICAgICBvbkVuZDogKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmIChyZXMuc3RhdHVzLnR5cGUgPT09IFwiZW5kZWRcIikge1xuICAgICAgICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNhbmNlbGxlZCkgY2FsbGJhY2soKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZEhhbmRsZXJzLmFkZChjYWxsYmFjayk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGVuZEhhbmRsZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiByZXM7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIFRocmVhZENvbXBvc2VyQXR0YWNobWVudCxcbiAgTWVzc2FnZUF0dGFjaG1lbnQsXG59IGZyb20gXCIuLi8uLi9jb250ZXh0L3N0b3Jlcy9BdHRhY2htZW50XCI7XG5pbXBvcnQgeyBBdHRhY2htZW50QWRhcHRlciB9IGZyb20gXCIuL0F0dGFjaG1lbnRBZGFwdGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVJbWFnZUF0dGFjaG1lbnRBZGFwdGVyIGltcGxlbWVudHMgQXR0YWNobWVudEFkYXB0ZXIge1xuICBwdWJsaWMgYWNjZXB0ID0gXCJpbWFnZS8qXCI7XG5cbiAgcHVibGljIGFzeW5jIGFkZChzdGF0ZTogeyBmaWxlOiBGaWxlIH0pOiBQcm9taXNlPFRocmVhZENvbXBvc2VyQXR0YWNobWVudD4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogc3RhdGUuZmlsZS5uYW1lLFxuICAgICAgdHlwZTogXCJpbWFnZVwiLFxuICAgICAgbmFtZTogc3RhdGUuZmlsZS5uYW1lLFxuICAgICAgZmlsZTogc3RhdGUuZmlsZSxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNlbmQoXG4gICAgYXR0YWNobWVudDogVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50LFxuICApOiBQcm9taXNlPE1lc3NhZ2VBdHRhY2htZW50PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcImltYWdlXCIsXG4gICAgICAgICAgaW1hZ2U6IGF3YWl0IGdldEZpbGVEYXRhVVJMKGF0dGFjaG1lbnQuZmlsZSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVtb3ZlKCkge1xuICAgIC8vIG5vb3BcbiAgfVxufVxuXG5jb25zdCBnZXRGaWxlRGF0YVVSTCA9IChmaWxlOiBGaWxlKSA9PlxuICBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgIHJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiByZWplY3QoZXJyb3IpO1xuXG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH0pO1xuIiwiaW1wb3J0IHtcbiAgVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50LFxuICBNZXNzYWdlQXR0YWNobWVudCxcbn0gZnJvbSBcIi4uLy4uL2NvbnRleHQvc3RvcmVzL0F0dGFjaG1lbnRcIjtcbmltcG9ydCB7IEF0dGFjaG1lbnRBZGFwdGVyIH0gZnJvbSBcIi4vQXR0YWNobWVudEFkYXB0ZXJcIjtcblxuZXhwb3J0IGNsYXNzIFNpbXBsZVRleHRBdHRhY2htZW50QWRhcHRlciBpbXBsZW1lbnRzIEF0dGFjaG1lbnRBZGFwdGVyIHtcbiAgcHVibGljIGFjY2VwdCA9XG4gICAgXCJ0ZXh0L3BsYWluLHRleHQvaHRtbCx0ZXh0L21hcmtkb3duLHRleHQvY3N2LHRleHQveG1sLHRleHQvanNvbix0ZXh0L2Nzc1wiO1xuXG4gIHB1YmxpYyBhc3luYyBhZGQoc3RhdGU6IHsgZmlsZTogRmlsZSB9KTogUHJvbWlzZTxUaHJlYWRDb21wb3NlckF0dGFjaG1lbnQ+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHN0YXRlLmZpbGUubmFtZSxcbiAgICAgIHR5cGU6IFwiZG9jdW1lbnRcIixcbiAgICAgIG5hbWU6IHN0YXRlLmZpbGUubmFtZSxcbiAgICAgIGZpbGU6IHN0YXRlLmZpbGUsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZW5kKFxuICAgIGF0dGFjaG1lbnQ6IFRocmVhZENvbXBvc2VyQXR0YWNobWVudCxcbiAgKTogUHJvbWlzZTxNZXNzYWdlQXR0YWNobWVudD4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgY29udGVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgdGV4dDogYDxhdHRhY2htZW50IG5hbWU9JHthdHRhY2htZW50Lm5hbWV9PlxcbiR7YXdhaXQgZ2V0RmlsZVRleHQoYXR0YWNobWVudC5maWxlKX1cXG48L2F0dGFjaG1lbnQ+YCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyByZW1vdmUoKSB7XG4gICAgLy8gbm9vcFxuICB9XG59XG5cbmNvbnN0IGdldEZpbGVUZXh0ID0gKGZpbGU6IEZpbGUpID0+XG4gIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0IGFzIHN0cmluZyk7XG4gICAgcmVhZGVyLm9uZXJyb3IgPSAoZXJyb3IpID0+IHJlamVjdChlcnJvcik7XG5cbiAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgfSk7XG4iLCJpbXBvcnQge1xuICBUaHJlYWRDb21wb3NlckF0dGFjaG1lbnQsXG4gIE1lc3NhZ2VBdHRhY2htZW50LFxufSBmcm9tIFwiLi4vLi4vY29udGV4dC9zdG9yZXMvQXR0YWNobWVudFwiO1xuaW1wb3J0IHsgQXR0YWNobWVudEFkYXB0ZXIgfSBmcm9tIFwiLi9BdHRhY2htZW50QWRhcHRlclwiO1xuXG5mdW5jdGlvbiBmaWxlTWF0Y2hlc0FjY2VwdChmaWxlOiBGaWxlLCBhY2NlcHRTdHJpbmc6IHN0cmluZykge1xuICAvLyBDaGVjayBpZiB0aGUgYWNjZXB0IHN0cmluZyBpcyBcIipcIiwgd2hpY2ggYWxsb3dzIGFueSBmaWxlXG4gIGlmIChhY2NlcHRTdHJpbmcgPT09IFwiKlwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBTcGxpdCB0aGUgYWNjZXB0IHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIGFsbG93ZWQgdHlwZXNcbiAgY29uc3QgYWxsb3dlZFR5cGVzID0gYWNjZXB0U3RyaW5nXG4gICAgLnNwbGl0KFwiLFwiKVxuICAgIC5tYXAoKHR5cGUpID0+IHR5cGUudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xuXG4gIC8vIEdldCB0aGUgZmlsZSdzIGV4dGVuc2lvbiBhbmQgTUlNRSB0eXBlXG4gIGNvbnN0IGZpbGVFeHRlbnNpb24gPSBcIi5cIiArIGZpbGUubmFtZS5zcGxpdChcIi5cIikucG9wKCkhLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGZpbGVNaW1lVHlwZSA9IGZpbGUudHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gIGZvciAoY29uc3QgdHlwZSBvZiBhbGxvd2VkVHlwZXMpIHtcbiAgICAvLyBDaGVjayBmb3IgZmlsZSBleHRlbnNpb24gbWF0Y2hcbiAgICBpZiAodHlwZS5zdGFydHNXaXRoKFwiLlwiKSAmJiB0eXBlID09PSBmaWxlRXh0ZW5zaW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgZXhhY3QgTUlNRSB0eXBlIG1hdGNoXG4gICAgaWYgKHR5cGUuaW5jbHVkZXMoXCIvXCIpICYmIHR5cGUgPT09IGZpbGVNaW1lVHlwZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IFwiaW1hZ2UvKlwiIHx8IHR5cGUgPT09IFwidmlkZW8vKlwiIHx8IHR5cGUgPT09IFwiYXVkaW8vKlwiKSB7XG4gICAgICAvLyBDaGVjayBmb3Igd2lsZGNhcmQgTUlNRSB0eXBlIG1hdGNoXG4gICAgICBpZiAodHlwZS5lbmRzV2l0aChcIi8qXCIpKSB7XG4gICAgICAgIGNvbnN0IGdlbmVyYWxUeXBlID0gdHlwZS5zcGxpdChcIi9cIilbMF0hO1xuICAgICAgICBpZiAoZmlsZU1pbWVUeXBlLnN0YXJ0c1dpdGgoZ2VuZXJhbFR5cGUgKyBcIi9cIikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvc2l0ZUF0dGFjaG1lbnRBZGFwdGVyIGltcGxlbWVudHMgQXR0YWNobWVudEFkYXB0ZXIge1xuICBwcml2YXRlIF9hZGFwdGVyczogQXR0YWNobWVudEFkYXB0ZXJbXTtcblxuICBwdWJsaWMgYWNjZXB0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYWRhcHRlcnM6IEF0dGFjaG1lbnRBZGFwdGVyW10pIHtcbiAgICB0aGlzLl9hZGFwdGVycyA9IGFkYXB0ZXJzO1xuXG4gICAgY29uc3Qgd2lsZGNhcmRJZHggPSBhZGFwdGVycy5maW5kSW5kZXgoKGEpID0+IGEuYWNjZXB0ID09PSBcIipcIik7XG4gICAgaWYgKHdpbGRjYXJkSWR4ICE9PSAtMSkge1xuICAgICAgaWYgKHdpbGRjYXJkSWR4ICE9PSBhZGFwdGVycy5sZW5ndGggLSAxKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJBIHdpbGRjYXJkIGFkYXB0ZXIgKGhhbmRsaW5nIGFsbCBmaWxlcykgY2FuIG9ubHkgYmUgc3BlY2lmaWVkIGFzIHRoZSBsYXN0IGFkYXB0ZXIuXCIsXG4gICAgICAgICk7XG5cbiAgICAgIHRoaXMuYWNjZXB0ID0gXCIqXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWNjZXB0ID0gYWRhcHRlcnMubWFwKChhKSA9PiBhLmFjY2VwdCkuam9pbihcIixcIik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIGFkZChzdGF0ZTogeyBmaWxlOiBGaWxlIH0pOiBQcm9taXNlPFRocmVhZENvbXBvc2VyQXR0YWNobWVudD4ge1xuICAgIGZvciAoY29uc3QgYWRhcHRlciBvZiB0aGlzLl9hZGFwdGVycykge1xuICAgICAgaWYgKGZpbGVNYXRjaGVzQWNjZXB0KHN0YXRlLmZpbGUsIGFkYXB0ZXIuYWNjZXB0KSkge1xuICAgICAgICByZXR1cm4gYWRhcHRlci5hZGQoc3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBtYXRjaGluZyBhZGFwdGVyIGZvdW5kIGZvciBmaWxlXCIpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNlbmQoXG4gICAgYXR0YWNobWVudDogVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50LFxuICApOiBQcm9taXNlPE1lc3NhZ2VBdHRhY2htZW50PiB7XG4gICAgY29uc3QgYWRhcHRlcnMgPSB0aGlzLl9hZGFwdGVycy5zbGljZSgpO1xuICAgIGZvciAoY29uc3QgYWRhcHRlciBvZiBhZGFwdGVycykge1xuICAgICAgaWYgKGZpbGVNYXRjaGVzQWNjZXB0KGF0dGFjaG1lbnQuZmlsZSwgYWRhcHRlci5hY2NlcHQpKSB7XG4gICAgICAgIHJldHVybiBhZGFwdGVyLnNlbmQoYXR0YWNobWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG1hdGNoaW5nIGFkYXB0ZXIgZm91bmQgZm9yIGF0dGFjaG1lbnRcIik7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVtb3ZlKGF0dGFjaG1lbnQ6IFRocmVhZENvbXBvc2VyQXR0YWNobWVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGFkYXB0ZXJzID0gdGhpcy5fYWRhcHRlcnMuc2xpY2UoKTtcbiAgICBmb3IgKGNvbnN0IGFkYXB0ZXIgb2YgYWRhcHRlcnMpIHtcbiAgICAgIGlmIChmaWxlTWF0Y2hlc0FjY2VwdChhdHRhY2htZW50LmZpbGUsIGFkYXB0ZXIuYWNjZXB0KSkge1xuICAgICAgICByZXR1cm4gYWRhcHRlci5yZW1vdmUoYXR0YWNobWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG1hdGNoaW5nIGFkYXB0ZXIgZm91bmQgZm9yIGF0dGFjaG1lbnRcIik7XG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgU3RvcmVBcGksIFVzZUJvdW5kU3RvcmUgfSBmcm9tIFwienVzdGFuZFwiO1xuXG5leHBvcnQgdHlwZSBSZWFkb25seVN0b3JlPFQ+ID0gVXNlQm91bmRTdG9yZTxcbiAgT21pdDxTdG9yZUFwaTxUPiwgXCJzZXRTdGF0ZVwiIHwgXCJkZXN0cm95XCI+XG4+O1xuXG5leHBvcnQgY29uc3Qgd3JpdGFibGVTdG9yZSA9IDxUPihzdG9yZTogUmVhZG9ubHlTdG9yZTxUPiB8IHVuZGVmaW5lZCkgPT4ge1xuICByZXR1cm4gc3RvcmUgYXMgdW5rbm93biBhcyBVc2VCb3VuZFN0b3JlPFN0b3JlQXBpPFQ+Pjtcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHsgQXNzaXN0YW50UnVudGltZSB9IGZyb20gXCIuLi8uLi9ydW50aW1lc1wiO1xuaW1wb3J0IHsgTXV0YWJsZVJlZk9iamVjdCB9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRBY3Rpb25zU3RhdGUgPSBSZWFkb25seTx7XG4gIHN3aXRjaFRvVGhyZWFkOiAodGhyZWFkSWQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGdldFJ1bnRpbWU6ICgpID0+IEFzc2lzdGFudFJ1bnRpbWU7XG59PjtcblxuZXhwb3J0IGNvbnN0IG1ha2VBc3Npc3RhbnRBY3Rpb25zU3RvcmUgPSAoXG4gIHJ1bnRpbWVSZWY6IE11dGFibGVSZWZPYmplY3Q8QXNzaXN0YW50UnVudGltZT4sXG4pID0+XG4gIGNyZWF0ZTxBc3Npc3RhbnRBY3Rpb25zU3RhdGU+KCgpID0+XG4gICAgT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBzd2l0Y2hUb1RocmVhZDogKCkgPT4gcnVudGltZVJlZi5jdXJyZW50LnN3aXRjaFRvVGhyZWFkKG51bGwpLFxuICAgICAgZ2V0UnVudGltZTogKCkgPT4gcnVudGltZVJlZi5jdXJyZW50LFxuICAgIH0pLFxuICApO1xuIiwiaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IEFzc2lzdGFudFJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vcnVudGltZXNcIjtcblxuZXhwb3J0IHR5cGUgQXNzaXN0YW50UnVudGltZVN0b3JlID0gQXNzaXN0YW50UnVudGltZTtcblxuZXhwb3J0IGNvbnN0IG1ha2VBc3Npc3RhbnRSdW50aW1lU3RvcmUgPSAocnVudGltZTogQXNzaXN0YW50UnVudGltZSkgPT4ge1xuICByZXR1cm4gY3JlYXRlPEFzc2lzdGFudFJ1bnRpbWVTdG9yZT4oKCkgPT4gcnVudGltZSk7XG59O1xuIiwiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuL1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB0eXBlIHsgQ29tcG9zZXJTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXMvQ29tcG9zZXJcIjtcbmltcG9ydCB0eXBlIHsgRWRpdENvbXBvc2VyU3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL0VkaXRDb21wb3NlclwiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5cbmV4cG9ydCB0eXBlIENvbXBvc2VyQ29udGV4dFZhbHVlID0ge1xuICB1c2VDb21wb3NlcjogUmVhZG9ubHlTdG9yZTxFZGl0Q29tcG9zZXJTdGF0ZSB8IENvbXBvc2VyU3RhdGU+O1xuICB0eXBlOiBcImVkaXRcIiB8IFwibmV3XCI7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQ29tcG9zZXJDb250ZXh0ID0gKCk6IENvbXBvc2VyQ29udGV4dFZhbHVlID0+IHtcbiAgY29uc3QgeyB1c2VDb21wb3NlciB9ID0gdXNlVGhyZWFkQ29udGV4dCgpO1xuICBjb25zdCB7IHVzZUVkaXRDb21wb3NlciB9ID0gdXNlTWVzc2FnZUNvbnRleHQoeyBvcHRpb25hbDogdHJ1ZSB9KSA/PyB7fTtcbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHVzZUNvbXBvc2VyOiAodXNlRWRpdENvbXBvc2VyID8/IHVzZUNvbXBvc2VyKSBhcyBSZWFkb25seVN0b3JlPFxuICAgICAgICBFZGl0Q29tcG9zZXJTdGF0ZSB8IENvbXBvc2VyU3RhdGVcbiAgICAgID4sXG4gICAgICB0eXBlOiB1c2VFZGl0Q29tcG9zZXIgPyAoXCJlZGl0XCIgYXMgY29uc3QpIDogKFwibmV3XCIgYXMgY29uc3QpLFxuICAgIH0pLFxuICAgIFt1c2VFZGl0Q29tcG9zZXIsIHVzZUNvbXBvc2VyXSxcbiAgKTtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBNZXNzYWdlU3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL01lc3NhZ2VcIjtcbmltcG9ydCB0eXBlIHsgRWRpdENvbXBvc2VyU3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL0VkaXRDb21wb3NlclwiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBNZXNzYWdlVXRpbHNTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXMvTWVzc2FnZVV0aWxzXCI7XG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2VDb250ZXh0VmFsdWUgPSB7XG4gIHVzZU1lc3NhZ2U6IFJlYWRvbmx5U3RvcmU8TWVzc2FnZVN0YXRlPjtcbiAgdXNlTWVzc2FnZVV0aWxzOiBSZWFkb25seVN0b3JlPE1lc3NhZ2VVdGlsc1N0YXRlPjtcbiAgdXNlRWRpdENvbXBvc2VyOiBSZWFkb25seVN0b3JlPEVkaXRDb21wb3NlclN0YXRlPjtcbn07XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8TWVzc2FnZUNvbnRleHRWYWx1ZSB8IG51bGw+KG51bGwpO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVzc2FnZUNvbnRleHQoKTogTWVzc2FnZUNvbnRleHRWYWx1ZTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXNzYWdlQ29udGV4dChvcHRpb25zOiB7XG4gIG9wdGlvbmFsOiB0cnVlO1xufSk6IE1lc3NhZ2VDb250ZXh0VmFsdWUgfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1lc3NhZ2VDb250ZXh0KG9wdGlvbnM/OiB7IG9wdGlvbmFsOiB0cnVlIH0pIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoTWVzc2FnZUNvbnRleHQpO1xuICBpZiAoIW9wdGlvbnM/Lm9wdGlvbmFsICYmICFjb250ZXh0KVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhpcyBjb21wb25lbnQgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgYSBjb21wb25lbnQgcGFzc2VkIHRvIDxUaHJlYWRQcmltaXRpdmUuTWVzc2FnZXMgY29tcG9uZW50cz17Li4ufSAvPi5cIixcbiAgICApO1xuICByZXR1cm4gY29udGV4dDtcbn1cbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IENvbnRlbnRQYXJ0U3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL0NvbnRlbnRQYXJ0XCI7XG5pbXBvcnQgeyBSZWFkb25seVN0b3JlIH0gZnJvbSBcIi4uL1JlYWRvbmx5U3RvcmVcIjtcblxuZXhwb3J0IHR5cGUgQ29udGVudFBhcnRDb250ZXh0VmFsdWUgPSB7XG4gIHVzZUNvbnRlbnRQYXJ0OiBSZWFkb25seVN0b3JlPENvbnRlbnRQYXJ0U3RhdGU+O1xufTtcblxuZXhwb3J0IGNvbnN0IENvbnRlbnRQYXJ0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Q29udGVudFBhcnRDb250ZXh0VmFsdWUgfCBudWxsPihcbiAgbnVsbCxcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb250ZW50UGFydENvbnRleHQoKTogQ29udGVudFBhcnRDb250ZXh0VmFsdWU7XG5leHBvcnQgZnVuY3Rpb24gdXNlQ29udGVudFBhcnRDb250ZXh0KG9wdGlvbnM6IHtcbiAgb3B0aW9uYWw6IHRydWU7XG59KTogQ29udGVudFBhcnRDb250ZXh0VmFsdWUgfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRlbnRQYXJ0Q29udGV4dChvcHRpb25zPzogeyBvcHRpb25hbDogdHJ1ZSB9KSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KENvbnRlbnRQYXJ0Q29udGV4dCk7XG4gIGlmICghb3B0aW9ucz8ub3B0aW9uYWwgJiYgIWNvbnRleHQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGlzIGNvbXBvbmVudCBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBhIGNvbXBvbmVudCBwYXNzZWQgdG8gPE1lc3NhZ2VQcmltaXRpdmUuQ29udGVudCBjb21wb25lbnRzPXsuLi59ID4uXCIsXG4gICAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVGhyZWFkQ29udGV4dFZhbHVlLCB1c2VUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uL2NvbnRleHRcIjtcbmltcG9ydCB7IEFwcGVuZE1lc3NhZ2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxudHlwZSBDcmVhdGVBcHBlbmRNZXNzYWdlID1cbiAgfCBzdHJpbmdcbiAgfCB7XG4gICAgICBwYXJlbnRJZD86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG4gICAgICByb2xlPzogQXBwZW5kTWVzc2FnZVtcInJvbGVcIl0gfCB1bmRlZmluZWQ7XG4gICAgICBjb250ZW50OiBBcHBlbmRNZXNzYWdlW1wiY29udGVudFwiXTtcbiAgICAgIGF0dGFjaG1lbnRzPzogQXBwZW5kTWVzc2FnZVtcImF0dGFjaG1lbnRzXCJdIHwgdW5kZWZpbmVkO1xuICAgIH07XG5cbmNvbnN0IHRvQXBwZW5kTWVzc2FnZSA9IChcbiAgdXNlVGhyZWFkTWVzc2FnZXM6IFRocmVhZENvbnRleHRWYWx1ZVtcInVzZVRocmVhZE1lc3NhZ2VzXCJdLFxuICBtZXNzYWdlOiBDcmVhdGVBcHBlbmRNZXNzYWdlLFxuKTogQXBwZW5kTWVzc2FnZSA9PiB7XG4gIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJlbnRJZDogdXNlVGhyZWFkTWVzc2FnZXMuZ2V0U3RhdGUoKS5hdCgtMSk/LmlkID8/IG51bGwsXG4gICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBtZXNzYWdlIH1dLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhcmVudElkOlxuICAgICAgbWVzc2FnZS5wYXJlbnRJZCA/PyB1c2VUaHJlYWRNZXNzYWdlcy5nZXRTdGF0ZSgpLmF0KC0xKT8uaWQgPz8gbnVsbCxcbiAgICByb2xlOiBtZXNzYWdlLnJvbGUgPz8gXCJ1c2VyXCIsXG4gICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgIGF0dGFjaG1lbnRzOiBtZXNzYWdlLmF0dGFjaG1lbnRzID8/IFtdLFxuICB9IGFzIEFwcGVuZE1lc3NhZ2U7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQXBwZW5kTWVzc2FnZSA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VUaHJlYWRNZXNzYWdlcywgdXNlVGhyZWFkQWN0aW9ucywgdXNlVmlld3BvcnQsIHVzZUNvbXBvc2VyIH0gPVxuICAgIHVzZVRocmVhZENvbnRleHQoKTtcblxuICBjb25zdCBhcHBlbmQgPSB1c2VDYWxsYmFjayhcbiAgICAobWVzc2FnZTogQ3JlYXRlQXBwZW5kTWVzc2FnZSkgPT4ge1xuICAgICAgY29uc3QgYXBwZW5kTWVzc2FnZSA9IHRvQXBwZW5kTWVzc2FnZSh1c2VUaHJlYWRNZXNzYWdlcywgbWVzc2FnZSk7XG4gICAgICB1c2VUaHJlYWRBY3Rpb25zLmdldFN0YXRlKCkuYXBwZW5kKGFwcGVuZE1lc3NhZ2UpO1xuXG4gICAgICB1c2VWaWV3cG9ydC5nZXRTdGF0ZSgpLnNjcm9sbFRvQm90dG9tKCk7XG4gICAgICB1c2VDb21wb3Nlci5nZXRTdGF0ZSgpLmZvY3VzKCk7XG4gICAgfSxcbiAgICBbdXNlVGhyZWFkTWVzc2FnZXMsIHVzZVRocmVhZEFjdGlvbnMsIHVzZVZpZXdwb3J0LCB1c2VDb21wb3Nlcl0sXG4gICk7XG5cbiAgcmV0dXJuIGFwcGVuZDtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXNzaXN0YW50Q29udGV4dCwgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VTd2l0Y2hUb05ld1RocmVhZCA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VBc3Npc3RhbnRBY3Rpb25zIH0gPSB1c2VBc3Npc3RhbnRDb250ZXh0KCk7XG4gIGNvbnN0IHsgdXNlQ29tcG9zZXIgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcblxuICBjb25zdCBzd2l0Y2hUb05ld1RocmVhZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICB1c2VBc3Npc3RhbnRBY3Rpb25zLmdldFN0YXRlKCkuc3dpdGNoVG9UaHJlYWQobnVsbCk7XG4gICAgdXNlQ29tcG9zZXIuZ2V0U3RhdGUoKS5mb2N1cygpO1xuICB9LCBbdXNlQXNzaXN0YW50QWN0aW9ucywgdXNlQ29tcG9zZXJdKTtcblxuICByZXR1cm4gc3dpdGNoVG9OZXdUaHJlYWQ7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXNzaXN0YW50Q29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L3JlYWN0L0Fzc2lzdGFudENvbnRleHRcIjtcbmltcG9ydCB0eXBlIHsgVG9vbENhbGxDb250ZW50UGFydENvbXBvbmVudCB9IGZyb20gXCIuLi90eXBlcy9Db250ZW50UGFydENvbXBvbmVudFR5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IFRvb2wgfSBmcm9tIFwiLi4vdHlwZXMvTW9kZWxDb25maWdUeXBlc1wiO1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRUb29sUHJvcHM8XG4gIFRBcmdzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIFRSZXN1bHQsXG4+ID0gVG9vbDxUQXJncywgVFJlc3VsdD4gJiB7XG4gIHRvb2xOYW1lOiBzdHJpbmc7XG4gIHJlbmRlcj86IFRvb2xDYWxsQ29udGVudFBhcnRDb21wb25lbnQ8VEFyZ3MsIFRSZXN1bHQ+IHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUFzc2lzdGFudFRvb2wgPSA8XG4gIFRBcmdzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIFRSZXN1bHQsXG4+KFxuICB0b29sOiBBc3Npc3RhbnRUb29sUHJvcHM8VEFyZ3MsIFRSZXN1bHQ+LFxuKSA9PiB7XG4gIGNvbnN0IHsgdXNlTW9kZWxDb25maWcsIHVzZVRvb2xVSXMgfSA9IHVzZUFzc2lzdGFudENvbnRleHQoKTtcbiAgY29uc3QgcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyID0gdXNlTW9kZWxDb25maWcoXG4gICAgKHMpID0+IHMucmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyLFxuICApO1xuICBjb25zdCBzZXRUb29sVUkgPSB1c2VUb29sVUlzKChzKSA9PiBzLnNldFRvb2xVSSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyB0b29sTmFtZSwgcmVuZGVyLCAuLi5yZXN0IH0gPSB0b29sO1xuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgIHRvb2xzOiB7XG4gICAgICAgIFt0b29sLnRvb2xOYW1lXTogcmVzdCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCB1bnN1YjEgPSByZWdpc3Rlck1vZGVsQ29uZmlnUHJvdmlkZXIoe1xuICAgICAgZ2V0TW9kZWxDb25maWc6ICgpID0+IGNvbmZpZyxcbiAgICB9KTtcbiAgICBjb25zdCB1bnN1YjIgPSByZW5kZXIgPyBzZXRUb29sVUkodG9vbE5hbWUsIHJlbmRlcikgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3ViMSgpO1xuICAgICAgdW5zdWIyPy4oKTtcbiAgICB9O1xuICB9LCBbcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyLCBzZXRUb29sVUksIHRvb2xdKTtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0eXBlIEFzc2lzdGFudFRvb2xQcm9wcywgdXNlQXNzaXN0YW50VG9vbCB9IGZyb20gXCIuL3VzZUFzc2lzdGFudFRvb2xcIjtcblxuZXhwb3J0IHR5cGUgQXNzaXN0YW50VG9vbCA9IEZDICYge1xuICB1bnN0YWJsZV90b29sOiBBc3Npc3RhbnRUb29sUHJvcHM8YW55LCBhbnk+O1xufTtcblxuZXhwb3J0IGNvbnN0IG1ha2VBc3Npc3RhbnRUb29sID0gPFxuICBUQXJncyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBUUmVzdWx0LFxuPihcbiAgdG9vbDogQXNzaXN0YW50VG9vbFByb3BzPFRBcmdzLCBUUmVzdWx0PixcbikgPT4ge1xuICBjb25zdCBUb29sOiBBc3Npc3RhbnRUb29sID0gKCkgPT4ge1xuICAgIHVzZUFzc2lzdGFudFRvb2wodG9vbCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIFRvb2wudW5zdGFibGVfdG9vbCA9IHRvb2w7XG4gIHJldHVybiBUb29sO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUFzc2lzdGFudENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dC9yZWFjdC9Bc3Npc3RhbnRDb250ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IFRvb2xDYWxsQ29udGVudFBhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vdHlwZXMvQ29udGVudFBhcnRDb21wb25lbnRUeXBlc1wiO1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRUb29sVUlQcm9wczxcbiAgVEFyZ3MgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgVFJlc3VsdCxcbj4gPSB7XG4gIHRvb2xOYW1lOiBzdHJpbmc7XG4gIHJlbmRlcjogVG9vbENhbGxDb250ZW50UGFydENvbXBvbmVudDxUQXJncywgVFJlc3VsdD47XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQXNzaXN0YW50VG9vbFVJID0gKFxuICB0b29sOiBBc3Npc3RhbnRUb29sVUlQcm9wczxhbnksIGFueT4gfCBudWxsLFxuKSA9PiB7XG4gIGNvbnN0IHsgdXNlVG9vbFVJcyB9ID0gdXNlQXNzaXN0YW50Q29udGV4dCgpO1xuICBjb25zdCBzZXRUb29sVUkgPSB1c2VUb29sVUlzKChzKSA9PiBzLnNldFRvb2xVSSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF0b29sKSByZXR1cm47XG4gICAgY29uc3QgeyB0b29sTmFtZSwgcmVuZGVyIH0gPSB0b29sO1xuICAgIHJldHVybiBzZXRUb29sVUkodG9vbE5hbWUsIHJlbmRlcik7XG4gIH0sIFtzZXRUb29sVUksIHRvb2xdKTtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICB0eXBlIEFzc2lzdGFudFRvb2xVSVByb3BzLFxuICB1c2VBc3Npc3RhbnRUb29sVUksXG59IGZyb20gXCIuL3VzZUFzc2lzdGFudFRvb2xVSVwiO1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRUb29sVUkgPSBGQyAmIHtcbiAgdW5zdGFibGVfdG9vbDogQXNzaXN0YW50VG9vbFVJUHJvcHM8YW55LCBhbnk+O1xufTtcblxuZXhwb3J0IGNvbnN0IG1ha2VBc3Npc3RhbnRUb29sVUkgPSA8XG4gIFRBcmdzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIFRSZXN1bHQsXG4+KFxuICB0b29sOiBBc3Npc3RhbnRUb29sVUlQcm9wczxUQXJncywgVFJlc3VsdD4sXG4pID0+IHtcbiAgY29uc3QgVG9vbFVJOiBBc3Npc3RhbnRUb29sVUkgPSAoKSA9PiB7XG4gICAgdXNlQXNzaXN0YW50VG9vbFVJKHRvb2wpO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBUb29sVUkudW5zdGFibGVfdG9vbCA9IHRvb2w7XG4gIHJldHVybiBUb29sVUk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXNzaXN0YW50Q29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L3JlYWN0L0Fzc2lzdGFudENvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUFzc2lzdGFudEluc3RydWN0aW9ucyA9IChpbnN0cnVjdGlvbjogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHsgdXNlTW9kZWxDb25maWcgfSA9IHVzZUFzc2lzdGFudENvbnRleHQoKTtcbiAgY29uc3QgcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyID0gdXNlTW9kZWxDb25maWcoXG4gICAgKHMpID0+IHMucmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyLFxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgIHN5c3RlbTogaW5zdHJ1Y3Rpb24sXG4gICAgfTtcbiAgICByZXR1cm4gcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHsgZ2V0TW9kZWxDb25maWc6ICgpID0+IGNvbmZpZyB9KTtcbiAgfSwgW3JlZ2lzdGVyTW9kZWxDb25maWdQcm92aWRlciwgaW5zdHJ1Y3Rpb25dKTtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQ29tYmluZWRTdG9yZSB9IGZyb20gXCIuLi8uLi91dGlscy9jb21iaW5lZC91c2VDb21iaW5lZFN0b3JlXCI7XG5pbXBvcnQgeyBnZXRUaHJlYWRNZXNzYWdlVGV4dCB9IGZyb20gXCIuLi8uLi91dGlscy9nZXRUaHJlYWRNZXNzYWdlVGV4dFwiO1xuXG5leHBvcnQgdHlwZSBVc2VBY3Rpb25CYXJDb3B5UHJvcHMgPSB7XG4gIGNvcGllZER1cmF0aW9uPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUFjdGlvbkJhckNvcHkgPSAoe1xuICBjb3BpZWREdXJhdGlvbiA9IDMwMDAsXG59OiBVc2VBY3Rpb25CYXJDb3B5UHJvcHMgPSB7fSkgPT4ge1xuICBjb25zdCB7IHVzZU1lc3NhZ2UsIHVzZU1lc3NhZ2VVdGlscywgdXNlRWRpdENvbXBvc2VyIH0gPSB1c2VNZXNzYWdlQ29udGV4dCgpO1xuXG4gIGNvbnN0IGhhc0NvcHlhYmxlQ29udGVudCA9IHVzZUNvbWJpbmVkU3RvcmUoXG4gICAgW3VzZU1lc3NhZ2UsIHVzZUVkaXRDb21wb3Nlcl0sXG4gICAgKHsgbWVzc2FnZSB9LCBjKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAhYy5pc0VkaXRpbmcgJiZcbiAgICAgICAgKG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiB8fCBtZXNzYWdlLnN0YXR1cy50eXBlICE9PSBcInJ1bm5pbmdcIikgJiZcbiAgICAgICAgbWVzc2FnZS5jb250ZW50LnNvbWUoKGMpID0+IGMudHlwZSA9PT0gXCJ0ZXh0XCIgJiYgYy50ZXh0Lmxlbmd0aCA+IDApXG4gICAgICApO1xuICAgIH0sXG4gICk7XG5cbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgeyBtZXNzYWdlIH0gPSB1c2VNZXNzYWdlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgeyBzZXRJc0NvcGllZCB9ID0gdXNlTWVzc2FnZVV0aWxzLmdldFN0YXRlKCk7XG4gICAgY29uc3QgeyBpc0VkaXRpbmcsIHRleHQ6IGNvbXBvc2VyVmFsdWUgfSA9IHVzZUVkaXRDb21wb3Nlci5nZXRTdGF0ZSgpO1xuXG4gICAgY29uc3QgdmFsdWVUb0NvcHkgPSBpc0VkaXRpbmdcbiAgICAgID8gY29tcG9zZXJWYWx1ZVxuICAgICAgOiBnZXRUaHJlYWRNZXNzYWdlVGV4dChtZXNzYWdlKTtcblxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHZhbHVlVG9Db3B5KS50aGVuKCgpID0+IHtcbiAgICAgIHNldElzQ29waWVkKHRydWUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRJc0NvcGllZChmYWxzZSksIGNvcGllZER1cmF0aW9uKTtcbiAgICB9KTtcbiAgfSwgW3VzZU1lc3NhZ2UsIHVzZU1lc3NhZ2VVdGlscywgdXNlRWRpdENvbXBvc2VyLCBjb3BpZWREdXJhdGlvbl0pO1xuXG4gIGlmICghaGFzQ29weWFibGVDb250ZW50KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGNhbGxiYWNrO1xufTtcbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIHR5cGUgQ29tYmluZWRTZWxlY3RvcixcbiAgY3JlYXRlQ29tYmluZWRTdG9yZSxcbn0gZnJvbSBcIi4vY3JlYXRlQ29tYmluZWRTdG9yZVwiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L1JlYWRvbmx5U3RvcmVcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbWJpbmVkU3RvcmUgPSA8VCBleHRlbmRzIEFycmF5PHVua25vd24+LCBSPihcbiAgc3RvcmVzOiB7IFtLIGluIGtleW9mIFRdOiBSZWFkb25seVN0b3JlPFRbS10+IH0sXG4gIHNlbGVjdG9yOiBDb21iaW5lZFNlbGVjdG9yPFQsIFI+LFxuKTogUiA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMgLS0gc2hhbGxvdy1jb21wYXJlIHRoZSBzdG9yZSBhcnJheVxuICBjb25zdCB1c2VDb21iaW5lZCA9IHVzZU1lbW8oKCkgPT4gY3JlYXRlQ29tYmluZWRTdG9yZTxULCBSPihzdG9yZXMpLCBzdG9yZXMpO1xuICByZXR1cm4gdXNlQ29tYmluZWQoc2VsZWN0b3IpO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTeW5jRXh0ZXJuYWxTdG9yZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBVbnN1YnNjcmliZSB9IGZyb20gXCIuLi8uLi90eXBlcy9VbnN1YnNjcmliZVwiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L1JlYWRvbmx5U3RvcmVcIjtcblxuZXhwb3J0IHR5cGUgQ29tYmluZWRTZWxlY3RvcjxUIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4sIFI+ID0gKC4uLmFyZ3M6IFQpID0+IFI7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDb21iaW5lZFN0b3JlID0gPFQgZXh0ZW5kcyBBcnJheTx1bmtub3duPiwgUj4oc3RvcmVzOiB7XG4gIFtLIGluIGtleW9mIFRdOiBSZWFkb25seVN0b3JlPFRbS10+O1xufSkgPT4ge1xuICBjb25zdCBzdWJzY3JpYmUgPSAoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBVbnN1YnNjcmliZSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmVzID0gc3RvcmVzLm1hcCgoc3RvcmUpID0+IHN0b3JlLnN1YnNjcmliZShjYWxsYmFjaykpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHVuc3ViIG9mIHVuc3Vic2NyaWJlcykge1xuICAgICAgICB1bnN1YigpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIChzZWxlY3RvcjogQ29tYmluZWRTZWxlY3RvcjxULCBSPik6IFIgPT4ge1xuICAgIGNvbnN0IGdldFNuYXBzaG90ID0gKCk6IFIgPT5cbiAgICAgIHNlbGVjdG9yKC4uLihzdG9yZXMubWFwKChzdG9yZSkgPT4gc3RvcmUuZ2V0U3RhdGUoKSkgYXMgVCkpO1xuXG4gICAgcmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNuYXBzaG90KTtcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQ29tYmluZWRTdG9yZSB9IGZyb20gXCIuLi8uLi91dGlscy9jb21iaW5lZC91c2VDb21iaW5lZFN0b3JlXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VBY3Rpb25CYXJFZGl0ID0gKCkgPT4ge1xuICBjb25zdCB7IHVzZU1lc3NhZ2UsIHVzZUVkaXRDb21wb3NlciB9ID0gdXNlTWVzc2FnZUNvbnRleHQoKTtcblxuICBjb25zdCBkaXNhYmxlZCA9IHVzZUNvbWJpbmVkU3RvcmUoXG4gICAgW3VzZU1lc3NhZ2UsIHVzZUVkaXRDb21wb3Nlcl0sXG4gICAgKG0sIGMpID0+IG0ubWVzc2FnZS5yb2xlICE9PSBcInVzZXJcIiB8fCBjLmlzRWRpdGluZyxcbiAgKTtcblxuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCB7IGVkaXQgfSA9IHVzZUVkaXRDb21wb3Nlci5nZXRTdGF0ZSgpO1xuICAgIGVkaXQoKTtcbiAgfSwgW3VzZUVkaXRDb21wb3Nlcl0pO1xuXG4gIGlmIChkaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IHVzZUNvbWJpbmVkU3RvcmUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tYmluZWQvdXNlQ29tYmluZWRTdG9yZVwiO1xuXG5leHBvcnQgY29uc3QgdXNlQWN0aW9uQmFyUmVsb2FkID0gKCkgPT4ge1xuICBjb25zdCB7IHVzZVRocmVhZCwgdXNlVGhyZWFkQWN0aW9ucywgdXNlQ29tcG9zZXIsIHVzZVZpZXdwb3J0IH0gPVxuICAgIHVzZVRocmVhZENvbnRleHQoKTtcbiAgY29uc3QgeyB1c2VNZXNzYWdlIH0gPSB1c2VNZXNzYWdlQ29udGV4dCgpO1xuXG4gIGNvbnN0IGRpc2FibGVkID0gdXNlQ29tYmluZWRTdG9yZShcbiAgICBbdXNlVGhyZWFkLCB1c2VNZXNzYWdlXSxcbiAgICAodCwgbSkgPT4gdC5pc1J1bm5pbmcgfHwgdC5pc0Rpc2FibGVkIHx8IG0ubWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiLFxuICApO1xuXG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFyZW50SWQgfSA9IHVzZU1lc3NhZ2UuZ2V0U3RhdGUoKTtcbiAgICB1c2VUaHJlYWRBY3Rpb25zLmdldFN0YXRlKCkuc3RhcnRSdW4ocGFyZW50SWQpO1xuICAgIHVzZVZpZXdwb3J0LmdldFN0YXRlKCkuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICB1c2VDb21wb3Nlci5nZXRTdGF0ZSgpLmZvY3VzKCk7XG4gIH0sIFt1c2VUaHJlYWRBY3Rpb25zLCB1c2VDb21wb3NlciwgdXNlVmlld3BvcnQsIHVzZU1lc3NhZ2VdKTtcblxuICBpZiAoZGlzYWJsZWQpIHJldHVybiBudWxsO1xuICByZXR1cm4gY2FsbGJhY2s7XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2VDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9UaHJlYWRDb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VDb21iaW5lZFN0b3JlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2NvbWJpbmVkL3VzZUNvbWJpbmVkU3RvcmVcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUFjdGlvbkJhclNwZWFrID0gKCkgPT4ge1xuICBjb25zdCB7IHVzZVRocmVhZEFjdGlvbnMgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcbiAgY29uc3QgeyB1c2VNZXNzYWdlLCB1c2VFZGl0Q29tcG9zZXIsIHVzZU1lc3NhZ2VVdGlscyB9ID0gdXNlTWVzc2FnZUNvbnRleHQoKTtcblxuICBjb25zdCBoYXNTcGVha2FibGVDb250ZW50ID0gdXNlQ29tYmluZWRTdG9yZShcbiAgICBbdXNlTWVzc2FnZSwgdXNlRWRpdENvbXBvc2VyXSxcbiAgICAoeyBtZXNzYWdlIH0sIGMpID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICFjLmlzRWRpdGluZyAmJlxuICAgICAgICAobWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiIHx8IG1lc3NhZ2Uuc3RhdHVzLnR5cGUgIT09IFwicnVubmluZ1wiKSAmJlxuICAgICAgICBtZXNzYWdlLmNvbnRlbnQuc29tZSgoYykgPT4gYy50eXBlID09PSBcInRleHRcIiAmJiBjLnRleHQubGVuZ3RoID4gMClcbiAgICAgICk7XG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHVzZU1lc3NhZ2UuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB1dHQgPSB1c2VUaHJlYWRBY3Rpb25zLmdldFN0YXRlKCkuc3BlYWsobWVzc2FnZS5pZCk7XG4gICAgdXNlTWVzc2FnZVV0aWxzLmdldFN0YXRlKCkuYWRkVXR0ZXJhbmNlKHV0dCk7XG4gIH0sIFt1c2VUaHJlYWRBY3Rpb25zLCB1c2VNZXNzYWdlLCB1c2VNZXNzYWdlVXRpbHNdKTtcblxuICBpZiAoIWhhc1NwZWFrYWJsZUNvbnRlbnQpIHJldHVybiBudWxsO1xuICByZXR1cm4gY2FsbGJhY2s7XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2VDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUFjdGlvbkJhclN0b3BTcGVha2luZyA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VNZXNzYWdlVXRpbHMgfSA9IHVzZU1lc3NhZ2VDb250ZXh0KCk7XG5cbiAgY29uc3QgaXNTcGVha2luZyA9IHVzZU1lc3NhZ2VVdGlscygodSkgPT4gdS5pc1NwZWFraW5nKTtcblxuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB1c2VNZXNzYWdlVXRpbHMuZ2V0U3RhdGUoKS5zdG9wU3BlYWtpbmcoKTtcbiAgfSwgW3VzZU1lc3NhZ2VVdGlsc10pO1xuXG4gIGlmICghaXNTcGVha2luZykgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIGNhbGxiYWNrO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlQnJhbmNoUGlja2VyQ291bnQgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlTWVzc2FnZSB9ID0gdXNlTWVzc2FnZUNvbnRleHQoKTtcbiAgY29uc3QgYnJhbmNoQ291bnQgPSB1c2VNZXNzYWdlKChzKSA9PiBzLmJyYW5jaGVzLmxlbmd0aCk7XG4gIHJldHVybiBicmFuY2hDb3VudDtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IHVzZUNvbWJpbmVkU3RvcmUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tYmluZWQvdXNlQ29tYmluZWRTdG9yZVwiO1xuXG5leHBvcnQgY29uc3QgdXNlQnJhbmNoUGlja2VyTmV4dCA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VUaHJlYWRBY3Rpb25zIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIGNvbnN0IHsgdXNlTWVzc2FnZSwgdXNlRWRpdENvbXBvc2VyIH0gPSB1c2VNZXNzYWdlQ29udGV4dCgpO1xuXG4gIGNvbnN0IGRpc2FibGVkID0gdXNlQ29tYmluZWRTdG9yZShcbiAgICBbdXNlTWVzc2FnZSwgdXNlRWRpdENvbXBvc2VyXSxcbiAgICAobSwgYykgPT5cbiAgICAgIGMuaXNFZGl0aW5nIHx8IG0uYnJhbmNoZXMuaW5kZXhPZihtLm1lc3NhZ2UuaWQpICsgMSA+PSBtLmJyYW5jaGVzLmxlbmd0aCxcbiAgKTtcblxuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIGJyYW5jaGVzIH0gPSB1c2VNZXNzYWdlLmdldFN0YXRlKCk7XG4gICAgdXNlVGhyZWFkQWN0aW9uc1xuICAgICAgLmdldFN0YXRlKClcbiAgICAgIC5zd2l0Y2hUb0JyYW5jaChicmFuY2hlc1ticmFuY2hlcy5pbmRleE9mKG1lc3NhZ2UuaWQpICsgMV0hKTtcbiAgfSwgW3VzZVRocmVhZEFjdGlvbnMsIHVzZU1lc3NhZ2VdKTtcblxuICBpZiAoZGlzYWJsZWQpIHJldHVybiBudWxsO1xuICByZXR1cm4gY2FsbGJhY2s7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyB1c2VNZXNzYWdlQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L01lc3NhZ2VDb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VCcmFuY2hQaWNrZXJOdW1iZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlTWVzc2FnZSB9ID0gdXNlTWVzc2FnZUNvbnRleHQoKTtcbiAgY29uc3QgYnJhbmNoSWR4ID0gdXNlTWVzc2FnZSgocykgPT4gcy5icmFuY2hlcy5pbmRleE9mKHMubWVzc2FnZS5pZCkpO1xuICByZXR1cm4gYnJhbmNoSWR4ICsgMTtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IHVzZUNvbWJpbmVkU3RvcmUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tYmluZWQvdXNlQ29tYmluZWRTdG9yZVwiO1xuXG5leHBvcnQgY29uc3QgdXNlQnJhbmNoUGlja2VyUHJldmlvdXMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlVGhyZWFkQWN0aW9ucyB9ID0gdXNlVGhyZWFkQ29udGV4dCgpO1xuICBjb25zdCB7IHVzZU1lc3NhZ2UsIHVzZUVkaXRDb21wb3NlciB9ID0gdXNlTWVzc2FnZUNvbnRleHQoKTtcblxuICBjb25zdCBkaXNhYmxlZCA9IHVzZUNvbWJpbmVkU3RvcmUoXG4gICAgW3VzZU1lc3NhZ2UsIHVzZUVkaXRDb21wb3Nlcl0sXG4gICAgKG0sIGMpID0+IGMuaXNFZGl0aW5nIHx8IG0uYnJhbmNoZXMuaW5kZXhPZihtLm1lc3NhZ2UuaWQpIDw9IDAsXG4gICk7XG5cbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgeyBtZXNzYWdlLCBicmFuY2hlcyB9ID0gdXNlTWVzc2FnZS5nZXRTdGF0ZSgpO1xuICAgIHVzZVRocmVhZEFjdGlvbnNcbiAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAuc3dpdGNoVG9CcmFuY2goYnJhbmNoZXNbYnJhbmNoZXMuaW5kZXhPZihtZXNzYWdlLmlkKSAtIDFdISk7XG4gIH0sIFt1c2VUaHJlYWRBY3Rpb25zLCB1c2VNZXNzYWdlXSk7XG5cbiAgaWYgKGRpc2FibGVkKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGNhbGxiYWNrO1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlckNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlQ29tcG9zZXJDYW5jZWwgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlQ29tcG9zZXIgfSA9IHVzZUNvbXBvc2VyQ29udGV4dCgpO1xuXG4gIGNvbnN0IGRpc2FibGVkID0gdXNlQ29tcG9zZXIoKGMpID0+ICFjLmNhbkNhbmNlbCk7XG5cbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgeyBjYW5jZWwgfSA9IHVzZUNvbXBvc2VyLmdldFN0YXRlKCk7XG4gICAgY2FuY2VsKCk7XG4gIH0sIFt1c2VDb21wb3Nlcl0pO1xuXG4gIGlmIChkaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VyQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L0NvbXBvc2VyQ29udGV4dFwiO1xuaW1wb3J0IHR5cGUgeyBSZXF1aXJlQXRMZWFzdE9uZSB9IGZyb20gXCIuLi8uLi91dGlscy9SZXF1aXJlQXRMZWFzdE9uZVwiO1xuXG50eXBlIENvbXBvc2VySWZGaWx0ZXJzID0ge1xuICBlZGl0aW5nOiBib29sZWFuIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgVXNlQ29tcG9zZXJJZlByb3BzID0gUmVxdWlyZUF0TGVhc3RPbmU8Q29tcG9zZXJJZkZpbHRlcnM+O1xuXG5leHBvcnQgY29uc3QgdXNlQ29tcG9zZXJJZiA9IChwcm9wczogVXNlQ29tcG9zZXJJZlByb3BzKSA9PiB7XG4gIGNvbnN0IHsgdXNlQ29tcG9zZXIgfSA9IHVzZUNvbXBvc2VyQ29udGV4dCgpO1xuICByZXR1cm4gdXNlQ29tcG9zZXIoKGNvbXBvc2VyKSA9PiB7XG4gICAgaWYgKHByb3BzLmVkaXRpbmcgPT09IHRydWUgJiYgIWNvbXBvc2VyLmlzRWRpdGluZykgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcm9wcy5lZGl0aW5nID09PSBmYWxzZSAmJiBjb21wb3Nlci5pc0VkaXRpbmcpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXJDb250ZXh0LCB1c2VUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcbmltcG9ydCB7IHVzZUNvbWJpbmVkU3RvcmUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tYmluZWQvdXNlQ29tYmluZWRTdG9yZVwiO1xuXG5leHBvcnQgY29uc3QgdXNlQ29tcG9zZXJTZW5kID0gKCkgPT4ge1xuICBjb25zdCB7XG4gICAgdXNlVGhyZWFkLFxuICAgIHVzZVZpZXdwb3J0LFxuICAgIHVzZUNvbXBvc2VyOiB1c2VOZXdDb21wb3NlcixcbiAgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcbiAgY29uc3QgeyB1c2VDb21wb3NlciB9ID0gdXNlQ29tcG9zZXJDb250ZXh0KCk7XG5cbiAgY29uc3QgZGlzYWJsZWQgPSB1c2VDb21iaW5lZFN0b3JlKFxuICAgIFt1c2VUaHJlYWQsIHVzZUNvbXBvc2VyXSxcbiAgICAodCwgYykgPT4gdC5pc1J1bm5pbmcgfHwgIWMuaXNFZGl0aW5nIHx8IGMuaXNFbXB0eSxcbiAgKTtcblxuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBjb21wb3NlclN0YXRlID0gdXNlQ29tcG9zZXIuZ2V0U3RhdGUoKTtcbiAgICBpZiAoIWNvbXBvc2VyU3RhdGUuaXNFZGl0aW5nKSByZXR1cm47XG5cbiAgICBjb21wb3NlclN0YXRlLnNlbmQoKTtcblxuICAgIHVzZVZpZXdwb3J0LmdldFN0YXRlKCkuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICB1c2VOZXdDb21wb3Nlci5nZXRTdGF0ZSgpLmZvY3VzKCk7XG4gIH0sIFt1c2VOZXdDb21wb3NlciwgdXNlQ29tcG9zZXIsIHVzZVZpZXdwb3J0XSk7XG5cbiAgaWYgKGRpc2FibGVkKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGNhbGxiYWNrO1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbXBvc2VyQWRkQXR0YWNobWVudCA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VDb21wb3NlciwgdXNlVGhyZWFkUnVudGltZSB9ID0gdXNlVGhyZWFkQ29udGV4dCgpO1xuXG4gIGNvbnN0IGRpc2FibGVkID0gdXNlQ29tcG9zZXIoKGMpID0+ICFjLmlzRWRpdGluZyk7XG5cbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgeyBhZGRBdHRhY2htZW50IH0gPSB1c2VDb21wb3Nlci5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHsgYXR0YWNobWVudEFjY2VwdCB9ID0gdXNlVGhyZWFkUnVudGltZS5nZXRTdGF0ZSgpLmNvbXBvc2VyO1xuXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgaW5wdXQudHlwZSA9IFwiZmlsZVwiO1xuICAgIGlmIChhdHRhY2htZW50QWNjZXB0ICE9PSBcIipcIikge1xuICAgICAgaW5wdXQuYWNjZXB0ID0gYXR0YWNobWVudEFjY2VwdDtcbiAgICB9XG5cbiAgICBpbnB1dC5vbmNoYW5nZSA9IChlKSA9PiB7XG4gICAgICBjb25zdCBmaWxlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzPy5bMF07XG4gICAgICBpZiAoIWZpbGUpIHJldHVybjtcbiAgICAgIGFkZEF0dGFjaG1lbnQoZmlsZSk7XG4gICAgfTtcblxuICAgIGlucHV0LmNsaWNrKCk7XG4gIH0sIFt1c2VDb21wb3NlciwgdXNlVGhyZWFkUnVudGltZV0pO1xuXG4gIGlmIChkaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJpbXBvcnQgeyB1c2VDb250ZW50UGFydENvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9Db250ZW50UGFydENvbnRleHRcIjtcbmltcG9ydCB7IFVJQ29udGVudFBhcnRTdGF0ZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3N0b3Jlcy9Db250ZW50UGFydFwiO1xuXG5leHBvcnQgY29uc3QgdXNlQ29udGVudFBhcnREaXNwbGF5ID0gKCkgPT4ge1xuICBjb25zdCB7IHVzZUNvbnRlbnRQYXJ0IH0gPSB1c2VDb250ZW50UGFydENvbnRleHQoKTtcblxuICBjb25zdCBkaXNwbGF5ID0gdXNlQ29udGVudFBhcnQoKGMpID0+IHtcbiAgICBpZiAoYy5wYXJ0LnR5cGUgIT09IFwidWlcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGlzIGNvbXBvbmVudCBjYW4gb25seSBiZSB1c2VkIGluc2lkZSB1aSBjb250ZW50IHBhcnRzLlwiLFxuICAgICAgKTtcblxuICAgIHJldHVybiBjIGFzIFVJQ29udGVudFBhcnRTdGF0ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRpc3BsYXk7XG59O1xuIiwiaW1wb3J0IHsgdXNlQ29udGVudFBhcnRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvQ29udGVudFBhcnRDb250ZXh0XCI7XG5pbXBvcnQgeyBJbWFnZUNvbnRlbnRQYXJ0U3RhdGUgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9zdG9yZXMvQ29udGVudFBhcnRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbnRlbnRQYXJ0SW1hZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlQ29udGVudFBhcnQgfSA9IHVzZUNvbnRlbnRQYXJ0Q29udGV4dCgpO1xuXG4gIGNvbnN0IGltYWdlID0gdXNlQ29udGVudFBhcnQoKGMpID0+IHtcbiAgICBpZiAoYy5wYXJ0LnR5cGUgIT09IFwiaW1hZ2VcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJDb250ZW50UGFydEltYWdlIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIGltYWdlIGNvbnRlbnQgcGFydHMuXCIsXG4gICAgICApO1xuXG4gICAgcmV0dXJuIGMgYXMgSW1hZ2VDb250ZW50UGFydFN0YXRlO1xuICB9KTtcblxuICByZXR1cm4gaW1hZ2U7XG59O1xuIiwiaW1wb3J0IHsgdXNlQ29udGVudFBhcnRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvQ29udGVudFBhcnRDb250ZXh0XCI7XG5pbXBvcnQgeyBUZXh0Q29udGVudFBhcnRTdGF0ZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3N0b3Jlcy9Db250ZW50UGFydFwiO1xuXG5leHBvcnQgY29uc3QgdXNlQ29udGVudFBhcnRUZXh0ID0gKCkgPT4ge1xuICBjb25zdCB7IHVzZUNvbnRlbnRQYXJ0IH0gPSB1c2VDb250ZW50UGFydENvbnRleHQoKTtcblxuICBjb25zdCB0ZXh0ID0gdXNlQ29udGVudFBhcnQoKGMpID0+IHtcbiAgICBpZiAoYy5wYXJ0LnR5cGUgIT09IFwidGV4dFwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkNvbnRlbnRQYXJ0VGV4dCBjYW4gb25seSBiZSB1c2VkIGluc2lkZSB0ZXh0IGNvbnRlbnQgcGFydHMuXCIsXG4gICAgICApO1xuXG4gICAgcmV0dXJuIGMgYXMgVGV4dENvbnRlbnRQYXJ0U3RhdGU7XG4gIH0pO1xuXG4gIHJldHVybiB0ZXh0O1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHR5cGUgeyBSZXF1aXJlQXRMZWFzdE9uZSB9IGZyb20gXCIuLi8uLi91dGlscy9SZXF1aXJlQXRMZWFzdE9uZVwiO1xuaW1wb3J0IHsgdXNlQ29tYmluZWRTdG9yZSB9IGZyb20gXCIuLi8uLi91dGlscy9jb21iaW5lZC91c2VDb21iaW5lZFN0b3JlXCI7XG5cbnR5cGUgTWVzc2FnZUlmRmlsdGVycyA9IHtcbiAgdXNlcjogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgYXNzaXN0YW50OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBzeXN0ZW06IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGhhc0JyYW5jaGVzOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBjb3BpZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGxhc3RPckhvdmVyOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBzcGVha2luZzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgaGFzQXR0YWNobWVudHM6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IHR5cGUgVXNlTWVzc2FnZUlmUHJvcHMgPSBSZXF1aXJlQXRMZWFzdE9uZTxNZXNzYWdlSWZGaWx0ZXJzPjtcblxuZXhwb3J0IGNvbnN0IHVzZU1lc3NhZ2VJZiA9IChwcm9wczogVXNlTWVzc2FnZUlmUHJvcHMpID0+IHtcbiAgY29uc3QgeyB1c2VNZXNzYWdlLCB1c2VNZXNzYWdlVXRpbHMgfSA9IHVzZU1lc3NhZ2VDb250ZXh0KCk7XG5cbiAgcmV0dXJuIHVzZUNvbWJpbmVkU3RvcmUoXG4gICAgW3VzZU1lc3NhZ2UsIHVzZU1lc3NhZ2VVdGlsc10sXG4gICAgKHsgbWVzc2FnZSwgYnJhbmNoZXMsIGlzTGFzdCB9LCB7IGlzQ29waWVkLCBpc0hvdmVyaW5nLCBpc1NwZWFraW5nIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcy5oYXNCcmFuY2hlcyA9PT0gdHJ1ZSAmJiBicmFuY2hlcy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGlmIChwcm9wcy51c2VyICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJ1c2VyXCIpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChwcm9wcy5hc3Npc3RhbnQgJiYgbWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAocHJvcHMuc3lzdGVtICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJzeXN0ZW1cIikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBpZiAocHJvcHMubGFzdE9ySG92ZXIgPT09IHRydWUgJiYgIWlzSG92ZXJpbmcgJiYgIWlzTGFzdCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBpZiAocHJvcHMuY29waWVkID09PSB0cnVlICYmICFpc0NvcGllZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHByb3BzLmNvcGllZCA9PT0gZmFsc2UgJiYgaXNDb3BpZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgaWYgKHByb3BzLnNwZWFraW5nID09PSB0cnVlICYmICFpc1NwZWFraW5nKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAocHJvcHMuc3BlYWtpbmcgPT09IGZhbHNlICYmIGlzU3BlYWtpbmcpIHJldHVybiBmYWxzZTtcblxuICAgICAgaWYgKFxuICAgICAgICBwcm9wcy5oYXNBdHRhY2htZW50cyA9PT0gdHJ1ZSAmJlxuICAgICAgICAobWVzc2FnZS5yb2xlICE9PSBcInVzZXJcIiB8fCAhbWVzc2FnZS5hdHRhY2htZW50cy5sZW5ndGgpXG4gICAgICApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChcbiAgICAgICAgcHJvcHMuaGFzQXR0YWNobWVudHMgPT09IGZhbHNlICYmXG4gICAgICAgIG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIgJiZcbiAgICAgICAgISFtZXNzYWdlLmF0dGFjaG1lbnRzLmxlbmd0aFxuICAgICAgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9UaHJlYWRDb250ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IFJlcXVpcmVBdExlYXN0T25lIH0gZnJvbSBcIi4uLy4uL3V0aWxzL1JlcXVpcmVBdExlYXN0T25lXCI7XG5pbXBvcnQgeyB1c2VDb21iaW5lZFN0b3JlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2NvbWJpbmVkL3VzZUNvbWJpbmVkU3RvcmVcIjtcblxudHlwZSBUaHJlYWRJZkZpbHRlcnMgPSB7XG4gIGVtcHR5OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBydW5uaW5nOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBkaXNhYmxlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFVzZVRocmVhZElmUHJvcHMgPSBSZXF1aXJlQXRMZWFzdE9uZTxUaHJlYWRJZkZpbHRlcnM+O1xuXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkSWYgPSAocHJvcHM6IFVzZVRocmVhZElmUHJvcHMpID0+IHtcbiAgY29uc3QgeyB1c2VUaHJlYWQsIHVzZVRocmVhZE1lc3NhZ2VzIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIHJldHVybiB1c2VDb21iaW5lZFN0b3JlKFxuICAgIFt1c2VUaHJlYWQsIHVzZVRocmVhZE1lc3NhZ2VzXSxcbiAgICAodGhyZWFkLCBtZXNzYWdlcykgPT4ge1xuICAgICAgaWYgKHByb3BzLmVtcHR5ID09PSB0cnVlICYmIG1lc3NhZ2VzLmxlbmd0aCAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHByb3BzLmVtcHR5ID09PSBmYWxzZSAmJiBtZXNzYWdlcy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChwcm9wcy5ydW5uaW5nID09PSB0cnVlICYmICF0aHJlYWQuaXNSdW5uaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAocHJvcHMucnVubmluZyA9PT0gZmFsc2UgJiYgdGhyZWFkLmlzUnVubmluZykgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHByb3BzLmRpc2FibGVkID09PSB0cnVlICYmIHRocmVhZC5pc0Rpc2FibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAocHJvcHMuZGlzYWJsZWQgPT09IGZhbHNlICYmIHRocmVhZC5pc0Rpc2FibGVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICk7XG59O1xuIiwiaW1wb3J0IHsgdXNlVGhyZWFkSWYgfSBmcm9tIFwiLi91c2VUaHJlYWRJZlwiO1xuXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkRW1wdHkgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VUaHJlYWRJZih7IGVtcHR5OiB0cnVlIH0pO1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZVRocmVhZFNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xuICBjb25zdCB7IHVzZUNvbXBvc2VyLCB1c2VWaWV3cG9ydCB9ID0gdXNlVGhyZWFkQ29udGV4dCgpO1xuXG4gIGNvbnN0IGlzQXRCb3R0b20gPSB1c2VWaWV3cG9ydCgocykgPT4gcy5pc0F0Qm90dG9tKTtcblxuICBjb25zdCBoYW5kbGVTY3JvbGxUb0JvdHRvbSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICB1c2VWaWV3cG9ydC5nZXRTdGF0ZSgpLnNjcm9sbFRvQm90dG9tKCk7XG4gICAgdXNlQ29tcG9zZXIuZ2V0U3RhdGUoKS5mb2N1cygpO1xuICB9LCBbdXNlVmlld3BvcnQsIHVzZUNvbXBvc2VyXSk7XG5cbiAgaWYgKGlzQXRCb3R0b20pIHJldHVybiBudWxsO1xuICByZXR1cm4gaGFuZGxlU2Nyb2xsVG9Cb3R0b207XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQXBwZW5kTWVzc2FnZSB9IGZyb20gXCIuLi8uLi9ob29rc1wiO1xuXG5leHBvcnQgdHlwZSBVc2VBcHBseVRocmVhZFN1Z2dlc3Rpb25Qcm9wcyA9IHtcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIG1ldGhvZDogXCJyZXBsYWNlXCI7XG4gIGF1dG9TZW5kPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VUaHJlYWRTdWdnZXN0aW9uID0gKHtcbiAgcHJvbXB0LFxuICBhdXRvU2VuZCxcbn06IFVzZUFwcGx5VGhyZWFkU3VnZ2VzdGlvblByb3BzKSA9PiB7XG4gIGNvbnN0IHsgdXNlVGhyZWFkLCB1c2VDb21wb3NlciB9ID0gdXNlVGhyZWFkQ29udGV4dCgpO1xuXG4gIGNvbnN0IGFwcGVuZCA9IHVzZUFwcGVuZE1lc3NhZ2UoKTtcbiAgY29uc3QgZGlzYWJsZWQgPSB1c2VUaHJlYWQoKHQpID0+IHQuaXNEaXNhYmxlZCk7XG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHRocmVhZCA9IHVzZVRocmVhZC5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGNvbXBvc2VyID0gdXNlQ29tcG9zZXIuZ2V0U3RhdGUoKTtcbiAgICBpZiAoYXV0b1NlbmQgJiYgIXRocmVhZC5pc1J1bm5pbmcpIHtcbiAgICAgIGFwcGVuZChwcm9tcHQpO1xuICAgICAgY29tcG9zZXIuc2V0VGV4dChcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tcG9zZXIuc2V0VGV4dChwcm9tcHQpO1xuICAgIH1cbiAgfSwgW3VzZVRocmVhZCwgdXNlQ29tcG9zZXIsIGF1dG9TZW5kLCBhcHBlbmQsIHByb21wdF0pO1xuXG4gIGlmIChkaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJleHBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmVSb290IGFzIFJvb3QgfSBmcm9tIFwiLi9BY3Rpb25CYXJSb290XCI7XG5leHBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmVDb3B5IGFzIENvcHkgfSBmcm9tIFwiLi9BY3Rpb25CYXJDb3B5XCI7XG5leHBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmVSZWxvYWQgYXMgUmVsb2FkIH0gZnJvbSBcIi4vQWN0aW9uQmFyUmVsb2FkXCI7XG5leHBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmVFZGl0IGFzIEVkaXQgfSBmcm9tIFwiLi9BY3Rpb25CYXJFZGl0XCI7XG5leHBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmVTcGVhayBhcyBTcGVhayB9IGZyb20gXCIuL0FjdGlvbkJhclNwZWFrXCI7XG5leHBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmVTdG9wU3BlYWtpbmcgYXMgU3RvcFNwZWFraW5nIH0gZnJvbSBcIi4vQWN0aW9uQmFyU3RvcFNwZWFraW5nXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IHR5cGUgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiwgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICB1c2VBY3Rpb25CYXJGbG9hdFN0YXR1cyxcbiAgSGlkZUFuZEZsb2F0U3RhdHVzLFxuICBVc2VBY3Rpb25CYXJGbG9hdFN0YXR1c1Byb3BzLFxufSBmcm9tIFwiLi91c2VBY3Rpb25CYXJGbG9hdFN0YXR1c1wiO1xuXG50eXBlIEFjdGlvbkJhclByaW1pdGl2ZVJvb3RFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG50eXBlIFByaW1pdGl2ZURpdlByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcblxuZXhwb3J0IHR5cGUgQWN0aW9uQmFyUHJpbWl0aXZlUm9vdFByb3BzID0gUHJpbWl0aXZlRGl2UHJvcHMgJlxuICBVc2VBY3Rpb25CYXJGbG9hdFN0YXR1c1Byb3BzO1xuXG5leHBvcnQgY29uc3QgQWN0aW9uQmFyUHJpbWl0aXZlUm9vdCA9IGZvcndhcmRSZWY8XG4gIEFjdGlvbkJhclByaW1pdGl2ZVJvb3RFbGVtZW50LFxuICBBY3Rpb25CYXJQcmltaXRpdmVSb290UHJvcHNcbj4oKHsgaGlkZVdoZW5SdW5uaW5nLCBhdXRvaGlkZSwgYXV0b2hpZGVGbG9hdCwgLi4ucmVzdCB9LCByZWYpID0+IHtcbiAgY29uc3QgaGlkZUFuZGZsb2F0U3RhdHVzID0gdXNlQWN0aW9uQmFyRmxvYXRTdGF0dXMoe1xuICAgIGhpZGVXaGVuUnVubmluZyxcbiAgICBhdXRvaGlkZSxcbiAgICBhdXRvaGlkZUZsb2F0LFxuICB9KTtcblxuICBpZiAoaGlkZUFuZGZsb2F0U3RhdHVzID09PSBIaWRlQW5kRmxvYXRTdGF0dXMuSGlkZGVuKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxQcmltaXRpdmUuZGl2XG4gICAgICB7Li4uKGhpZGVBbmRmbG9hdFN0YXR1cyA9PT0gSGlkZUFuZEZsb2F0U3RhdHVzLkZsb2F0aW5nXG4gICAgICAgID8geyBcImRhdGEtZmxvYXRpbmdcIjogXCJ0cnVlXCIgfVxuICAgICAgICA6IG51bGwpfVxuICAgICAgey4uLnJlc3R9XG4gICAgICByZWY9e3JlZn1cbiAgICAvPlxuICApO1xufSk7XG5cbkFjdGlvbkJhclByaW1pdGl2ZVJvb3QuZGlzcGxheU5hbWUgPSBcIkFjdGlvbkJhclByaW1pdGl2ZS5Sb290XCI7XG4iLCJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2VDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9UaHJlYWRDb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VDb21iaW5lZFN0b3JlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2NvbWJpbmVkL3VzZUNvbWJpbmVkU3RvcmVcIjtcblxuZXhwb3J0IGVudW0gSGlkZUFuZEZsb2F0U3RhdHVzIHtcbiAgSGlkZGVuID0gXCJoaWRkZW5cIixcbiAgRmxvYXRpbmcgPSBcImZsb2F0aW5nXCIsXG4gIE5vcm1hbCA9IFwibm9ybWFsXCIsXG59XG5cbmV4cG9ydCB0eXBlIFVzZUFjdGlvbkJhckZsb2F0U3RhdHVzUHJvcHMgPSB7XG4gIGhpZGVXaGVuUnVubmluZz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGF1dG9oaWRlPzogXCJhbHdheXNcIiB8IFwibm90LWxhc3RcIiB8IFwibmV2ZXJcIiB8IHVuZGVmaW5lZDtcbiAgYXV0b2hpZGVGbG9hdD86IFwiYWx3YXlzXCIgfCBcInNpbmdsZS1icmFuY2hcIiB8IFwibmV2ZXJcIiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBY3Rpb25CYXJGbG9hdFN0YXR1cyA9ICh7XG4gIGhpZGVXaGVuUnVubmluZyxcbiAgYXV0b2hpZGUsXG4gIGF1dG9oaWRlRmxvYXQsXG59OiBVc2VBY3Rpb25CYXJGbG9hdFN0YXR1c1Byb3BzKSA9PiB7XG4gIGNvbnN0IHsgdXNlVGhyZWFkIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIGNvbnN0IHsgdXNlTWVzc2FnZSwgdXNlTWVzc2FnZVV0aWxzIH0gPSB1c2VNZXNzYWdlQ29udGV4dCgpO1xuXG4gIHJldHVybiB1c2VDb21iaW5lZFN0b3JlKFxuICAgIFt1c2VUaHJlYWQsIHVzZU1lc3NhZ2UsIHVzZU1lc3NhZ2VVdGlsc10sXG4gICAgKHQsIG0sIG11KSA9PiB7XG4gICAgICBpZiAoaGlkZVdoZW5SdW5uaW5nICYmIHQuaXNSdW5uaW5nKSByZXR1cm4gSGlkZUFuZEZsb2F0U3RhdHVzLkhpZGRlbjtcblxuICAgICAgY29uc3QgYXV0b2hpZGVFbmFibGVkID1cbiAgICAgICAgYXV0b2hpZGUgPT09IFwiYWx3YXlzXCIgfHwgKGF1dG9oaWRlID09PSBcIm5vdC1sYXN0XCIgJiYgIW0uaXNMYXN0KTtcblxuICAgICAgLy8gbm9ybWFsIHN0YXR1c1xuICAgICAgaWYgKCFhdXRvaGlkZUVuYWJsZWQpIHJldHVybiBIaWRlQW5kRmxvYXRTdGF0dXMuTm9ybWFsO1xuXG4gICAgICAvLyBoaWRkZW4gc3RhdHVzXG4gICAgICBpZiAoIW11LmlzSG92ZXJpbmcpIHJldHVybiBIaWRlQW5kRmxvYXRTdGF0dXMuSGlkZGVuO1xuXG4gICAgICAvLyBmbG9hdGluZyBzdGF0dXNcbiAgICAgIGlmIChcbiAgICAgICAgYXV0b2hpZGVGbG9hdCA9PT0gXCJhbHdheXNcIiB8fFxuICAgICAgICAoYXV0b2hpZGVGbG9hdCA9PT0gXCJzaW5nbGUtYnJhbmNoXCIgJiYgbS5icmFuY2hlcy5sZW5ndGggPD0gMSlcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIEhpZGVBbmRGbG9hdFN0YXR1cy5GbG9hdGluZztcblxuICAgICAgcmV0dXJuIEhpZGVBbmRGbG9hdFN0YXR1cy5Ob3JtYWw7XG4gICAgfSxcbiAgKTtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiwgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfSBmcm9tIFwiQHJhZGl4LXVpL3ByaW1pdGl2ZVwiO1xuXG50eXBlIEFjdGlvbkJ1dHRvbkNhbGxiYWNrPFRQcm9wcz4gPSAocHJvcHM6IFRQcm9wcykgPT4gbnVsbCB8ICgoKSA9PiB2b2lkKTtcblxudHlwZSBQcmltaXRpdmVCdXR0b25FbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmJ1dHRvbj47XG50eXBlIFByaW1pdGl2ZUJ1dHRvblByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuYnV0dG9uPjtcblxuZXhwb3J0IHR5cGUgQWN0aW9uQnV0dG9uUHJvcHM8VEhvb2s+ID0gUHJpbWl0aXZlQnV0dG9uUHJvcHMgJlxuICAoVEhvb2sgZXh0ZW5kcyAocHJvcHM6IGluZmVyIFRQcm9wcykgPT4gdW5rbm93biA/IFRQcm9wcyA6IG5ldmVyKTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUFjdGlvbkJ1dHRvbiA9IDxUUHJvcHMsPihcbiAgZGlzcGxheU5hbWU6IHN0cmluZyxcbiAgdXNlQWN0aW9uQnV0dG9uOiBBY3Rpb25CdXR0b25DYWxsYmFjazxUUHJvcHM+LFxuICBmb3J3YXJkUHJvcHM6IChrZXlvZiBOb25OdWxsYWJsZTxUUHJvcHM+KVtdID0gW10sXG4pID0+IHtcbiAgY29uc3QgQWN0aW9uQnV0dG9uID0gZm9yd2FyZFJlZjxcbiAgICBQcmltaXRpdmVCdXR0b25FbGVtZW50LFxuICAgIFByaW1pdGl2ZUJ1dHRvblByb3BzICYgVFByb3BzXG4gID4oKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBmb3J3YXJkZWRQcm9wcyA9IHt9IGFzIFRQcm9wcztcbiAgICBjb25zdCBwcmltaXRpdmVQcm9wcyA9IHt9IGFzIFByaW1pdGl2ZUJ1dHRvblByb3BzO1xuXG4gICAgKE9iamVjdC5rZXlzKHByb3BzKSBhcyBBcnJheTxrZXlvZiB0eXBlb2YgcHJvcHM+KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChmb3J3YXJkUHJvcHMuaW5jbHVkZXMoa2V5IGFzIGtleW9mIFRQcm9wcykpIHtcbiAgICAgICAgKGZvcndhcmRlZFByb3BzIGFzIGFueSlba2V5XSA9IHByb3BzW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAocHJpbWl0aXZlUHJvcHMgYXMgYW55KVtrZXldID0gcHJvcHNba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNhbGxiYWNrID0gdXNlQWN0aW9uQnV0dG9uKGZvcndhcmRlZFByb3BzIGFzIFRQcm9wcyk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxQcmltaXRpdmUuYnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICB7Li4ucHJpbWl0aXZlUHJvcHN9XG4gICAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgICBkaXNhYmxlZD17cHJpbWl0aXZlUHJvcHMuZGlzYWJsZWQgfHwgIWNhbGxiYWNrfVxuICAgICAgICBvbkNsaWNrPXtjb21wb3NlRXZlbnRIYW5kbGVycyhwcmltaXRpdmVQcm9wcy5vbkNsaWNrLCAoKSA9PiB7XG4gICAgICAgICAgY2FsbGJhY2s/LigpO1xuICAgICAgICB9KX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSk7XG5cbiAgQWN0aW9uQnV0dG9uLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG5cbiAgcmV0dXJuIEFjdGlvbkJ1dHRvbjtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQWN0aW9uQmFyQ29weSB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvYWN0aW9uQmFyL3VzZUFjdGlvbkJhckNvcHlcIjtcbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcblxuZXhwb3J0IHR5cGUgQWN0aW9uQmFyUHJpbWl0aXZlQ29weVByb3BzID0gQWN0aW9uQnV0dG9uUHJvcHM8XG4gIHR5cGVvZiB1c2VBY3Rpb25CYXJDb3B5XG4+O1xuXG5leHBvcnQgY29uc3QgQWN0aW9uQmFyUHJpbWl0aXZlQ29weSA9IGNyZWF0ZUFjdGlvbkJ1dHRvbihcbiAgXCJBY3Rpb25CYXJQcmltaXRpdmUuQ29weVwiLFxuICB1c2VBY3Rpb25CYXJDb3B5LFxuICBbXCJjb3BpZWREdXJhdGlvblwiXSxcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQWN0aW9uQmFyUmVsb2FkIH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyUmVsb2FkXCI7XG5pbXBvcnQge1xuICBBY3Rpb25CdXR0b25Qcm9wcyxcbiAgY3JlYXRlQWN0aW9uQnV0dG9uLFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlQWN0aW9uQnV0dG9uXCI7XG5cbmV4cG9ydCB0eXBlIEFjdGlvbkJhclByaW1pdGl2ZVJlbG9hZFByb3BzID0gQWN0aW9uQnV0dG9uUHJvcHM8XG4gIHR5cGVvZiB1c2VBY3Rpb25CYXJSZWxvYWRcbj47XG5cbmV4cG9ydCBjb25zdCBBY3Rpb25CYXJQcmltaXRpdmVSZWxvYWQgPSBjcmVhdGVBY3Rpb25CdXR0b24oXG4gIFwiQWN0aW9uQmFyUHJpbWl0aXZlLlJlbG9hZFwiLFxuICB1c2VBY3Rpb25CYXJSZWxvYWQsXG4pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUFjdGlvbkJhckVkaXQgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJFZGl0XCI7XG5pbXBvcnQge1xuICBBY3Rpb25CdXR0b25Qcm9wcyxcbiAgY3JlYXRlQWN0aW9uQnV0dG9uLFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlQWN0aW9uQnV0dG9uXCI7XG5cbmV4cG9ydCB0eXBlIEFjdGlvbkJhclByaW1pdGl2ZUVkaXRQcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPFxuICB0eXBlb2YgdXNlQWN0aW9uQmFyRWRpdFxuPjtcblxuZXhwb3J0IGNvbnN0IEFjdGlvbkJhclByaW1pdGl2ZUVkaXQgPSBjcmVhdGVBY3Rpb25CdXR0b24oXG4gIFwiQWN0aW9uQmFyUHJpbWl0aXZlLkVkaXRcIixcbiAgdXNlQWN0aW9uQmFyRWRpdCxcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQWN0aW9uQmFyU3BlYWsgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJTcGVha1wiO1xuaW1wb3J0IHtcbiAgQWN0aW9uQnV0dG9uUHJvcHMsXG4gIGNyZWF0ZUFjdGlvbkJ1dHRvbixcbn0gZnJvbSBcIi4uLy4uL3V0aWxzL2NyZWF0ZUFjdGlvbkJ1dHRvblwiO1xuXG5leHBvcnQgdHlwZSBBY3Rpb25CYXJQcmltaXRpdmVTcGVha1Byb3BzID0gQWN0aW9uQnV0dG9uUHJvcHM8XG4gIHR5cGVvZiB1c2VBY3Rpb25CYXJTcGVha1xuPjtcblxuZXhwb3J0IGNvbnN0IEFjdGlvbkJhclByaW1pdGl2ZVNwZWFrID0gY3JlYXRlQWN0aW9uQnV0dG9uKFxuICBcIkFjdGlvbkJhclByaW1pdGl2ZS5TcGVha1wiLFxuICB1c2VBY3Rpb25CYXJTcGVhayxcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgZm9yd2FyZFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQWN0aW9uQmFyU3RvcFNwZWFraW5nIH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyU3RvcFNwZWFraW5nXCI7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Qcm9wcyB9IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IHVzZUVzY2FwZUtleWRvd24gfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1lc2NhcGUta2V5ZG93blwiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcblxuZXhwb3J0IHR5cGUgQWN0aW9uQmFyUHJpbWl0aXZlU3RvcFNwZWFraW5nUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczxcbiAgdHlwZW9mIHVzZUFjdGlvbkJhclN0b3BTcGVha2luZ1xuPjtcblxuZXhwb3J0IGNvbnN0IEFjdGlvbkJhclByaW1pdGl2ZVN0b3BTcGVha2luZyA9IGZvcndhcmRSZWY8XG4gIEhUTUxCdXR0b25FbGVtZW50LFxuICBQYXJ0aWFsPEFjdGlvbkJhclByaW1pdGl2ZVN0b3BTcGVha2luZ1Byb3BzPlxuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCBjYWxsYmFjayA9IHVzZUFjdGlvbkJhclN0b3BTcGVha2luZygpO1xuXG4gIC8vIFRPRE8gdGhpcyBzdG9wcyB3b3JraW5nIGlmIHRoZSB1c2VyIGlzIG5vdCBob3ZlcmluZyBvdmVyIGFuIG9sZGVyIG1lc3NhZ2VcbiAgdXNlRXNjYXBlS2V5ZG93bigoZSkgPT4ge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPFByaW1pdGl2ZS5idXR0b25cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgZGlzYWJsZWQ9eyFjYWxsYmFja31cbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIHJlZj17cmVmfVxuICAgICAgb25DbGljaz17Y29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25DbGljaywgKCkgPT4ge1xuICAgICAgICBjYWxsYmFjaz8uKCk7XG4gICAgICB9KX1cbiAgICAvPlxuICApO1xufSk7XG4iLCJleHBvcnQgeyBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3QgYXMgUm9vdCB9IGZyb20gXCIuL0Fzc2lzdGFudE1vZGFsUm9vdFwiO1xuZXhwb3J0IHsgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVUcmlnZ2VyIGFzIFRyaWdnZXIgfSBmcm9tIFwiLi9Bc3Npc3RhbnRNb2RhbFRyaWdnZXJcIjtcbmV4cG9ydCB7IEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudCBhcyBDb250ZW50IH0gZnJvbSBcIi4vQXNzaXN0YW50TW9kYWxDb250ZW50XCI7XG5leHBvcnQgeyBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvciBhcyBBbmNob3IgfSBmcm9tIFwiLi9Bc3Npc3RhbnRNb2RhbEFuY2hvclwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IEZDLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUG9wb3ZlclByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXJcIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7IHVzZU9uQ29tcG9zZXJGb2N1cyB9IGZyb20gXCIuLi8uLi91dGlscy9ob29rcy91c2VPbkNvbXBvc2VyRm9jdXNcIjtcbmltcG9ydCB7IFNjb3BlZFByb3BzLCB1c2VQb3BvdmVyU2NvcGUgfSBmcm9tIFwiLi9zY29wZVwiO1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3RQcm9wcyA9IFBvcG92ZXJQcmltaXRpdmUuUG9wb3ZlclByb3BzO1xuXG5jb25zdCB1c2VBc3Npc3RhbnRNb2RhbE9wZW5TdGF0ZSA9IChkZWZhdWx0T3BlbiA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHN0YXRlID0gdXNlU3RhdGUoZGVmYXVsdE9wZW4pO1xuXG4gIGNvbnN0IFssIHNldE9wZW5dID0gc3RhdGU7XG4gIHVzZU9uQ29tcG9zZXJGb2N1cygoKSA9PiB7XG4gICAgc2V0T3Blbih0cnVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHN0YXRlO1xufTtcblxuZXhwb3J0IGNvbnN0IEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlUm9vdDogRkM8XG4gIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlUm9vdFByb3BzXG4+ID0gKHtcbiAgX19zY29wZUFzc2lzdGFudE1vZGFsLFxuICBkZWZhdWx0T3BlbixcbiAgb3BlbixcbiAgb25PcGVuQ2hhbmdlLFxuICAuLi5yZXN0XG59OiBTY29wZWRQcm9wczxBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3RQcm9wcz4pID0+IHtcbiAgY29uc3Qgc2NvcGUgPSB1c2VQb3BvdmVyU2NvcGUoX19zY29wZUFzc2lzdGFudE1vZGFsKTtcblxuICBjb25zdCBbbW9kYWxPcGVuLCBzZXRPcGVuXSA9IHVzZUFzc2lzdGFudE1vZGFsT3BlblN0YXRlKGRlZmF1bHRPcGVuKTtcblxuICByZXR1cm4gKFxuICAgIDxQb3BvdmVyUHJpbWl0aXZlLlJvb3RcbiAgICAgIHsuLi5zY29wZX1cbiAgICAgIG9wZW49e29wZW4gPT09IHVuZGVmaW5lZCA/IG1vZGFsT3BlbiA6IG9wZW59XG4gICAgICBvbk9wZW5DaGFuZ2U9e2NvbXBvc2VFdmVudEhhbmRsZXJzKG9uT3BlbkNoYW5nZSwgc2V0T3Blbil9XG4gICAgICB7Li4ucmVzdH1cbiAgICAvPlxuICApO1xufTtcblxuQXNzaXN0YW50TW9kYWxQcmltaXRpdmVSb290LmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZS5Sb290XCI7XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlT25Db21wb3NlckZvY3VzID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB7XG4gIGNvbnN0IGNhbGxiYWNrUmVmID0gdXNlQ2FsbGJhY2tSZWYoY2FsbGJhY2spO1xuXG4gIGNvbnN0IHsgdXNlQ29tcG9zZXIgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gdXNlQ29tcG9zZXIuZ2V0U3RhdGUoKS5vbkZvY3VzKCgpID0+IHtcbiAgICAgIGNhbGxiYWNrUmVmKCk7XG4gICAgfSk7XG4gIH0sIFt1c2VDb21wb3NlciwgY2FsbGJhY2tSZWZdKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBQb3BvdmVyUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wb3ZlclwiO1xuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29udGV4dFwiO1xuXG5leHBvcnQgdHlwZSBTY29wZWRQcm9wczxQPiA9IFAgJiB7IF9fc2NvcGVBc3Npc3RhbnRNb2RhbD86IFNjb3BlIH07XG5leHBvcnQgY29uc3QgdXNlUG9wb3ZlclNjb3BlID0gUG9wb3ZlclByaW1pdGl2ZS5jcmVhdGVQb3BvdmVyU2NvcGUoKTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYsIEVsZW1lbnRSZWYsIGZvcndhcmRSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFBvcG92ZXJQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wb3BvdmVyXCI7XG5pbXBvcnQgeyBTY29wZWRQcm9wcywgdXNlUG9wb3ZlclNjb3BlIH0gZnJvbSBcIi4vc2NvcGVcIjtcblxudHlwZSBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVRyaWdnZXJFbGVtZW50ID0gRWxlbWVudFJlZjxcbiAgdHlwZW9mIFBvcG92ZXJQcmltaXRpdmUuVHJpZ2dlclxuPjtcbmV4cG9ydCB0eXBlIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlVHJpZ2dlclByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPFxuICB0eXBlb2YgUG9wb3ZlclByaW1pdGl2ZS5UcmlnZ2VyXG4+O1xuXG5leHBvcnQgY29uc3QgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVUcmlnZ2VyID0gZm9yd2FyZFJlZjxcbiAgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVUcmlnZ2VyRWxlbWVudCxcbiAgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVUcmlnZ2VyUHJvcHNcbj4oXG4gIChcbiAgICB7XG4gICAgICBfX3Njb3BlQXNzaXN0YW50TW9kYWwsXG4gICAgICAuLi5yZXN0XG4gICAgfTogU2NvcGVkUHJvcHM8QXNzaXN0YW50TW9kYWxQcmltaXRpdmVUcmlnZ2VyUHJvcHM+LFxuICAgIHJlZixcbiAgKSA9PiB7XG4gICAgY29uc3Qgc2NvcGUgPSB1c2VQb3BvdmVyU2NvcGUoX19zY29wZUFzc2lzdGFudE1vZGFsKTtcblxuICAgIHJldHVybiA8UG9wb3ZlclByaW1pdGl2ZS5UcmlnZ2VyIHsuLi5zY29wZX0gey4uLnJlc3R9IHJlZj17cmVmfSAvPjtcbiAgfSxcbik7XG5cbkFzc2lzdGFudE1vZGFsUHJpbWl0aXZlVHJpZ2dlci5kaXNwbGF5TmFtZSA9IFwiQXNzaXN0YW50TW9kYWxQcmltaXRpdmUuVHJpZ2dlclwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENvbXBvbmVudFByb3BzV2l0aG91dFJlZiwgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUG9wb3ZlclByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXJcIjtcbmltcG9ydCB7IFNjb3BlZFByb3BzLCB1c2VQb3BvdmVyU2NvcGUgfSBmcm9tIFwiLi9zY29wZVwiO1xuaW1wb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfSBmcm9tIFwiQHJhZGl4LXVpL3ByaW1pdGl2ZVwiO1xuXG50eXBlIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudEVsZW1lbnQgPSBFbGVtZW50UmVmPFxuICB0eXBlb2YgUG9wb3ZlclByaW1pdGl2ZS5Db250ZW50XG4+O1xuZXhwb3J0IHR5cGUgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVDb250ZW50UHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8XG4gIHR5cGVvZiBQb3BvdmVyUHJpbWl0aXZlLkNvbnRlbnRcbj4gJiB7XG4gIGRpc3NtaXNzT25JbnRlcmFjdE91dHNpZGU/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudCA9IGZvcndhcmRSZWY8XG4gIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudEVsZW1lbnQsXG4gIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudFByb3BzXG4+KFxuICAoXG4gICAge1xuICAgICAgX19zY29wZUFzc2lzdGFudE1vZGFsLFxuICAgICAgc2lkZSxcbiAgICAgIGFsaWduLFxuICAgICAgb25JbnRlcmFjdE91dHNpZGUsXG4gICAgICBkaXNzbWlzc09uSW50ZXJhY3RPdXRzaWRlID0gZmFsc2UsXG4gICAgICAuLi5wcm9wc1xuICAgIH06IFNjb3BlZFByb3BzPEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudFByb3BzPixcbiAgICBmb3J3YXJkZWRSZWYsXG4gICkgPT4ge1xuICAgIGNvbnN0IHNjb3BlID0gdXNlUG9wb3ZlclNjb3BlKF9fc2NvcGVBc3Npc3RhbnRNb2RhbCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFBvcG92ZXJQcmltaXRpdmUuUG9ydGFsIHsuLi5zY29wZX0+XG4gICAgICAgIDxQb3BvdmVyUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgICAgICB7Li4uc2NvcGV9XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgICAgIHNpZGU9e3NpZGUgPz8gXCJ0b3BcIn1cbiAgICAgICAgICBhbGlnbj17YWxpZ24gPz8gXCJlbmRcIn1cbiAgICAgICAgICBvbkludGVyYWN0T3V0c2lkZT17Y29tcG9zZUV2ZW50SGFuZGxlcnMoXG4gICAgICAgICAgICBvbkludGVyYWN0T3V0c2lkZSxcbiAgICAgICAgICAgIGRpc3NtaXNzT25JbnRlcmFjdE91dHNpZGUgPyB1bmRlZmluZWQgOiAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgICAgICAgICl9XG4gICAgICAgIC8+XG4gICAgICA8L1BvcG92ZXJQcmltaXRpdmUuUG9ydGFsPlxuICAgICk7XG4gIH0sXG4pO1xuXG5Bc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUNvbnRlbnQuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsUHJpbWl0aXZlLkNvbnRlbnRcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBFbGVtZW50UmVmLCBmb3J3YXJkUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBQb3BvdmVyUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wb3ZlclwiO1xuaW1wb3J0IHsgU2NvcGVkUHJvcHMsIHVzZVBvcG92ZXJTY29wZSB9IGZyb20gXCIuL3Njb3BlXCI7XG5cbnR5cGUgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVBbmNob3JFbGVtZW50ID0gRWxlbWVudFJlZjxcbiAgdHlwZW9mIFBvcG92ZXJQcmltaXRpdmUuQW5jaG9yXG4+O1xudHlwZSBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvclByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPFxuICB0eXBlb2YgUG9wb3ZlclByaW1pdGl2ZS5BbmNob3Jcbj47XG5cbmV4cG9ydCBjb25zdCBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvciA9IGZvcndhcmRSZWY8XG4gIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQW5jaG9yRWxlbWVudCxcbiAgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVBbmNob3JQcm9wc1xuPihcbiAgKFxuICAgIHtcbiAgICAgIF9fc2NvcGVBc3Npc3RhbnRNb2RhbCxcbiAgICAgIC4uLnJlc3RcbiAgICB9OiBTY29wZWRQcm9wczxBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvclByb3BzPixcbiAgICByZWYsXG4gICkgPT4ge1xuICAgIGNvbnN0IHNjb3BlID0gdXNlUG9wb3ZlclNjb3BlKF9fc2NvcGVBc3Npc3RhbnRNb2RhbCk7XG5cbiAgICByZXR1cm4gPFBvcG92ZXJQcmltaXRpdmUuQW5jaG9yIHsuLi5zY29wZX0gey4uLnJlc3R9IHJlZj17cmVmfSAvPjtcbiAgfSxcbik7XG5Bc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvci5kaXNwbGF5TmFtZSA9IFwiQXNzaXN0YW50TW9kYWxQcmltaXRpdmUuQW5jaG9yXCI7XG4iLCJleHBvcnQgeyBCcmFuY2hQaWNrZXJQcmltaXRpdmVOZXh0IGFzIE5leHQgfSBmcm9tIFwiLi9CcmFuY2hQaWNrZXJOZXh0XCI7XG5leHBvcnQgeyBCcmFuY2hQaWNrZXJQcmV2aW91cyBhcyBQcmV2aW91cyB9IGZyb20gXCIuL0JyYW5jaFBpY2tlclByZXZpb3VzXCI7XG5leHBvcnQgeyBCcmFuY2hQaWNrZXJQcmltaXRpdmVDb3VudCBhcyBDb3VudCB9IGZyb20gXCIuL0JyYW5jaFBpY2tlckNvdW50XCI7XG5leHBvcnQgeyBCcmFuY2hQaWNrZXJQcmltaXRpdmVOdW1iZXIgYXMgTnVtYmVyIH0gZnJvbSBcIi4vQnJhbmNoUGlja2VyTnVtYmVyXCI7XG5leHBvcnQgeyBCcmFuY2hQaWNrZXJQcmltaXRpdmVSb290IGFzIFJvb3QgfSBmcm9tIFwiLi9CcmFuY2hQaWNrZXJSb290XCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQnJhbmNoUGlja2VyTmV4dCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlck5leHRcIjtcbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcblxuZXhwb3J0IHR5cGUgQnJhbmNoUGlja2VyUHJpbWl0aXZlTmV4dFByb3BzID0gQWN0aW9uQnV0dG9uUHJvcHM8XG4gIHR5cGVvZiB1c2VCcmFuY2hQaWNrZXJOZXh0XG4+O1xuXG5leHBvcnQgY29uc3QgQnJhbmNoUGlja2VyUHJpbWl0aXZlTmV4dCA9IGNyZWF0ZUFjdGlvbkJ1dHRvbihcbiAgXCJCcmFuY2hQaWNrZXJQcmltaXRpdmUuTmV4dFwiLFxuICB1c2VCcmFuY2hQaWNrZXJOZXh0LFxuKTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VCcmFuY2hQaWNrZXJQcmV2aW91cyB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlclByZXZpb3VzXCI7XG5pbXBvcnQge1xuICBBY3Rpb25CdXR0b25Qcm9wcyxcbiAgY3JlYXRlQWN0aW9uQnV0dG9uLFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlQWN0aW9uQnV0dG9uXCI7XG5cbmV4cG9ydCB0eXBlIEJyYW5jaFBpY2tlclByaW1pdGl2ZVByZXZpb3VzUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczxcbiAgdHlwZW9mIHVzZUJyYW5jaFBpY2tlclByZXZpb3VzXG4+O1xuXG5leHBvcnQgY29uc3QgQnJhbmNoUGlja2VyUHJldmlvdXMgPSBjcmVhdGVBY3Rpb25CdXR0b24oXG4gIFwiQnJhbmNoUGlja2VyUHJpbWl0aXZlLlByZXZpb3VzXCIsXG4gIHVzZUJyYW5jaFBpY2tlclByZXZpb3VzLFxuKTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VCcmFuY2hQaWNrZXJDb3VudCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlckNvdW50XCI7XG5cbmV4cG9ydCB0eXBlIEJyYW5jaFBpY2tlclByaW1pdGl2ZUNvdW50UHJvcHMgPSB7fTtcblxuZXhwb3J0IGNvbnN0IEJyYW5jaFBpY2tlclByaW1pdGl2ZUNvdW50OiBGQzxcbiAgQnJhbmNoUGlja2VyUHJpbWl0aXZlQ291bnRQcm9wc1xuPiA9ICgpID0+IHtcbiAgY29uc3QgYnJhbmNoQ291bnQgPSB1c2VCcmFuY2hQaWNrZXJDb3VudCgpO1xuICByZXR1cm4gPD57YnJhbmNoQ291bnR9PC8+O1xufTtcblxuQnJhbmNoUGlja2VyUHJpbWl0aXZlQ291bnQuZGlzcGxheU5hbWUgPSBcIkJyYW5jaFBpY2tlclByaW1pdGl2ZS5Db3VudFwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUJyYW5jaFBpY2tlck51bWJlciB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlck51bWJlclwiO1xuXG5leHBvcnQgdHlwZSBCcmFuY2hQaWNrZXJQcmltaXRpdmVOdW1iZXJQcm9wcyA9IHt9O1xuXG5leHBvcnQgY29uc3QgQnJhbmNoUGlja2VyUHJpbWl0aXZlTnVtYmVyOiBGQzxcbiAgQnJhbmNoUGlja2VyUHJpbWl0aXZlTnVtYmVyUHJvcHNcbj4gPSAoKSA9PiB7XG4gIGNvbnN0IGJyYW5jaE51bWJlciA9IHVzZUJyYW5jaFBpY2tlck51bWJlcigpO1xuICByZXR1cm4gPD57YnJhbmNoTnVtYmVyfTwvPjtcbn07XG5cbkJyYW5jaFBpY2tlclByaW1pdGl2ZU51bWJlci5kaXNwbGF5TmFtZSA9IFwiQnJhbmNoUGlja2VyUHJpbWl0aXZlLk51bWJlclwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB0eXBlIEVsZW1lbnRSZWYsIGZvcndhcmRSZWYsIENvbXBvbmVudFByb3BzV2l0aG91dFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSWYgfSBmcm9tIFwiLi4vbWVzc2FnZVwiO1xuXG50eXBlIEJyYW5jaFBpY2tlclByaW1pdGl2ZVJvb3RFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG50eXBlIFByaW1pdGl2ZURpdlByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcblxuZXhwb3J0IHR5cGUgQnJhbmNoUGlja2VyUHJpbWl0aXZlUm9vdFByb3BzID0gUHJpbWl0aXZlRGl2UHJvcHMgJiB7XG4gIGhpZGVXaGVuU2luZ2xlQnJhbmNoPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBCcmFuY2hQaWNrZXJQcmltaXRpdmVSb290ID0gZm9yd2FyZFJlZjxcbiAgQnJhbmNoUGlja2VyUHJpbWl0aXZlUm9vdEVsZW1lbnQsXG4gIEJyYW5jaFBpY2tlclByaW1pdGl2ZVJvb3RQcm9wc1xuPigoeyBoaWRlV2hlblNpbmdsZUJyYW5jaCwgLi4ucmVzdCB9LCByZWYpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8SWYgaGFzQnJhbmNoZXM9e2hpZGVXaGVuU2luZ2xlQnJhbmNoID8gdHJ1ZSA6IHVuZGVmaW5lZH0+XG4gICAgICA8UHJpbWl0aXZlLmRpdiB7Li4ucmVzdH0gcmVmPXtyZWZ9IC8+XG4gICAgPC9JZj5cbiAgKTtcbn0pO1xuXG5CcmFuY2hQaWNrZXJQcmltaXRpdmVSb290LmRpc3BsYXlOYW1lID0gXCJCcmFuY2hQaWNrZXJQcmltaXRpdmUuUm9vdFwiO1xuIiwiZXhwb3J0IHsgTWVzc2FnZVByaW1pdGl2ZVJvb3QgYXMgUm9vdCB9IGZyb20gXCIuL01lc3NhZ2VSb290XCI7XG5leHBvcnQgeyBNZXNzYWdlUHJpbWl0aXZlSWYgYXMgSWYgfSBmcm9tIFwiLi9NZXNzYWdlSWZcIjtcbmV4cG9ydCB7IE1lc3NhZ2VQcmltaXRpdmVDb250ZW50IGFzIENvbnRlbnQgfSBmcm9tIFwiLi9NZXNzYWdlQ29udGVudFwiO1xuZXhwb3J0IHsgTWVzc2FnZVByaW1pdGl2ZUluUHJvZ3Jlc3MgYXMgSW5Qcm9ncmVzcyB9IGZyb20gXCIuL01lc3NhZ2VJblByb2dyZXNzXCI7XG5leHBvcnQgeyBNZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHMgYXMgQXR0YWNobWVudHMgfSBmcm9tIFwiLi9NZXNzYWdlQXR0YWNobWVudHNcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHtcbiAgdHlwZSBFbGVtZW50UmVmLFxuICBmb3J3YXJkUmVmLFxuICBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYsXG4gIHVzZUNhbGxiYWNrLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2VDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcbmltcG9ydCB7IHVzZU1hbmFnZWRSZWYgfSBmcm9tIFwiLi4vLi4vdXRpbHMvaG9va3MvdXNlTWFuYWdlZFJlZlwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcblxudHlwZSBNZXNzYWdlUHJpbWl0aXZlUm9vdEVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbnR5cGUgUHJpbWl0aXZlRGl2UHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuXG5jb25zdCB1c2VJc0hvdmVyaW5nUmVmID0gKCkgPT4ge1xuICBjb25zdCB7IHVzZU1lc3NhZ2VVdGlscyB9ID0gdXNlTWVzc2FnZUNvbnRleHQoKTtcblxuICBjb25zdCBjYWxsYmFja1JlZiA9IHVzZUNhbGxiYWNrKFxuICAgIChlbDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHNldElzSG92ZXJpbmcgPSB1c2VNZXNzYWdlVXRpbHMuZ2V0U3RhdGUoKS5zZXRJc0hvdmVyaW5nO1xuXG4gICAgICBjb25zdCBoYW5kbGVNb3VzZUVudGVyID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0hvdmVyaW5nKHRydWUpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgIHNldElzSG92ZXJpbmcoZmFsc2UpO1xuICAgICAgfTtcblxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgaGFuZGxlTW91c2VFbnRlcik7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBoYW5kbGVNb3VzZUxlYXZlKTtcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgaGFuZGxlTW91c2VFbnRlcik7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGhhbmRsZU1vdXNlTGVhdmUpO1xuICAgICAgICBzZXRJc0hvdmVyaW5nKGZhbHNlKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBbdXNlTWVzc2FnZVV0aWxzXSxcbiAgKTtcblxuICByZXR1cm4gdXNlTWFuYWdlZFJlZihjYWxsYmFja1JlZik7XG59O1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlUHJpbWl0aXZlUm9vdFByb3BzID0gUHJpbWl0aXZlRGl2UHJvcHM7XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlUHJpbWl0aXZlUm9vdCA9IGZvcndhcmRSZWY8XG4gIE1lc3NhZ2VQcmltaXRpdmVSb290RWxlbWVudCxcbiAgTWVzc2FnZVByaW1pdGl2ZVJvb3RQcm9wc1xuPigoeyBvbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZSwgLi4ucmVzdCB9LCBmb3J3YXJkUmVmKSA9PiB7XG4gIGNvbnN0IGlzSG92ZXJpbmdSZWYgPSB1c2VJc0hvdmVyaW5nUmVmKCk7XG4gIGNvbnN0IHJlZiA9IHVzZUNvbXBvc2VkUmVmczxIVE1MRGl2RWxlbWVudD4oZm9yd2FyZFJlZiwgaXNIb3ZlcmluZ1JlZik7XG5cbiAgcmV0dXJuIDxQcmltaXRpdmUuZGl2IHsuLi5yZXN0fSByZWY9e3JlZn0gLz47XG59KTtcblxuTWVzc2FnZVByaW1pdGl2ZVJvb3QuZGlzcGxheU5hbWUgPSBcIk1lc3NhZ2VQcmltaXRpdmUuUm9vdFwiO1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY29uc3QgdXNlTWFuYWdlZFJlZiA9IDxUTm9kZT4oXG4gIGNhbGxiYWNrOiAobm9kZTogVE5vZGUpID0+ICgoKSA9PiB2b2lkKSB8IHZvaWQsXG4pID0+IHtcbiAgY29uc3QgY2xlYW51cFJlZiA9IHVzZVJlZjwoKCkgPT4gdm9pZCkgfCB2b2lkPigpO1xuXG4gIGNvbnN0IHJlZiA9IHVzZUNhbGxiYWNrKFxuICAgIChlbDogVE5vZGUgfCBudWxsKSA9PiB7XG4gICAgICAvLyBDYWxsIHRoZSBwcmV2aW91cyBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgICBpZiAoY2xlYW51cFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFudXBSZWYuY3VycmVudCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxsIHRoZSBuZXcgY2FsbGJhY2sgYW5kIHN0b3JlIGl0cyBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgY2xlYW51cFJlZi5jdXJyZW50ID0gY2FsbGJhY2soZWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2NhbGxiYWNrXSxcbiAgKTtcblxuICByZXR1cm4gcmVmO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgVXNlTWVzc2FnZUlmUHJvcHMsXG4gIHVzZU1lc3NhZ2VJZixcbn0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9tZXNzYWdlL3VzZU1lc3NhZ2VJZlwiO1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlUHJpbWl0aXZlSWZQcm9wcyA9IFByb3BzV2l0aENoaWxkcmVuPFVzZU1lc3NhZ2VJZlByb3BzPjtcblxuZXhwb3J0IGNvbnN0IE1lc3NhZ2VQcmltaXRpdmVJZjogRkM8TWVzc2FnZVByaW1pdGl2ZUlmUHJvcHM+ID0gKHtcbiAgY2hpbGRyZW4sXG4gIC4uLnF1ZXJ5XG59KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZU1lc3NhZ2VJZihxdWVyeSk7XG4gIHJldHVybiByZXN1bHQgPyBjaGlsZHJlbiA6IG51bGw7XG59O1xuXG5NZXNzYWdlUHJpbWl0aXZlSWYuZGlzcGxheU5hbWUgPSBcIk1lc3NhZ2VQcmltaXRpdmUuSWZcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB0eXBlIENvbXBvbmVudFR5cGUsIHR5cGUgRkMsIG1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIHVzZUFzc2lzdGFudENvbnRleHQsXG4gIHVzZUNvbnRlbnRQYXJ0Q29udGV4dCxcbiAgdXNlVGhyZWFkQ29udGV4dCxcbn0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2VDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcbmltcG9ydCB7XG4gIENvbnRlbnRQYXJ0UHJvdmlkZXIsXG4gIEVNUFRZX0NPTlRFTlQsXG59IGZyb20gXCIuLi8uLi9jb250ZXh0L3Byb3ZpZGVycy9Db250ZW50UGFydFByb3ZpZGVyXCI7XG5pbXBvcnQgeyBDb250ZW50UGFydFByaW1pdGl2ZVRleHQgfSBmcm9tIFwiLi4vY29udGVudFBhcnQvQ29udGVudFBhcnRUZXh0XCI7XG5pbXBvcnQgeyBDb250ZW50UGFydFByaW1pdGl2ZUltYWdlIH0gZnJvbSBcIi4uL2NvbnRlbnRQYXJ0L0NvbnRlbnRQYXJ0SW1hZ2VcIjtcbmltcG9ydCB7IENvbnRlbnRQYXJ0UHJpbWl0aXZlRGlzcGxheSB9IGZyb20gXCIuLi9jb250ZW50UGFydC9Db250ZW50UGFydERpc3BsYXlcIjtcbmltcG9ydCB0eXBlIHtcbiAgSW1hZ2VDb250ZW50UGFydENvbXBvbmVudCxcbiAgVGV4dENvbnRlbnRQYXJ0Q29tcG9uZW50LFxuICBUb29sQ2FsbENvbnRlbnRQYXJ0Q29tcG9uZW50LFxuICBUb29sQ2FsbENvbnRlbnRQYXJ0UHJvcHMsXG4gIFVJQ29udGVudFBhcnRDb21wb25lbnQsXG59IGZyb20gXCIuLi8uLi90eXBlcy9Db250ZW50UGFydENvbXBvbmVudFR5cGVzXCI7XG5pbXBvcnQgeyBDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3MgfSBmcm9tIFwiLi4vY29udGVudFBhcnQvQ29udGVudFBhcnRJblByb2dyZXNzXCI7XG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2VQcmltaXRpdmVDb250ZW50UHJvcHMgPSB7XG4gIGNvbXBvbmVudHM/OlxuICAgIHwge1xuICAgICAgICBFbXB0eT86IFRleHRDb250ZW50UGFydENvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgVGV4dD86IFRleHRDb250ZW50UGFydENvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgSW1hZ2U/OiBJbWFnZUNvbnRlbnRQYXJ0Q29tcG9uZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICBVST86IFVJQ29udGVudFBhcnRDb21wb25lbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgIHRvb2xzPzpcbiAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgYnlfbmFtZT86XG4gICAgICAgICAgICAgICAgfCBSZWNvcmQ8c3RyaW5nLCBUb29sQ2FsbENvbnRlbnRQYXJ0Q29tcG9uZW50IHwgdW5kZWZpbmVkPlxuICAgICAgICAgICAgICAgIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICBGYWxsYmFjaz86IENvbXBvbmVudFR5cGU8VG9vbENhbGxDb250ZW50UGFydFByb3BzPiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB8IHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IFRvb2xVSURpc3BsYXkgPSAoe1xuICBVSSxcbiAgLi4ucHJvcHNcbn06IHtcbiAgVUk6IFRvb2xDYWxsQ29udGVudFBhcnRDb21wb25lbnQgfCB1bmRlZmluZWQ7XG59ICYgVG9vbENhbGxDb250ZW50UGFydFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgdXNlVG9vbFVJcyB9ID0gdXNlQXNzaXN0YW50Q29udGV4dCgpO1xuICBjb25zdCBSZW5kZXIgPSB1c2VUb29sVUlzKChzKSA9PiBzLmdldFRvb2xVSShwcm9wcy5wYXJ0LnRvb2xOYW1lKSkgPz8gVUk7XG4gIGlmICghUmVuZGVyKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIDxSZW5kZXIgey4uLnByb3BzfSAvPjtcbn07XG5cbmNvbnN0IGRlZmF1bHRDb21wb25lbnRzID0ge1xuICBUZXh0OiAoKSA9PiAoXG4gICAgPHAgc3R5bGU9e3sgd2hpdGVTcGFjZTogXCJwcmUtbGluZVwiIH19PlxuICAgICAgPENvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dCAvPlxuICAgICAgPENvbnRlbnRQYXJ0UHJpbWl0aXZlSW5Qcm9ncmVzcz5cbiAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udEZhbWlseTogXCJyZXZlcnRcIiB9fT57XCIgXFx1MjVDRlwifTwvc3Bhbj5cbiAgICAgIDwvQ29udGVudFBhcnRQcmltaXRpdmVJblByb2dyZXNzPlxuICAgIDwvcD5cbiAgKSxcbiAgSW1hZ2U6ICgpID0+IDxDb250ZW50UGFydFByaW1pdGl2ZUltYWdlIC8+LFxuICBVSTogKCkgPT4gPENvbnRlbnRQYXJ0UHJpbWl0aXZlRGlzcGxheSAvPixcbn0gc2F0aXNmaWVzIE1lc3NhZ2VQcmltaXRpdmVDb250ZW50UHJvcHNbXCJjb21wb25lbnRzXCJdO1xuXG50eXBlIE1lc3NhZ2VDb250ZW50UGFydENvbXBvbmVudFByb3BzID0ge1xuICBjb21wb25lbnRzOiBNZXNzYWdlUHJpbWl0aXZlQ29udGVudFByb3BzW1wiY29tcG9uZW50c1wiXTtcbn07XG5cbmNvbnN0IE1lc3NhZ2VDb250ZW50UGFydENvbXBvbmVudDogRkM8TWVzc2FnZUNvbnRlbnRQYXJ0Q29tcG9uZW50UHJvcHM+ID0gKHtcbiAgY29tcG9uZW50czoge1xuICAgIEVtcHR5ID0gZGVmYXVsdENvbXBvbmVudHMuVGV4dCxcbiAgICBUZXh0ID0gZGVmYXVsdENvbXBvbmVudHMuVGV4dCxcbiAgICBJbWFnZSA9IGRlZmF1bHRDb21wb25lbnRzLkltYWdlLFxuICAgIFVJID0gZGVmYXVsdENvbXBvbmVudHMuVUksXG4gICAgdG9vbHM6IHsgYnlfbmFtZSA9IHt9LCBGYWxsYmFjayA9IHVuZGVmaW5lZCB9ID0ge30sXG4gIH0gPSB7fSxcbn0pID0+IHtcbiAgY29uc3QgeyB1c2VUaHJlYWRBY3Rpb25zIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIGNvbnN0IHsgdXNlTWVzc2FnZSB9ID0gdXNlTWVzc2FnZUNvbnRleHQoKTtcbiAgY29uc3QgYWRkVG9vbFJlc3VsdCA9IHVzZVRocmVhZEFjdGlvbnMoKHQpID0+IHQuYWRkVG9vbFJlc3VsdCk7XG5cbiAgY29uc3QgeyB1c2VDb250ZW50UGFydCB9ID0gdXNlQ29udGVudFBhcnRDb250ZXh0KCk7XG4gIGNvbnN0IHsgcGFydCwgc3RhdHVzIH0gPSB1c2VDb250ZW50UGFydCgpO1xuXG4gIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICBpZiAoc3RhdHVzLnR5cGUgPT09IFwicmVxdWlyZXMtYWN0aW9uXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY291bnRlcmVkIHVuZXhwZWN0ZWQgcmVxdWlyZXMtYWN0aW9uIHN0YXR1c1wiKTtcbiAgICAgIGlmIChwYXJ0ID09PSBFTVBUWV9DT05URU5UKSByZXR1cm4gPEVtcHR5IHBhcnQ9e3BhcnR9IHN0YXR1cz17c3RhdHVzfSAvPjtcblxuICAgICAgcmV0dXJuIDxUZXh0IHBhcnQ9e3BhcnR9IHN0YXR1cz17c3RhdHVzfSAvPjtcblxuICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgaWYgKHN0YXR1cy50eXBlID09PSBcInJlcXVpcmVzLWFjdGlvblwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmNvdW50ZXJlZCB1bmV4cGVjdGVkIHJlcXVpcmVzLWFjdGlvbiBzdGF0dXNcIik7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYWx0LXRleHRcbiAgICAgIHJldHVybiA8SW1hZ2UgcGFydD17cGFydH0gc3RhdHVzPXtzdGF0dXN9IC8+O1xuXG4gICAgY2FzZSBcInVpXCI6XG4gICAgICBpZiAoc3RhdHVzLnR5cGUgPT09IFwicmVxdWlyZXMtYWN0aW9uXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY291bnRlcmVkIHVuZXhwZWN0ZWQgcmVxdWlyZXMtYWN0aW9uIHN0YXR1c1wiKTtcbiAgICAgIHJldHVybiA8VUkgcGFydD17cGFydH0gc3RhdHVzPXtzdGF0dXN9IC8+O1xuXG4gICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICBjb25zdCBUb29sID0gYnlfbmFtZVtwYXJ0LnRvb2xOYW1lXSB8fCBGYWxsYmFjaztcbiAgICAgIGNvbnN0IGFkZFJlc3VsdCA9IChyZXN1bHQ6IGFueSkgPT5cbiAgICAgICAgYWRkVG9vbFJlc3VsdCh7XG4gICAgICAgICAgbWVzc2FnZUlkOiB1c2VNZXNzYWdlLmdldFN0YXRlKCkubWVzc2FnZS5pZCxcbiAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICB9KTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxUb29sVUlEaXNwbGF5XG4gICAgICAgICAgVUk9e1Rvb2x9XG4gICAgICAgICAgcGFydD17cGFydH1cbiAgICAgICAgICBzdGF0dXM9e3N0YXR1c31cbiAgICAgICAgICBhZGRSZXN1bHQ9e2FkZFJlc3VsdH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zdCB1bmhhbmRsZWRUeXBlOiBuZXZlciA9IHR5cGU7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY29udGVudCBwYXJ0IHR5cGU6ICR7dW5oYW5kbGVkVHlwZX1gKTtcbiAgfVxufTtcblxudHlwZSBNZXNzYWdlQ29udGVudFBhcnRQcm9wcyA9IHtcbiAgcGFydEluZGV4OiBudW1iZXI7XG4gIGNvbXBvbmVudHM6IE1lc3NhZ2VQcmltaXRpdmVDb250ZW50UHJvcHNbXCJjb21wb25lbnRzXCJdO1xufTtcblxuY29uc3QgTWVzc2FnZUNvbnRlbnRQYXJ0SW1wbDogRkM8TWVzc2FnZUNvbnRlbnRQYXJ0UHJvcHM+ID0gKHtcbiAgcGFydEluZGV4LFxuICBjb21wb25lbnRzLFxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxDb250ZW50UGFydFByb3ZpZGVyIHBhcnRJbmRleD17cGFydEluZGV4fT5cbiAgICAgIDxNZXNzYWdlQ29udGVudFBhcnRDb21wb25lbnQgY29tcG9uZW50cz17Y29tcG9uZW50c30gLz5cbiAgICA8L0NvbnRlbnRQYXJ0UHJvdmlkZXI+XG4gICk7XG59O1xuXG5jb25zdCBNZXNzYWdlQ29udGVudFBhcnQgPSBtZW1vKFxuICBNZXNzYWdlQ29udGVudFBhcnRJbXBsLFxuICAocHJldiwgbmV4dCkgPT5cbiAgICBwcmV2LnBhcnRJbmRleCA9PT0gbmV4dC5wYXJ0SW5kZXggJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LlRleHQgPT09IG5leHQuY29tcG9uZW50cz8uVGV4dCAmJlxuICAgIHByZXYuY29tcG9uZW50cz8uSW1hZ2UgPT09IG5leHQuY29tcG9uZW50cz8uSW1hZ2UgJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LlVJID09PSBuZXh0LmNvbXBvbmVudHM/LlVJICYmXG4gICAgcHJldi5jb21wb25lbnRzPy50b29scyA9PT0gbmV4dC5jb21wb25lbnRzPy50b29scyxcbik7XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlUHJpbWl0aXZlQ29udGVudDogRkM8TWVzc2FnZVByaW1pdGl2ZUNvbnRlbnRQcm9wcz4gPSAoe1xuICBjb21wb25lbnRzLFxufSkgPT4ge1xuICBjb25zdCB7IHVzZU1lc3NhZ2UgfSA9IHVzZU1lc3NhZ2VDb250ZXh0KCk7XG5cbiAgY29uc3QgY29udGVudExlbmd0aCA9IHVzZU1lc3NhZ2UoKHMpID0+IHMubWVzc2FnZS5jb250ZW50Lmxlbmd0aCkgfHwgMTtcblxuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29udGVudExlbmd0aCB9LCAoXywgaW5kZXgpID0+IChcbiAgICA8TWVzc2FnZUNvbnRlbnRQYXJ0IGtleT17aW5kZXh9IHBhcnRJbmRleD17aW5kZXh9IGNvbXBvbmVudHM9e2NvbXBvbmVudHN9IC8+XG4gICkpO1xufTtcblxuTWVzc2FnZVByaW1pdGl2ZUNvbnRlbnQuZGlzcGxheU5hbWUgPSBcIk1lc3NhZ2VQcmltaXRpdmUuQ29udGVudFwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHR5cGUgRkMsIHR5cGUgUHJvcHNXaXRoQ2hpbGRyZW4sIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyBDb250ZW50UGFydENvbnRleHQgfSBmcm9tIFwiLi4vcmVhY3QvQ29udGVudFBhcnRDb250ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IENvbnRlbnRQYXJ0Q29udGV4dFZhbHVlIH0gZnJvbSBcIi4uL3JlYWN0L0NvbnRlbnRQYXJ0Q29udGV4dFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcbmltcG9ydCB0eXBlIHsgTWVzc2FnZVN0YXRlIH0gZnJvbSBcIi4uL3N0b3Jlc1wiO1xuaW1wb3J0IHR5cGUgeyBDb250ZW50UGFydFN0YXRlIH0gZnJvbSBcIi4uL3N0b3Jlcy9Db250ZW50UGFydFwiO1xuaW1wb3J0IHtcbiAgQ29udGVudFBhcnRTdGF0dXMsXG4gIFRocmVhZEFzc2lzdGFudENvbnRlbnRQYXJ0LFxuICBUaHJlYWRNZXNzYWdlLFxuICBUaHJlYWRVc2VyQ29udGVudFBhcnQsXG4gIFRvb2xDYWxsQ29udGVudFBhcnRTdGF0dXMsXG59IGZyb20gXCIuLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuaW1wb3J0IHsgd3JpdGFibGVTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5cbnR5cGUgQ29udGVudFBhcnRQcm92aWRlclByb3BzID0gUHJvcHNXaXRoQ2hpbGRyZW48e1xuICBwYXJ0SW5kZXg6IG51bWJlcjtcbn0+O1xuXG5jb25zdCBDT01QTEVURV9TVEFUVVM6IENvbnRlbnRQYXJ0U3RhdHVzID0ge1xuICB0eXBlOiBcImNvbXBsZXRlXCIsXG59O1xuXG5jb25zdCB0b0NvbnRlbnRQYXJ0U3RhdHVzID0gKFxuICBtZXNzYWdlOiBUaHJlYWRNZXNzYWdlLFxuICBwYXJ0SW5kZXg6IG51bWJlcixcbiAgcGFydDogVGhyZWFkVXNlckNvbnRlbnRQYXJ0IHwgVGhyZWFkQXNzaXN0YW50Q29udGVudFBhcnQsXG4pOiBUb29sQ2FsbENvbnRlbnRQYXJ0U3RhdHVzID0+IHtcbiAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIikgcmV0dXJuIENPTVBMRVRFX1NUQVRVUztcblxuICBjb25zdCBpc0xhc3RQYXJ0ID0gcGFydEluZGV4ID09PSBNYXRoLm1heCgwLCBtZXNzYWdlLmNvbnRlbnQubGVuZ3RoIC0gMSk7XG4gIGlmIChwYXJ0LnR5cGUgIT09IFwidG9vbC1jYWxsXCIpIHtcbiAgICBpZiAoXG4gICAgICBcInJlYXNvblwiIGluIG1lc3NhZ2Uuc3RhdHVzICYmXG4gICAgICBtZXNzYWdlLnN0YXR1cy5yZWFzb24gPT09IFwidG9vbC1jYWxsc1wiICYmXG4gICAgICBpc0xhc3RQYXJ0XG4gICAgKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkVuY291bnRlcmVkIHVuZXhwZWN0ZWQgcmVxdWlyZXMtYWN0aW9uIHN0YXR1cy4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICk7XG5cbiAgICByZXR1cm4gaXNMYXN0UGFydCA/IChtZXNzYWdlLnN0YXR1cyBhcyBDb250ZW50UGFydFN0YXR1cykgOiBDT01QTEVURV9TVEFUVVM7XG4gIH1cblxuICBpZiAoISFwYXJ0LnJlc3VsdCkge1xuICAgIHJldHVybiBDT01QTEVURV9TVEFUVVM7XG4gIH1cblxuICByZXR1cm4gbWVzc2FnZS5zdGF0dXMgYXMgVG9vbENhbGxDb250ZW50UGFydFN0YXR1cztcbn07XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9DT05URU5UID0gT2JqZWN0LmZyZWV6ZSh7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlwiIH0pO1xuXG5jb25zdCBnZXRDb250ZW50UGFydFN0YXRlID0gKFxuICB7IG1lc3NhZ2UgfTogTWVzc2FnZVN0YXRlLFxuICB1c2VDb250ZW50UGFydDogQ29udGVudFBhcnRDb250ZXh0VmFsdWVbXCJ1c2VDb250ZW50UGFydFwiXSB8IHVuZGVmaW5lZCxcbiAgcGFydEluZGV4OiBudW1iZXIsXG4pID0+IHtcbiAgbGV0IHBhcnQgPSBtZXNzYWdlLmNvbnRlbnRbcGFydEluZGV4XTtcbiAgaWYgKCFwYXJ0KSB7XG4gICAgLy8gZm9yIGVtcHR5IG1lc3NhZ2VzLCBzaG93IGFuIGVtcHR5IHRleHQgY29udGVudCBwYXJ0XG4gICAgaWYgKG1lc3NhZ2UuY29udGVudC5sZW5ndGggPT09IDAgJiYgcGFydEluZGV4ID09PSAwKSB7XG4gICAgICBwYXJ0ID0gRU1QVFlfQ09OVEVOVDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIGNvbnRlbnQgcGFydCBpcyB0aGUgc2FtZSwgZG9uJ3QgdXBkYXRlXG4gIGNvbnN0IHN0YXR1cyA9IHRvQ29udGVudFBhcnRTdGF0dXMobWVzc2FnZSwgcGFydEluZGV4LCBwYXJ0KTtcbiAgY29uc3QgY3VycmVudFN0YXRlID0gdXNlQ29udGVudFBhcnQ/LmdldFN0YXRlKCk7XG4gIGlmIChcbiAgICBjdXJyZW50U3RhdGUgJiZcbiAgICBjdXJyZW50U3RhdGUucGFydCA9PT0gcGFydCAmJlxuICAgIGN1cnJlbnRTdGF0ZS5zdGF0dXMgPT09IHN0YXR1c1xuICApXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyBwYXJ0LCBzdGF0dXMgfSk7XG59O1xuXG5jb25zdCB1c2VDb250ZW50UGFydENvbnRleHQgPSAocGFydEluZGV4OiBudW1iZXIpID0+IHtcbiAgY29uc3QgeyB1c2VNZXNzYWdlIH0gPSB1c2VNZXNzYWdlQ29udGV4dCgpO1xuICBjb25zdCBbY29udGV4dF0gPSB1c2VTdGF0ZTxDb250ZW50UGFydENvbnRleHRWYWx1ZT4oKCkgPT4ge1xuICAgIGNvbnN0IHVzZUNvbnRlbnRQYXJ0ID0gY3JlYXRlPENvbnRlbnRQYXJ0U3RhdGU+KFxuICAgICAgKCkgPT4gZ2V0Q29udGVudFBhcnRTdGF0ZSh1c2VNZXNzYWdlLmdldFN0YXRlKCksIHVuZGVmaW5lZCwgcGFydEluZGV4KSEsXG4gICAgKTtcblxuICAgIHJldHVybiB7IHVzZUNvbnRlbnRQYXJ0IH07XG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3luY0NvbnRlbnRQYXJ0ID0gKG1lc3NhZ2U6IE1lc3NhZ2VTdGF0ZSkgPT4ge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSBnZXRDb250ZW50UGFydFN0YXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBjb250ZXh0LnVzZUNvbnRlbnRQYXJ0LFxuICAgICAgICBwYXJ0SW5kZXgsXG4gICAgICApO1xuICAgICAgaWYgKCFuZXdTdGF0ZSkgcmV0dXJuO1xuICAgICAgd3JpdGFibGVTdG9yZShjb250ZXh0LnVzZUNvbnRlbnRQYXJ0KS5zZXRTdGF0ZShuZXdTdGF0ZSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIHN5bmNDb250ZW50UGFydCh1c2VNZXNzYWdlLmdldFN0YXRlKCkpO1xuICAgIHJldHVybiB1c2VNZXNzYWdlLnN1YnNjcmliZShzeW5jQ29udGVudFBhcnQpO1xuICB9LCBbY29udGV4dCwgdXNlTWVzc2FnZSwgcGFydEluZGV4XSk7XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG5leHBvcnQgY29uc3QgQ29udGVudFBhcnRQcm92aWRlcjogRkM8Q29udGVudFBhcnRQcm92aWRlclByb3BzPiA9ICh7XG4gIHBhcnRJbmRleCxcbiAgY2hpbGRyZW4sXG59KSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZW50UGFydENvbnRleHQocGFydEluZGV4KTtcblxuICByZXR1cm4gKFxuICAgIDxDb250ZW50UGFydENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQ29udGVudFBhcnRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHtcbiAgdHlwZSBFbGVtZW50UmVmLFxuICBmb3J3YXJkUmVmLFxuICBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYsXG4gIEVsZW1lbnRUeXBlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRlbnRQYXJ0VGV4dCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvY29udGVudFBhcnQvdXNlQ29udGVudFBhcnRUZXh0XCI7XG5pbXBvcnQgeyB1c2VTbW9vdGggfSBmcm9tIFwiLi4vLi4vdXRpbHMvc21vb3RoL3VzZVNtb290aFwiO1xuXG50eXBlIENvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dEVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuc3Bhbj47XG50eXBlIFByaW1pdGl2ZVNwYW5Qcm9wcyA9IENvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUHJpbWl0aXZlLnNwYW4+O1xuXG5leHBvcnQgdHlwZSBDb250ZW50UGFydFByaW1pdGl2ZVRleHRQcm9wcyA9IE9taXQ8XG4gIFByaW1pdGl2ZVNwYW5Qcm9wcyxcbiAgXCJjaGlsZHJlblwiIHwgXCJhc0NoaWxkXCJcbj4gJiB7XG4gIHNtb290aD86IGJvb2xlYW47XG4gIGNvbXBvbmVudD86IEVsZW1lbnRUeXBlO1xufTtcblxuZXhwb3J0IGNvbnN0IENvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dCA9IGZvcndhcmRSZWY8XG4gIENvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dEVsZW1lbnQsXG4gIENvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dFByb3BzXG4+KCh7IHNtb290aCA9IHRydWUsIGNvbXBvbmVudDogQ29tcG9uZW50ID0gXCJzcGFuXCIsIC4uLnJlc3QgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwYXJ0OiB7IHRleHQgfSxcbiAgICBzdGF0dXMsXG4gIH0gPSB1c2VTbW9vdGgodXNlQ29udGVudFBhcnRUZXh0KCksIHNtb290aCk7XG5cbiAgcmV0dXJuIChcbiAgICA8Q29tcG9uZW50IGRhdGEtc3RhdHVzPXtzdGF0dXMudHlwZX0gey4uLnJlc3R9IHJlZj17Zm9yd2FyZGVkUmVmfT5cbiAgICAgIHt0ZXh0fVxuICAgIDwvQ29tcG9uZW50PlxuICApO1xufSk7XG5cbkNvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dC5kaXNwbGF5TmFtZSA9IFwiQ29udGVudFBhcnRQcmltaXRpdmUuVGV4dFwiO1xuIiwiaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IHR5cGUgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiwgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb250ZW50UGFydEltYWdlIH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9jb250ZW50UGFydC91c2VDb250ZW50UGFydEltYWdlXCI7XG5cbnR5cGUgQ29udGVudFBhcnRQcmltaXRpdmVJbWFnZUVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuaW1nPjtcbnR5cGUgUHJpbWl0aXZlSW1hZ2VQcm9wcyA9IENvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUHJpbWl0aXZlLmltZz47XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRQYXJ0UHJpbWl0aXZlSW1hZ2VQcm9wcyA9IFByaW1pdGl2ZUltYWdlUHJvcHM7XG5cbmV4cG9ydCBjb25zdCBDb250ZW50UGFydFByaW1pdGl2ZUltYWdlID0gZm9yd2FyZFJlZjxcbiAgQ29udGVudFBhcnRQcmltaXRpdmVJbWFnZUVsZW1lbnQsXG4gIENvbnRlbnRQYXJ0UHJpbWl0aXZlSW1hZ2VQcm9wc1xuPigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgcGFydDogeyBpbWFnZSB9LFxuICB9ID0gdXNlQ29udGVudFBhcnRJbWFnZSgpO1xuICByZXR1cm4gPFByaW1pdGl2ZS5pbWcgc3JjPXtpbWFnZX0gey4uLnByb3BzfSByZWY9e2ZvcndhcmRlZFJlZn0gLz47XG59KTtcblxuQ29udGVudFBhcnRQcmltaXRpdmVJbWFnZS5kaXNwbGF5TmFtZSA9IFwiQ29udGVudFBhcnRQcmltaXRpdmUuSW1hZ2VcIjtcbiIsImltcG9ydCB0eXBlIHsgRkMgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRlbnRQYXJ0RGlzcGxheSB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvY29udGVudFBhcnQvdXNlQ29udGVudFBhcnREaXNwbGF5XCI7XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRQYXJ0UHJpbWl0aXZlRGlzcGxheVByb3BzID0ge307XG5cbmV4cG9ydCBjb25zdCBDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXk6IEZDPFxuICBDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXlQcm9wc1xuPiA9ICgpID0+IHtcbiAgY29uc3Qge1xuICAgIHBhcnQ6IHsgZGlzcGxheSB9LFxuICB9ID0gdXNlQ29udGVudFBhcnREaXNwbGF5KCk7XG4gIHJldHVybiBkaXNwbGF5ID8/IG51bGw7XG59O1xuXG5Db250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkuZGlzcGxheU5hbWUgPSBcIkNvbnRlbnRQYXJ0UHJpbWl0aXZlLkRpc3BsYXlcIjtcbiIsImltcG9ydCB7IEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udGVudFBhcnRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcblxuZXhwb3J0IHR5cGUgQ29udGVudFBhcnRQcmltaXRpdmVJblByb2dyZXNzUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjtcblxuLy8gVE9ETyBzaG91bGQgdGhpcyBiZSByZW5hbWVkIHRvIElzUnVubmluZz9cbmV4cG9ydCBjb25zdCBDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3M6IEZDPFxuICBDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3NQcm9wc1xuPiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgeyB1c2VDb250ZW50UGFydCB9ID0gdXNlQ29udGVudFBhcnRDb250ZXh0KCk7XG4gIGNvbnN0IGlzSW5Qcm9ncmVzcyA9IHVzZUNvbnRlbnRQYXJ0KChjKSA9PiBjLnN0YXR1cy50eXBlID09PSBcInJ1bm5pbmdcIik7XG5cbiAgcmV0dXJuIGlzSW5Qcm9ncmVzcyA/IGNoaWxkcmVuIDogbnVsbDtcbn07XG5cbkNvbnRlbnRQYXJ0UHJpbWl0aXZlSW5Qcm9ncmVzcy5kaXNwbGF5TmFtZSA9IFwiQ29udGVudFBhcnRQcmltaXRpdmUuSW5Qcm9ncmVzc1wiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYsIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbnR5cGUgUHJpbWl0aXZlU3BhblByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuc3Bhbj47XG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2VQcmltaXRpdmVJblByb2dyZXNzUHJvcHMgPSBQcmltaXRpdmVTcGFuUHJvcHM7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgRGVmaW5lIGEgY3VzdG9tIFRleHQgcmVuZGVyZXIgdmlhIENvbnRlbnRQYXJ0UHJpbWl0aXZlSW5Qcm9ncmVzcyBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgTWVzc2FnZVByaW1pdGl2ZUluUHJvZ3Jlc3M6IEZDPFxuICBNZXNzYWdlUHJpbWl0aXZlSW5Qcm9ncmVzc1Byb3BzXG4+ID0gKCkgPT4ge1xuICByZXR1cm4gbnVsbDtcbn07XG5cbk1lc3NhZ2VQcmltaXRpdmVJblByb2dyZXNzLmRpc3BsYXlOYW1lID0gXCJNZXNzYWdlUHJpbWl0aXZlLkluUHJvZ3Jlc3NcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRUeXBlLCB0eXBlIEZDLCBtZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VNZXNzYWdlQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VBdHRhY2htZW50Q29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L0F0dGFjaG1lbnRDb250ZXh0XCI7XG5pbXBvcnQgeyBNZXNzYWdlQXR0YWNobWVudFByb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcHJvdmlkZXJzL01lc3NhZ2VBdHRhY2htZW50UHJvdmlkZXJcIjtcbmltcG9ydCB0eXBlIHsgTWVzc2FnZUF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9zdG9yZXMvQXR0YWNobWVudFwiO1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHNQcm9wcyA9IHtcbiAgY29tcG9uZW50czpcbiAgICB8IHtcbiAgICAgICAgSW1hZ2U/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICBEb2N1bWVudD86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIEZpbGU/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICBBdHRhY2htZW50PzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB8IHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IGdldENvbXBvbmVudCA9IChcbiAgY29tcG9uZW50czogTWVzc2FnZVByaW1pdGl2ZUF0dGFjaG1lbnRzUHJvcHNbXCJjb21wb25lbnRzXCJdLFxuICBhdHRhY2htZW50OiBNZXNzYWdlQXR0YWNobWVudCxcbikgPT4ge1xuICBjb25zdCB0eXBlID0gYXR0YWNobWVudC50eXBlO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgIHJldHVybiBjb21wb25lbnRzPy5JbWFnZSA/PyBjb21wb25lbnRzPy5BdHRhY2htZW50O1xuICAgIGNhc2UgXCJkb2N1bWVudFwiOlxuICAgICAgcmV0dXJuIGNvbXBvbmVudHM/LkRvY3VtZW50ID8/IGNvbXBvbmVudHM/LkF0dGFjaG1lbnQ7XG4gICAgY2FzZSBcImZpbGVcIjpcbiAgICAgIHJldHVybiBjb21wb25lbnRzPy5GaWxlID8/IGNvbXBvbmVudHM/LkF0dGFjaG1lbnQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gdHlwZTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBhdHRhY2htZW50IHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgfVxufTtcblxuY29uc3QgQXR0YWNobWVudENvbXBvbmVudDogRkM8e1xuICBjb21wb25lbnRzOiBNZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHNQcm9wc1tcImNvbXBvbmVudHNcIl07XG59PiA9ICh7IGNvbXBvbmVudHMgfSkgPT4ge1xuICBjb25zdCB7IHVzZUF0dGFjaG1lbnQgfSA9IHVzZUF0dGFjaG1lbnRDb250ZXh0KHsgdHlwZTogXCJtZXNzYWdlXCIgfSk7XG4gIGNvbnN0IENvbXBvbmVudCA9IHVzZUF0dGFjaG1lbnQoKGEpID0+XG4gICAgZ2V0Q29tcG9uZW50KGNvbXBvbmVudHMsIGEuYXR0YWNobWVudCksXG4gICk7XG5cbiAgaWYgKCFDb21wb25lbnQpIHJldHVybiBudWxsO1xuICByZXR1cm4gPENvbXBvbmVudCAvPjtcbn07XG5cbmNvbnN0IE1lc3NhZ2VBdHRhY2htZW50SW1wbDogRkM8XG4gIE1lc3NhZ2VQcmltaXRpdmVBdHRhY2htZW50c1Byb3BzICYgeyBhdHRhY2htZW50SW5kZXg6IG51bWJlciB9XG4+ID0gKHsgY29tcG9uZW50cywgYXR0YWNobWVudEluZGV4IH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZUF0dGFjaG1lbnRQcm92aWRlciBhdHRhY2htZW50SW5kZXg9e2F0dGFjaG1lbnRJbmRleH0+XG4gICAgICA8QXR0YWNobWVudENvbXBvbmVudCBjb21wb25lbnRzPXtjb21wb25lbnRzfSAvPlxuICAgIDwvTWVzc2FnZUF0dGFjaG1lbnRQcm92aWRlcj5cbiAgKTtcbn07XG5cbmNvbnN0IE1lc3NhZ2VBdHRhY2htZW50ID0gbWVtbyhcbiAgTWVzc2FnZUF0dGFjaG1lbnRJbXBsLFxuICAocHJldiwgbmV4dCkgPT5cbiAgICBwcmV2LmF0dGFjaG1lbnRJbmRleCA9PT0gbmV4dC5hdHRhY2htZW50SW5kZXggJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LkltYWdlID09PSBuZXh0LmNvbXBvbmVudHM/LkltYWdlICYmXG4gICAgcHJldi5jb21wb25lbnRzPy5Eb2N1bWVudCA9PT0gbmV4dC5jb21wb25lbnRzPy5Eb2N1bWVudCAmJlxuICAgIHByZXYuY29tcG9uZW50cz8uRmlsZSA9PT0gbmV4dC5jb21wb25lbnRzPy5GaWxlICYmXG4gICAgcHJldi5jb21wb25lbnRzPy5BdHRhY2htZW50ID09PSBuZXh0LmNvbXBvbmVudHM/LkF0dGFjaG1lbnQsXG4pO1xuXG5leHBvcnQgY29uc3QgTWVzc2FnZVByaW1pdGl2ZUF0dGFjaG1lbnRzOiBGQzxcbiAgTWVzc2FnZVByaW1pdGl2ZUF0dGFjaG1lbnRzUHJvcHNcbj4gPSAoeyBjb21wb25lbnRzIH0pID0+IHtcbiAgY29uc3QgeyB1c2VNZXNzYWdlIH0gPSB1c2VNZXNzYWdlQ29udGV4dCgpO1xuICBjb25zdCBhdHRhY2htZW50c0NvdW50ID0gdXNlTWVzc2FnZSgoeyBtZXNzYWdlIH0pID0+IHtcbiAgICBpZiAobWVzc2FnZS5yb2xlICE9PSBcInVzZXJcIikgcmV0dXJuIDA7XG4gICAgcmV0dXJuIG1lc3NhZ2UuYXR0YWNobWVudHMubGVuZ3RoO1xuICB9KTtcblxuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogYXR0YWNobWVudHNDb3VudCB9LCAoXywgaW5kZXgpID0+IChcbiAgICA8TWVzc2FnZUF0dGFjaG1lbnRcbiAgICAgIGtleT17aW5kZXh9XG4gICAgICBhdHRhY2htZW50SW5kZXg9e2luZGV4fVxuICAgICAgY29tcG9uZW50cz17Y29tcG9uZW50c31cbiAgICAvPlxuICApKTtcbn07XG5cbk1lc3NhZ2VQcmltaXRpdmVBdHRhY2htZW50cy5kaXNwbGF5TmFtZSA9IFwiTWVzc2FnZVByaW1pdGl2ZS5BdHRhY2htZW50c1wiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuaW1wb3J0IHtcbiAgQ29tcG9zZXJBdHRhY2htZW50U3RhdGUsXG4gIE1lc3NhZ2VBdHRhY2htZW50U3RhdGUsXG59IGZyb20gXCIuLi9zdG9yZXMvQXR0YWNobWVudFwiO1xuXG5leHBvcnQgdHlwZSBBdHRhY2htZW50Q29udGV4dFZhbHVlID0ge1xuICB0eXBlOiBcImNvbXBvc2VyXCIgfCBcIm1lc3NhZ2VcIjtcbiAgdXNlQXR0YWNobWVudDogUmVhZG9ubHlTdG9yZTxcbiAgICBDb21wb3NlckF0dGFjaG1lbnRTdGF0ZSB8IE1lc3NhZ2VBdHRhY2htZW50U3RhdGVcbiAgPjtcbn07XG5cbnR5cGUgQ29tcG9zZXJBdHRhY2htZW50Q29udGV4dFZhbHVlID0ge1xuICB0eXBlOiBcImNvbXBvc2VyXCI7XG4gIHVzZUF0dGFjaG1lbnQ6IFJlYWRvbmx5U3RvcmU8Q29tcG9zZXJBdHRhY2htZW50U3RhdGU+O1xufTtcblxudHlwZSBNZXNzYWdlQXR0YWNobWVudENvbnRleHRWYWx1ZSA9IHtcbiAgdHlwZTogXCJtZXNzYWdlXCI7XG4gIHVzZUF0dGFjaG1lbnQ6IFJlYWRvbmx5U3RvcmU8TWVzc2FnZUF0dGFjaG1lbnRTdGF0ZT47XG59O1xuXG5leHBvcnQgY29uc3QgQXR0YWNobWVudENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF0dGFjaG1lbnRDb250ZXh0VmFsdWUgfCBudWxsPihcbiAgbnVsbCxcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VBdHRhY2htZW50Q29udGV4dCgpOiBBdHRhY2htZW50Q29udGV4dFZhbHVlO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUF0dGFjaG1lbnRDb250ZXh0KG9wdGlvbnM6IHtcbiAgdHlwZTogXCJjb21wb3NlclwiO1xufSk6IENvbXBvc2VyQXR0YWNobWVudENvbnRleHRWYWx1ZTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VBdHRhY2htZW50Q29udGV4dChvcHRpb25zOiB7XG4gIHR5cGU6IFwibWVzc2FnZVwiO1xufSk6IE1lc3NhZ2VBdHRhY2htZW50Q29udGV4dFZhbHVlO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUF0dGFjaG1lbnRDb250ZXh0KG9wdGlvbnM6IHtcbiAgb3B0aW9uYWw6IHRydWU7XG59KTogQXR0YWNobWVudENvbnRleHRWYWx1ZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gdXNlQXR0YWNobWVudENvbnRleHQob3B0aW9ucz86IHtcbiAgdHlwZT86IEF0dGFjaG1lbnRDb250ZXh0VmFsdWVbXCJ0eXBlXCJdO1xuICBvcHRpb25hbD86IHRydWU7XG59KSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF0dGFjaG1lbnRDb250ZXh0KTtcbiAgaWYgKG9wdGlvbnM/LnR5cGUgPT09IFwiY29tcG9zZXJcIiAmJiBjb250ZXh0Py50eXBlICE9PSBcImNvbXBvc2VyXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGlzIGNvbXBvbmVudCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQ29tcG9zZXJQcmltaXRpdmUuQXR0YWNobWVudHMgY29tcG9uZW50LlwiLFxuICAgICk7XG4gIGlmIChvcHRpb25zPy50eXBlID09PSBcIm1lc3NhZ2VcIiAmJiBjb250ZXh0Py50eXBlICE9PSBcIm1lc3NhZ2VcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRoaXMgY29tcG9uZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBNZXNzYWdlUHJpbWl0aXZlLkF0dGFjaG1lbnRzIGNvbXBvbmVudC5cIixcbiAgICApO1xuICBpZiAoIW9wdGlvbnM/Lm9wdGlvbmFsICYmICFjb250ZXh0KVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhpcyBjb21wb25lbnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIENvbXBvc2VyUHJpbWl0aXZlLkF0dGFjaG1lbnRzIG9yIE1lc3NhZ2VQcmltaXRpdmUuQXR0YWNobWVudHMgY29tcG9uZW50LlwiLFxuICAgICk7XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdHlwZSBGQywgdHlwZSBQcm9wc1dpdGhDaGlsZHJlbiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB0eXBlIHsgTWVzc2FnZVN0YXRlIH0gZnJvbSBcIi4uL3N0b3Jlc1wiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vcmVhY3RcIjtcbmltcG9ydCB7IE1lc3NhZ2VBdHRhY2htZW50U3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL0F0dGFjaG1lbnRcIjtcbmltcG9ydCB7XG4gIEF0dGFjaG1lbnRDb250ZXh0LFxuICBBdHRhY2htZW50Q29udGV4dFZhbHVlLFxufSBmcm9tIFwiLi4vcmVhY3QvQXR0YWNobWVudENvbnRleHRcIjtcbmltcG9ydCB7IHdyaXRhYmxlU3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuXG50eXBlIE1lc3NhZ2VBdHRhY2htZW50UHJvdmlkZXJQcm9wcyA9IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgYXR0YWNobWVudEluZGV4OiBudW1iZXI7XG59PjtcblxuY29uc3QgZ2V0QXR0YWNobWVudCA9IChcbiAgeyBtZXNzYWdlIH06IE1lc3NhZ2VTdGF0ZSxcbiAgdXNlQXR0YWNobWVudDogQXR0YWNobWVudENvbnRleHRWYWx1ZVtcInVzZUF0dGFjaG1lbnRcIl0gfCB1bmRlZmluZWQsXG4gIHBhcnRJbmRleDogbnVtYmVyLFxuKSA9PiB7XG4gIGlmIChtZXNzYWdlLnJvbGUgIT09IFwidXNlclwiKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBhdHRhY2htZW50cyA9IG1lc3NhZ2UuYXR0YWNobWVudHM7XG4gIGxldCBhdHRhY2htZW50ID0gYXR0YWNobWVudHNbcGFydEluZGV4XTtcbiAgaWYgKCFhdHRhY2htZW50KSByZXR1cm4gbnVsbDtcblxuICAvLyBpZiB0aGUgYXR0YWNobWVudCBpcyB0aGUgc2FtZSwgZG9uJ3QgdXBkYXRlXG4gIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHVzZUF0dGFjaG1lbnQ/LmdldFN0YXRlKCk7XG4gIGlmIChjdXJyZW50U3RhdGUgJiYgY3VycmVudFN0YXRlLmF0dGFjaG1lbnQgPT09IGF0dGFjaG1lbnQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiBPYmplY3QuZnJlZXplKHsgYXR0YWNobWVudCB9KTtcbn07XG5cbmNvbnN0IHVzZU1lc3NhZ2VBdHRhY2htZW50Q29udGV4dCA9IChwYXJ0SW5kZXg6IG51bWJlcikgPT4ge1xuICBjb25zdCB7IHVzZU1lc3NhZ2UgfSA9IHVzZU1lc3NhZ2VDb250ZXh0KCk7XG4gIGNvbnN0IFtjb250ZXh0XSA9IHVzZVN0YXRlPEF0dGFjaG1lbnRDb250ZXh0VmFsdWUgJiB7IHR5cGU6IFwibWVzc2FnZVwiIH0+KFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZUF0dGFjaG1lbnQgPSBjcmVhdGU8TWVzc2FnZUF0dGFjaG1lbnRTdGF0ZT4oXG4gICAgICAgICgpID0+IGdldEF0dGFjaG1lbnQodXNlTWVzc2FnZS5nZXRTdGF0ZSgpLCB1bmRlZmluZWQsIHBhcnRJbmRleCkhLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHsgdHlwZTogXCJtZXNzYWdlXCIsIHVzZUF0dGFjaG1lbnQgfTtcbiAgICB9LFxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3luY0F0dGFjaG1lbnQgPSAobWVzc2FnZVN0YXRlOiBNZXNzYWdlU3RhdGUpID0+IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gZ2V0QXR0YWNobWVudChcbiAgICAgICAgbWVzc2FnZVN0YXRlLFxuICAgICAgICBjb250ZXh0LnVzZUF0dGFjaG1lbnQsXG4gICAgICAgIHBhcnRJbmRleCxcbiAgICAgICk7XG4gICAgICBpZiAoIW5ld1N0YXRlKSByZXR1cm47XG4gICAgICB3cml0YWJsZVN0b3JlKGNvbnRleHQudXNlQXR0YWNobWVudCkuc2V0U3RhdGUobmV3U3RhdGUsIHRydWUpO1xuICAgIH07XG5cbiAgICBzeW5jQXR0YWNobWVudCh1c2VNZXNzYWdlLmdldFN0YXRlKCkpO1xuICAgIHJldHVybiB1c2VNZXNzYWdlLnN1YnNjcmliZShzeW5jQXR0YWNobWVudCk7XG4gIH0sIFtjb250ZXh0LCB1c2VNZXNzYWdlLCBwYXJ0SW5kZXhdKTtcblxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlQXR0YWNobWVudFByb3ZpZGVyOiBGQzxNZXNzYWdlQXR0YWNobWVudFByb3ZpZGVyUHJvcHM+ID0gKHtcbiAgYXR0YWNobWVudEluZGV4OiBwYXJ0SW5kZXgsXG4gIGNoaWxkcmVuLFxufSkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlTWVzc2FnZUF0dGFjaG1lbnRDb250ZXh0KHBhcnRJbmRleCk7XG5cbiAgcmV0dXJuIChcbiAgICA8QXR0YWNobWVudENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQXR0YWNobWVudENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuIiwiZXhwb3J0IHsgQ29tcG9zZXJQcmltaXRpdmVSb290IGFzIFJvb3QgfSBmcm9tIFwiLi9Db21wb3NlclJvb3RcIjtcbmV4cG9ydCB7IENvbXBvc2VyUHJpbWl0aXZlSW5wdXQgYXMgSW5wdXQgfSBmcm9tIFwiLi9Db21wb3NlcklucHV0XCI7XG5leHBvcnQgeyBDb21wb3NlclByaW1pdGl2ZVNlbmQgYXMgU2VuZCB9IGZyb20gXCIuL0NvbXBvc2VyU2VuZFwiO1xuZXhwb3J0IHsgQ29tcG9zZXJQcmltaXRpdmVDYW5jZWwgYXMgQ2FuY2VsIH0gZnJvbSBcIi4vQ29tcG9zZXJDYW5jZWxcIjtcbmV4cG9ydCB7IENvbXBvc2VyUHJpbWl0aXZlQWRkQXR0YWNobWVudCBhcyBBZGRBdHRhY2htZW50IH0gZnJvbSBcIi4vQ29tcG9zZXJBZGRBdHRhY2htZW50XCI7XG5leHBvcnQgeyBDb21wb3NlclByaW1pdGl2ZUF0dGFjaG1lbnRzIGFzIEF0dGFjaG1lbnRzIH0gZnJvbSBcIi4vQ29tcG9zZXJBdHRhY2htZW50c1wiO1xuZXhwb3J0IHsgQ29tcG9zZXJQcmltaXRpdmVJZiBhcyBJZiB9IGZyb20gXCIuL0NvbXBvc2VySWZcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHtcbiAgdHlwZSBFbGVtZW50UmVmLFxuICB0eXBlIEZvcm1FdmVudCxcbiAgZm9yd2FyZFJlZixcbiAgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VyU2VuZCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3NcIjtcblxudHlwZSBDb21wb3NlclByaW1pdGl2ZVJvb3RFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmZvcm0+O1xudHlwZSBQcmltaXRpdmVGb3JtUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5mb3JtPjtcblxuZXhwb3J0IHR5cGUgQ29tcG9zZXJQcmltaXRpdmVSb290UHJvcHMgPSBQcmltaXRpdmVGb3JtUHJvcHM7XG5cbmV4cG9ydCBjb25zdCBDb21wb3NlclByaW1pdGl2ZVJvb3QgPSBmb3J3YXJkUmVmPFxuICBDb21wb3NlclByaW1pdGl2ZVJvb3RFbGVtZW50LFxuICBDb21wb3NlclByaW1pdGl2ZVJvb3RQcm9wc1xuPigoeyBvblN1Ym1pdCwgLi4ucmVzdCB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3Qgc2VuZCA9IHVzZUNvbXBvc2VyU2VuZCgpO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlOiBGb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoIXNlbmQpIHJldHVybjtcbiAgICBzZW5kKCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8UHJpbWl0aXZlLmZvcm1cbiAgICAgIHsuLi5yZXN0fVxuICAgICAgcmVmPXtmb3J3YXJkZWRSZWZ9XG4gICAgICBvblN1Ym1pdD17Y29tcG9zZUV2ZW50SGFuZGxlcnMob25TdWJtaXQsIGhhbmRsZVN1Ym1pdCl9XG4gICAgLz5cbiAgKTtcbn0pO1xuXG5Db21wb3NlclByaW1pdGl2ZVJvb3QuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyUHJpbWl0aXZlLlJvb3RcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHsgU2xvdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiO1xuaW1wb3J0IHtcbiAgdHlwZSBLZXlib2FyZEV2ZW50LFxuICBmb3J3YXJkUmVmLFxuICB1c2VDYWxsYmFjayxcbiAgdXNlRWZmZWN0LFxuICB1c2VSZWYsXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFRleHRhcmVhQXV0b3NpemUsIHtcbiAgdHlwZSBUZXh0YXJlYUF1dG9zaXplUHJvcHMsXG59IGZyb20gXCJyZWFjdC10ZXh0YXJlYS1hdXRvc2l6ZVwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXJDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvQ29tcG9zZXJDb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlRXNjYXBlS2V5ZG93biB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWVzY2FwZS1rZXlkb3duXCI7XG5pbXBvcnQgeyB1c2VPbkNvbXBvc2VyRm9jdXMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvaG9va3MvdXNlT25Db21wb3NlckZvY3VzXCI7XG5cbmV4cG9ydCB0eXBlIENvbXBvc2VyUHJpbWl0aXZlSW5wdXRQcm9wcyA9IFRleHRhcmVhQXV0b3NpemVQcm9wcyAmIHtcbiAgYXNDaGlsZD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgQ29tcG9zZXJQcmltaXRpdmVJbnB1dCA9IGZvcndhcmRSZWY8XG4gIEhUTUxUZXh0QXJlYUVsZW1lbnQsXG4gIENvbXBvc2VyUHJpbWl0aXZlSW5wdXRQcm9wc1xuPihcbiAgKFxuICAgIHtcbiAgICAgIGF1dG9Gb2N1cyA9IGZhbHNlLFxuICAgICAgYXNDaGlsZCxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZFByb3AsXG4gICAgICBvbkNoYW5nZSxcbiAgICAgIG9uS2V5RG93bixcbiAgICAgIC4uLnJlc3RcbiAgICB9LFxuICAgIGZvcndhcmRlZFJlZixcbiAgKSA9PiB7XG4gICAgY29uc3QgeyB1c2VUaHJlYWQgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcbiAgICBjb25zdCB7IHVzZUNvbXBvc2VyLCB0eXBlIH0gPSB1c2VDb21wb3NlckNvbnRleHQoKTtcblxuICAgIGNvbnN0IHZhbHVlID0gdXNlQ29tcG9zZXIoKGMpID0+IHtcbiAgICAgIGlmICghYy5pc0VkaXRpbmcpIHJldHVybiBcIlwiO1xuICAgICAgcmV0dXJuIGMudGV4dDtcbiAgICB9KTtcblxuICAgIGNvbnN0IENvbXBvbmVudCA9IGFzQ2hpbGQgPyBTbG90IDogVGV4dGFyZWFBdXRvc2l6ZTtcblxuICAgIGNvbnN0IGlzRGlzYWJsZWQgPSB1c2VUaHJlYWQoKHQpID0+IHQuaXNEaXNhYmxlZCkgPz8gZGlzYWJsZWRQcm9wID8/IGZhbHNlO1xuICAgIGNvbnN0IHRleHRhcmVhUmVmID0gdXNlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KG51bGwpO1xuICAgIGNvbnN0IHJlZiA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHRleHRhcmVhUmVmKTtcblxuICAgIHVzZUVzY2FwZUtleWRvd24oKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbXBvc2VyID0gdXNlQ29tcG9zZXIuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChjb21wb3Nlci5jYW5DYW5jZWwpIHtcbiAgICAgICAgY29tcG9zZXIuY2FuY2VsKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUtleVByZXNzID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChpc0Rpc2FibGVkKSByZXR1cm47XG5cbiAgICAgIC8vIGlnbm9yZSBJTUUgY29tcG9zaXRpb24gZXZlbnRzXG4gICAgICBpZiAoZS5uYXRpdmVFdmVudC5pc0NvbXBvc2luZykgcmV0dXJuO1xuXG4gICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiAmJiBlLnNoaWZ0S2V5ID09PSBmYWxzZSkge1xuICAgICAgICBjb25zdCB7IGlzUnVubmluZyB9ID0gdXNlVGhyZWFkLmdldFN0YXRlKCk7XG5cbiAgICAgICAgaWYgKCFpc1J1bm5pbmcpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICB0ZXh0YXJlYVJlZi5jdXJyZW50Py5jbG9zZXN0KFwiZm9ybVwiKT8ucmVxdWVzdFN1Ym1pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGF1dG9Gb2N1c0VuYWJsZWQgPSBhdXRvRm9jdXMgJiYgIWlzRGlzYWJsZWQ7XG4gICAgY29uc3QgZm9jdXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IHRleHRhcmVhUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIXRleHRhcmVhIHx8ICFhdXRvRm9jdXNFbmFibGVkKSByZXR1cm47XG5cbiAgICAgIHRleHRhcmVhLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgIHRleHRhcmVhLnNldFNlbGVjdGlvblJhbmdlKFxuICAgICAgICB0ZXh0YXJlYVJlZi5jdXJyZW50LnZhbHVlLmxlbmd0aCxcbiAgICAgICAgdGV4dGFyZWFSZWYuY3VycmVudC52YWx1ZS5sZW5ndGgsXG4gICAgICApO1xuICAgIH0sIFthdXRvRm9jdXNFbmFibGVkXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4gZm9jdXMoKSwgW2ZvY3VzXSk7XG5cbiAgICB1c2VPbkNvbXBvc2VyRm9jdXMoKCkgPT4ge1xuICAgICAgaWYgKHR5cGUgPT09IFwibmV3XCIpIHtcbiAgICAgICAgZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcG9uZW50XG4gICAgICAgIG5hbWU9XCJpbnB1dFwiXG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgey4uLnJlc3R9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBkaXNhYmxlZD17aXNEaXNhYmxlZH1cbiAgICAgICAgb25DaGFuZ2U9e2NvbXBvc2VFdmVudEhhbmRsZXJzKG9uQ2hhbmdlLCAoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbXBvc2VyU3RhdGUgPSB1c2VDb21wb3Nlci5nZXRTdGF0ZSgpO1xuICAgICAgICAgIGlmICghY29tcG9zZXJTdGF0ZS5pc0VkaXRpbmcpIHJldHVybjtcbiAgICAgICAgICByZXR1cm4gY29tcG9zZXJTdGF0ZS5zZXRUZXh0KGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfSl9XG4gICAgICAgIG9uS2V5RG93bj17Y29tcG9zZUV2ZW50SGFuZGxlcnMob25LZXlEb3duLCBoYW5kbGVLZXlQcmVzcyl9XG4gICAgICAvPlxuICAgICk7XG4gIH0sXG4pO1xuXG5Db21wb3NlclByaW1pdGl2ZUlucHV0LmRpc3BsYXlOYW1lID0gXCJDb21wb3NlclByaW1pdGl2ZS5JbnB1dFwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VyU2VuZCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3NcIjtcblxuZXhwb3J0IHR5cGUgQ29tcG9zZXJQcmltaXRpdmVTZW5kUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczxcbiAgdHlwZW9mIHVzZUNvbXBvc2VyU2VuZFxuPjtcblxuZXhwb3J0IGNvbnN0IENvbXBvc2VyUHJpbWl0aXZlU2VuZCA9IGNyZWF0ZUFjdGlvbkJ1dHRvbihcbiAgXCJDb21wb3NlclByaW1pdGl2ZS5TZW5kXCIsXG4gIHVzZUNvbXBvc2VyU2VuZCxcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgQWN0aW9uQnV0dG9uUHJvcHMsXG4gIGNyZWF0ZUFjdGlvbkJ1dHRvbixcbn0gZnJvbSBcIi4uLy4uL3V0aWxzL2NyZWF0ZUFjdGlvbkJ1dHRvblwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXJDYW5jZWwgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2NvbXBvc2VyL3VzZUNvbXBvc2VyQ2FuY2VsXCI7XG5cbmV4cG9ydCB0eXBlIENvbXBvc2VyUHJpbWl0aXZlQ2FuY2VsUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczxcbiAgdHlwZW9mIHVzZUNvbXBvc2VyQ2FuY2VsXG4+O1xuXG5leHBvcnQgY29uc3QgQ29tcG9zZXJQcmltaXRpdmVDYW5jZWwgPSBjcmVhdGVBY3Rpb25CdXR0b24oXG4gIFwiQ29tcG9zZXJQcmltaXRpdmUuQ2FuY2VsXCIsXG4gIHVzZUNvbXBvc2VyQ2FuY2VsLFxuKTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQge1xuICBBY3Rpb25CdXR0b25Qcm9wcyxcbiAgY3JlYXRlQWN0aW9uQnV0dG9uLFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlQWN0aW9uQnV0dG9uXCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlckFkZEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2NvbXBvc2VyXCI7XG5cbmV4cG9ydCB0eXBlIENvbXBvc2VyUHJpbWl0aXZlQWRkQXR0YWNobWVudFByb3BzID0gQWN0aW9uQnV0dG9uUHJvcHM8XG4gIHR5cGVvZiB1c2VDb21wb3NlckFkZEF0dGFjaG1lbnRcbj47XG5cbmV4cG9ydCBjb25zdCBDb21wb3NlclByaW1pdGl2ZUFkZEF0dGFjaG1lbnQgPSBjcmVhdGVBY3Rpb25CdXR0b24oXG4gIFwiQ29tcG9zZXJQcmltaXRpdmUuQWRkQXR0YWNobWVudFwiLFxuICB1c2VDb21wb3NlckFkZEF0dGFjaG1lbnQsXG4pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENvbXBvbmVudFR5cGUsIHR5cGUgRkMsIG1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQXR0YWNobWVudENvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9BdHRhY2htZW50Q29udGV4dFwiO1xuaW1wb3J0IHsgQ29tcG9zZXJBdHRhY2htZW50UHJvdmlkZXIgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9wcm92aWRlcnMvQ29tcG9zZXJBdHRhY2htZW50UHJvdmlkZXJcIjtcbmltcG9ydCB0eXBlIHsgVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvc3RvcmVzL0F0dGFjaG1lbnRcIjtcblxuZXhwb3J0IHR5cGUgQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50c1Byb3BzID0ge1xuICBjb21wb25lbnRzOlxuICAgIHwge1xuICAgICAgICBJbWFnZT86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIERvY3VtZW50PzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgRmlsZT86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIEF0dGFjaG1lbnQ/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufTtcblxuY29uc3QgZ2V0Q29tcG9uZW50ID0gKFxuICBjb21wb25lbnRzOiBDb21wb3NlclByaW1pdGl2ZUF0dGFjaG1lbnRzUHJvcHNbXCJjb21wb25lbnRzXCJdLFxuICBhdHRhY2htZW50OiBUaHJlYWRDb21wb3NlckF0dGFjaG1lbnQsXG4pID0+IHtcbiAgY29uc3QgdHlwZSA9IGF0dGFjaG1lbnQudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImltYWdlXCI6XG4gICAgICByZXR1cm4gY29tcG9uZW50cz8uSW1hZ2UgPz8gY29tcG9uZW50cz8uQXR0YWNobWVudDtcbiAgICBjYXNlIFwiZG9jdW1lbnRcIjpcbiAgICAgIHJldHVybiBjb21wb25lbnRzPy5Eb2N1bWVudCA/PyBjb21wb25lbnRzPy5BdHRhY2htZW50O1xuICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICByZXR1cm4gY29tcG9uZW50cz8uRmlsZSA/PyBjb21wb25lbnRzPy5BdHRhY2htZW50O1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHR5cGU7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gYXR0YWNobWVudCB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gIH1cbn07XG5cbmNvbnN0IEF0dGFjaG1lbnRDb21wb25lbnQ6IEZDPHtcbiAgY29tcG9uZW50czogQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50c1Byb3BzW1wiY29tcG9uZW50c1wiXTtcbn0+ID0gKHsgY29tcG9uZW50cyB9KSA9PiB7XG4gIGNvbnN0IHsgdXNlQXR0YWNobWVudCB9ID0gdXNlQXR0YWNobWVudENvbnRleHQoeyB0eXBlOiBcImNvbXBvc2VyXCIgfSk7XG4gIGNvbnN0IENvbXBvbmVudCA9IHVzZUF0dGFjaG1lbnQoKGEpID0+XG4gICAgZ2V0Q29tcG9uZW50KGNvbXBvbmVudHMsIGEuYXR0YWNobWVudCksXG4gICk7XG5cbiAgaWYgKCFDb21wb25lbnQpIHJldHVybiBudWxsO1xuICByZXR1cm4gPENvbXBvbmVudCAvPjtcbn07XG5cbmNvbnN0IENvbXBvc2VyQXR0YWNobWVudEltcGw6IEZDPFxuICBDb21wb3NlclByaW1pdGl2ZUF0dGFjaG1lbnRzUHJvcHMgJiB7IGF0dGFjaG1lbnRJbmRleDogbnVtYmVyIH1cbj4gPSAoeyBjb21wb25lbnRzLCBhdHRhY2htZW50SW5kZXggfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxDb21wb3NlckF0dGFjaG1lbnRQcm92aWRlciBhdHRhY2htZW50SW5kZXg9e2F0dGFjaG1lbnRJbmRleH0+XG4gICAgICA8QXR0YWNobWVudENvbXBvbmVudCBjb21wb25lbnRzPXtjb21wb25lbnRzfSAvPlxuICAgIDwvQ29tcG9zZXJBdHRhY2htZW50UHJvdmlkZXI+XG4gICk7XG59O1xuXG5jb25zdCBDb21wb3NlckF0dGFjaG1lbnQgPSBtZW1vKFxuICBDb21wb3NlckF0dGFjaG1lbnRJbXBsLFxuICAocHJldiwgbmV4dCkgPT5cbiAgICBwcmV2LmF0dGFjaG1lbnRJbmRleCA9PT0gbmV4dC5hdHRhY2htZW50SW5kZXggJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LkltYWdlID09PSBuZXh0LmNvbXBvbmVudHM/LkltYWdlICYmXG4gICAgcHJldi5jb21wb25lbnRzPy5Eb2N1bWVudCA9PT0gbmV4dC5jb21wb25lbnRzPy5Eb2N1bWVudCAmJlxuICAgIHByZXYuY29tcG9uZW50cz8uRmlsZSA9PT0gbmV4dC5jb21wb25lbnRzPy5GaWxlICYmXG4gICAgcHJldi5jb21wb25lbnRzPy5BdHRhY2htZW50ID09PSBuZXh0LmNvbXBvbmVudHM/LkF0dGFjaG1lbnQsXG4pO1xuXG5leHBvcnQgY29uc3QgQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50czogRkM8XG4gIENvbXBvc2VyUHJpbWl0aXZlQXR0YWNobWVudHNQcm9wc1xuPiA9ICh7IGNvbXBvbmVudHMgfSkgPT4ge1xuICBjb25zdCB7IHVzZUNvbXBvc2VyIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIGNvbnN0IGF0dGFjaG1lbnRzQ291bnQgPSB1c2VDb21wb3NlcigocykgPT4gcy5hdHRhY2htZW50cy5sZW5ndGgpO1xuXG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBhdHRhY2htZW50c0NvdW50IH0sIChfLCBpbmRleCkgPT4gKFxuICAgIDxDb21wb3NlckF0dGFjaG1lbnRcbiAgICAgIGtleT17aW5kZXh9XG4gICAgICBhdHRhY2htZW50SW5kZXg9e2luZGV4fVxuICAgICAgY29tcG9uZW50cz17Y29tcG9uZW50c31cbiAgICAvPlxuICApKTtcbn07XG5cbkNvbXBvc2VyUHJpbWl0aXZlQXR0YWNobWVudHMuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyUHJpbWl0aXZlLkF0dGFjaG1lbnRzXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdHlwZSBGQywgdHlwZSBQcm9wc1dpdGhDaGlsZHJlbiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB0eXBlIHsgQ29tcG9zZXJTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXNcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vcmVhY3RcIjtcbmltcG9ydCB7IENvbXBvc2VyQXR0YWNobWVudFN0YXRlIH0gZnJvbSBcIi4uL3N0b3Jlcy9BdHRhY2htZW50XCI7XG5pbXBvcnQge1xuICBBdHRhY2htZW50Q29udGV4dCxcbiAgQXR0YWNobWVudENvbnRleHRWYWx1ZSxcbn0gZnJvbSBcIi4uL3JlYWN0L0F0dGFjaG1lbnRDb250ZXh0XCI7XG5pbXBvcnQgeyB3cml0YWJsZVN0b3JlIH0gZnJvbSBcIi4uL1JlYWRvbmx5U3RvcmVcIjtcblxudHlwZSBDb21wb3NlckF0dGFjaG1lbnRQcm92aWRlclByb3BzID0gUHJvcHNXaXRoQ2hpbGRyZW48e1xuICBhdHRhY2htZW50SW5kZXg6IG51bWJlcjtcbn0+O1xuXG5jb25zdCBnZXRBdHRhY2htZW50ID0gKFxuICB7IGF0dGFjaG1lbnRzIH06IENvbXBvc2VyU3RhdGUsXG4gIHVzZUF0dGFjaG1lbnQ6IEF0dGFjaG1lbnRDb250ZXh0VmFsdWVbXCJ1c2VBdHRhY2htZW50XCJdIHwgdW5kZWZpbmVkLFxuICBwYXJ0SW5kZXg6IG51bWJlcixcbikgPT4ge1xuICBsZXQgYXR0YWNobWVudCA9IGF0dGFjaG1lbnRzW3BhcnRJbmRleF07XG4gIGlmICghYXR0YWNobWVudCkgcmV0dXJuIG51bGw7XG5cbiAgLy8gaWYgdGhlIGF0dGFjaG1lbnQgaXMgdGhlIHNhbWUsIGRvbid0IHVwZGF0ZVxuICBjb25zdCBjdXJyZW50U3RhdGUgPSB1c2VBdHRhY2htZW50Py5nZXRTdGF0ZSgpO1xuICBpZiAoY3VycmVudFN0YXRlICYmIGN1cnJlbnRTdGF0ZS5hdHRhY2htZW50ID09PSBhdHRhY2htZW50KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7IGF0dGFjaG1lbnQgfSk7XG59O1xuXG5jb25zdCB1c2VDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0ID0gKHBhcnRJbmRleDogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHsgdXNlQ29tcG9zZXIgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcbiAgY29uc3QgW2NvbnRleHRdID0gdXNlU3RhdGU8QXR0YWNobWVudENvbnRleHRWYWx1ZSAmIHsgdHlwZTogXCJjb21wb3NlclwiIH0+KFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZUF0dGFjaG1lbnQgPSBjcmVhdGU8Q29tcG9zZXJBdHRhY2htZW50U3RhdGU+KFxuICAgICAgICAoKSA9PiBnZXRBdHRhY2htZW50KHVzZUNvbXBvc2VyLmdldFN0YXRlKCksIHVuZGVmaW5lZCwgcGFydEluZGV4KSEsXG4gICAgICApO1xuXG4gICAgICByZXR1cm4geyB0eXBlOiBcImNvbXBvc2VyXCIsIHVzZUF0dGFjaG1lbnQgfTtcbiAgICB9LFxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3luY0F0dGFjaG1lbnQgPSAoY29tcG9zZXI6IENvbXBvc2VyU3RhdGUpID0+IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gZ2V0QXR0YWNobWVudChcbiAgICAgICAgY29tcG9zZXIsXG4gICAgICAgIGNvbnRleHQudXNlQXR0YWNobWVudCxcbiAgICAgICAgcGFydEluZGV4LFxuICAgICAgKTtcbiAgICAgIGlmICghbmV3U3RhdGUpIHJldHVybjtcbiAgICAgIHdyaXRhYmxlU3RvcmUoY29udGV4dC51c2VBdHRhY2htZW50KS5zZXRTdGF0ZShuZXdTdGF0ZSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIHN5bmNBdHRhY2htZW50KHVzZUNvbXBvc2VyLmdldFN0YXRlKCkpO1xuICAgIHJldHVybiB1c2VDb21wb3Nlci5zdWJzY3JpYmUoc3luY0F0dGFjaG1lbnQpO1xuICB9LCBbY29udGV4dCwgdXNlQ29tcG9zZXIsIHBhcnRJbmRleF0pO1xuXG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuZXhwb3J0IGNvbnN0IENvbXBvc2VyQXR0YWNobWVudFByb3ZpZGVyOiBGQzxcbiAgQ29tcG9zZXJBdHRhY2htZW50UHJvdmlkZXJQcm9wc1xuPiA9ICh7IGF0dGFjaG1lbnRJbmRleDogcGFydEluZGV4LCBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0KHBhcnRJbmRleCk7XG5cbiAgcmV0dXJuIChcbiAgICA8QXR0YWNobWVudENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQXR0YWNobWVudENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBVc2VDb21wb3NlcklmUHJvcHMsXG4gIHVzZUNvbXBvc2VySWYsXG59IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvY29tcG9zZXIvdXNlQ29tcG9zZXJJZlwiO1xuXG5leHBvcnQgdHlwZSBDb21wb3NlclByaW1pdGl2ZUlmUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjxVc2VDb21wb3NlcklmUHJvcHM+O1xuXG5leHBvcnQgY29uc3QgQ29tcG9zZXJQcmltaXRpdmVJZjogRkM8Q29tcG9zZXJQcmltaXRpdmVJZlByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICAuLi5xdWVyeVxufSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSB1c2VDb21wb3NlcklmKHF1ZXJ5KTtcbiAgcmV0dXJuIHJlc3VsdCA/IGNoaWxkcmVuIDogbnVsbDtcbn07XG5cbkNvbXBvc2VyUHJpbWl0aXZlSWYuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyUHJpbWl0aXZlLklmXCI7XG4iLCJleHBvcnQgeyBDb250ZW50UGFydFByaW1pdGl2ZVRleHQgYXMgVGV4dCB9IGZyb20gXCIuL0NvbnRlbnRQYXJ0VGV4dFwiO1xuZXhwb3J0IHsgQ29udGVudFBhcnRQcmltaXRpdmVJbWFnZSBhcyBJbWFnZSB9IGZyb20gXCIuL0NvbnRlbnRQYXJ0SW1hZ2VcIjtcbmV4cG9ydCB7IENvbnRlbnRQYXJ0UHJpbWl0aXZlRGlzcGxheSBhcyBEaXNwbGF5IH0gZnJvbSBcIi4vQ29udGVudFBhcnREaXNwbGF5XCI7XG5leHBvcnQgeyBDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3MgYXMgSW5Qcm9ncmVzcyB9IGZyb20gXCIuL0NvbnRlbnRQYXJ0SW5Qcm9ncmVzc1wiO1xuIiwiZXhwb3J0IHsgVGhyZWFkUHJpbWl0aXZlUm9vdCBhcyBSb290IH0gZnJvbSBcIi4vVGhyZWFkUm9vdFwiO1xuZXhwb3J0IHsgVGhyZWFkUHJpbWl0aXZlRW1wdHkgYXMgRW1wdHkgfSBmcm9tIFwiLi9UaHJlYWRFbXB0eVwiO1xuZXhwb3J0IHsgVGhyZWFkUHJpbWl0aXZlSWYgYXMgSWYgfSBmcm9tIFwiLi9UaHJlYWRJZlwiO1xuZXhwb3J0IHsgVGhyZWFkUHJpbWl0aXZlVmlld3BvcnQgYXMgVmlld3BvcnQgfSBmcm9tIFwiLi9UaHJlYWRWaWV3cG9ydFwiO1xuZXhwb3J0IHsgVGhyZWFkUHJpbWl0aXZlTWVzc2FnZXMgYXMgTWVzc2FnZXMgfSBmcm9tIFwiLi9UaHJlYWRNZXNzYWdlc1wiO1xuZXhwb3J0IHsgVGhyZWFkUHJpbWl0aXZlU2Nyb2xsVG9Cb3R0b20gYXMgU2Nyb2xsVG9Cb3R0b20gfSBmcm9tIFwiLi9UaHJlYWRTY3JvbGxUb0JvdHRvbVwiO1xuZXhwb3J0IHsgVGhyZWFkUHJpbWl0aXZlU3VnZ2VzdGlvbiBhcyBTdWdnZXN0aW9uIH0gZnJvbSBcIi4vVGhyZWFkU3VnZ2VzdGlvblwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB0eXBlIEVsZW1lbnRSZWYsIGZvcndhcmRSZWYsIENvbXBvbmVudFByb3BzV2l0aG91dFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIFRocmVhZFByaW1pdGl2ZVJvb3RFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG50eXBlIFByaW1pdGl2ZURpdlByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcblxuZXhwb3J0IHR5cGUgVGhyZWFkUHJpbWl0aXZlUm9vdFByb3BzID0gUHJpbWl0aXZlRGl2UHJvcHM7XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVSb290ID0gZm9yd2FyZFJlZjxcbiAgVGhyZWFkUHJpbWl0aXZlUm9vdEVsZW1lbnQsXG4gIFRocmVhZFByaW1pdGl2ZVJvb3RQcm9wc1xuPigocHJvcHMsIHJlZikgPT4ge1xuICByZXR1cm4gPFByaW1pdGl2ZS5kaXYgey4uLnByb3BzfSByZWY9e3JlZn0gLz47XG59KTtcblxuVGhyZWFkUHJpbWl0aXZlUm9vdC5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkUHJpbWl0aXZlLlJvb3RcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDLCBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVRocmVhZEVtcHR5IH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rc1wiO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRQcmltaXRpdmVFbXB0eVByb3BzID0ge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IFRocmVhZFByaW1pdGl2ZUVtcHR5OiBGQzxUaHJlYWRQcmltaXRpdmVFbXB0eVByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxufSkgPT4ge1xuICBjb25zdCBlbXB0eSA9IHVzZVRocmVhZEVtcHR5KCk7XG4gIHJldHVybiBlbXB0eSA/IGNoaWxkcmVuIDogbnVsbDtcbn07XG5cblRocmVhZFByaW1pdGl2ZUVtcHR5LmRpc3BsYXlOYW1lID0gXCJUaHJlYWRQcmltaXRpdmUuRW1wdHlcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgVXNlVGhyZWFkSWZQcm9wcyxcbiAgdXNlVGhyZWFkSWYsXG59IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvdGhyZWFkL3VzZVRocmVhZElmXCI7XG5cbmV4cG9ydCB0eXBlIFRocmVhZFByaW1pdGl2ZUlmUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjxVc2VUaHJlYWRJZlByb3BzPjtcblxuZXhwb3J0IGNvbnN0IFRocmVhZFByaW1pdGl2ZUlmOiBGQzxUaHJlYWRQcmltaXRpdmVJZlByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICAuLi5xdWVyeVxufSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSB1c2VUaHJlYWRJZihxdWVyeSk7XG4gIHJldHVybiByZXN1bHQgPyBjaGlsZHJlbiA6IG51bGw7XG59O1xuXG5UaHJlYWRQcmltaXRpdmVJZi5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkUHJpbWl0aXZlLklmXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB0eXBlIEVsZW1lbnRSZWYsIGZvcndhcmRSZWYsIENvbXBvbmVudFByb3BzV2l0aG91dFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgVXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsUHJvcHMsXG4gIHVzZVRocmVhZFZpZXdwb3J0QXV0b1Njcm9sbCxcbn0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy90aHJlYWQvdXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsXCI7XG5cbnR5cGUgVGhyZWFkUHJpbWl0aXZlVmlld3BvcnRFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG50eXBlIFByaW1pdGl2ZURpdlByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcblxuZXhwb3J0IHR5cGUgVGhyZWFkUHJpbWl0aXZlVmlld3BvcnRQcm9wcyA9IFByaW1pdGl2ZURpdlByb3BzICZcbiAgVXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsUHJvcHM7XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVWaWV3cG9ydCA9IGZvcndhcmRSZWY8XG4gIFRocmVhZFByaW1pdGl2ZVZpZXdwb3J0RWxlbWVudCxcbiAgVGhyZWFkUHJpbWl0aXZlVmlld3BvcnRQcm9wc1xuPigoeyBhdXRvU2Nyb2xsLCBvblNjcm9sbCwgY2hpbGRyZW4sIC4uLnJlc3QgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IGF1dG9TY3JvbGxSZWYgPSB1c2VUaHJlYWRWaWV3cG9ydEF1dG9TY3JvbGw8SFRNTERpdkVsZW1lbnQ+KHtcbiAgICBhdXRvU2Nyb2xsLFxuICB9KTtcblxuICBjb25zdCByZWYgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCBhdXRvU2Nyb2xsUmVmKTtcblxuICByZXR1cm4gKFxuICAgIDxQcmltaXRpdmUuZGl2IHsuLi5yZXN0fSByZWY9e3JlZn0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9QcmltaXRpdmUuZGl2PlxuICApO1xufSk7XG5cblRocmVhZFByaW1pdGl2ZVZpZXdwb3J0LmRpc3BsYXlOYW1lID0gXCJUaHJlYWRQcmltaXRpdmUuVmlld3BvcnRcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcbmltcG9ydCB7IHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IHVzZU9uUmVzaXplQ29udGVudCB9IGZyb20gXCIuLi8uLi91dGlscy9ob29rcy91c2VPblJlc2l6ZUNvbnRlbnRcIjtcbmltcG9ydCB7IHVzZU9uU2Nyb2xsVG9Cb3R0b20gfSBmcm9tIFwiLi4vLi4vdXRpbHMvaG9va3MvdXNlT25TY3JvbGxUb0JvdHRvbVwiO1xuaW1wb3J0IHsgdXNlTWFuYWdlZFJlZiB9IGZyb20gXCIuLi8uLi91dGlscy9ob29rcy91c2VNYW5hZ2VkUmVmXCI7XG5pbXBvcnQgeyB3cml0YWJsZVN0b3JlIH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvUmVhZG9ubHlTdG9yZVwiO1xuXG5leHBvcnQgdHlwZSBVc2VUaHJlYWRWaWV3cG9ydEF1dG9TY3JvbGxQcm9wcyA9IHtcbiAgYXV0b1Njcm9sbD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsID0gPFRFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQ+KHtcbiAgYXV0b1Njcm9sbCA9IHRydWUsXG59OiBVc2VUaHJlYWRWaWV3cG9ydEF1dG9TY3JvbGxQcm9wcykgPT4ge1xuICBjb25zdCBkaXZSZWYgPSB1c2VSZWY8VEVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IHsgdXNlVmlld3BvcnQgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcblxuICBjb25zdCBsYXN0U2Nyb2xsVG9wID0gdXNlUmVmPG51bWJlcj4oMCk7XG5cbiAgLy8gYnVnOiB3aGVuIFNjcm9sbFRvQm90dG9tJ3MgYnV0dG9uIGNoYW5nZXMgaXRzIGRpc2FibGVkIHN0YXRlLCB0aGUgc2Nyb2xsIHN0b3BzXG4gIC8vIGZpeDogZGVsYXkgdGhlIHN0YXRlIGNoYW5nZSB1bnRpbCB0aGUgc2Nyb2xsIGlzIGRvbmVcbiAgY29uc3QgaXNTY3JvbGxpbmdUb0JvdHRvbVJlZiA9IHVzZVJlZihmYWxzZSk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoYmVoYXZpb3I6IFNjcm9sbEJlaGF2aW9yKSA9PiB7XG4gICAgY29uc3QgZGl2ID0gZGl2UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFkaXYgfHwgIWF1dG9TY3JvbGwpIHJldHVybjtcblxuICAgIGlzU2Nyb2xsaW5nVG9Cb3R0b21SZWYuY3VycmVudCA9IHRydWU7XG4gICAgZGl2LnNjcm9sbFRvKHsgdG9wOiBkaXYuc2Nyb2xsSGVpZ2h0LCBiZWhhdmlvciB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgY29uc3QgZGl2ID0gZGl2UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFkaXYpIHJldHVybjtcblxuICAgIGNvbnN0IGlzQXRCb3R0b20gPSB1c2VWaWV3cG9ydC5nZXRTdGF0ZSgpLmlzQXRCb3R0b207XG4gICAgY29uc3QgbmV3SXNBdEJvdHRvbSA9XG4gICAgICBkaXYuc2Nyb2xsSGVpZ2h0IC0gZGl2LnNjcm9sbFRvcCA8PSBkaXYuY2xpZW50SGVpZ2h0ICsgMTsgLy8gVE9ETyBmaWd1cmUgb3V0IHdoeSArMSBpcyBuZWVkZWRcblxuICAgIGlmICghbmV3SXNBdEJvdHRvbSAmJiBsYXN0U2Nyb2xsVG9wLmN1cnJlbnQgPCBkaXYuc2Nyb2xsVG9wKSB7XG4gICAgICAvLyBpZ25vcmUgc2Nyb2xsIGRvd25cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5ld0lzQXRCb3R0b20pIHtcbiAgICAgICAgaXNTY3JvbGxpbmdUb0JvdHRvbVJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdJc0F0Qm90dG9tICE9PSBpc0F0Qm90dG9tKSB7XG4gICAgICAgIHdyaXRhYmxlU3RvcmUodXNlVmlld3BvcnQpLnNldFN0YXRlKHsgaXNBdEJvdHRvbTogbmV3SXNBdEJvdHRvbSB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0U2Nyb2xsVG9wLmN1cnJlbnQgPSBkaXYuc2Nyb2xsVG9wO1xuICB9O1xuXG4gIGNvbnN0IHJlc2l6ZVJlZiA9IHVzZU9uUmVzaXplQ29udGVudCgoKSA9PiB7XG4gICAgaWYgKGlzU2Nyb2xsaW5nVG9Cb3R0b21SZWYuY3VycmVudCB8fCB1c2VWaWV3cG9ydC5nZXRTdGF0ZSgpLmlzQXRCb3R0b20pIHtcbiAgICAgIHNjcm9sbFRvQm90dG9tKFwiaW5zdGFudFwiKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTY3JvbGwoKTtcbiAgfSk7XG5cbiAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlTWFuYWdlZFJlZjxIVE1MRWxlbWVudD4oKGVsKSA9PiB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgY29uc3QgYXV0b1Njcm9sbFJlZiA9IHVzZUNvbXBvc2VkUmVmczxURWxlbWVudD4ocmVzaXplUmVmLCBzY3JvbGxSZWYsIGRpdlJlZik7XG5cbiAgdXNlT25TY3JvbGxUb0JvdHRvbSgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oXCJhdXRvXCIpO1xuICB9KTtcblxuICByZXR1cm4gYXV0b1Njcm9sbFJlZjtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU1hbmFnZWRSZWYgfSBmcm9tIFwiLi91c2VNYW5hZ2VkUmVmXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VPblJlc2l6ZUNvbnRlbnQgPSAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcbiAgY29uc3QgY2FsbGJhY2tSZWYgPSB1c2VDYWxsYmFja1JlZihjYWxsYmFjayk7XG5cbiAgY29uc3QgcmVmQ2FsbGJhY2sgPSB1c2VDYWxsYmFjayhcbiAgICAoZWw6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrUmVmKCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbXV0YXRpb24uYWRkZWROb2Rlcykge1xuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG11dGF0aW9uLnJlbW92ZWROb2Rlcykge1xuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFja1JlZigpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWwpO1xuICAgICAgbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGVsLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcblxuICAgICAgLy8gT2JzZXJ2ZSBleGlzdGluZyBjaGlsZHJlblxuICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBlbC5jaGlsZHJlbikge1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGNoaWxkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBtdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBbY2FsbGJhY2tSZWZdLFxuICApO1xuXG4gIHJldHVybiB1c2VNYW5hZ2VkUmVmKHJlZkNhbGxiYWNrKTtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlT25TY3JvbGxUb0JvdHRvbSA9IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4ge1xuICBjb25zdCBjYWxsYmFja1JlZiA9IHVzZUNhbGxiYWNrUmVmKGNhbGxiYWNrKTtcblxuICBjb25zdCB7IHVzZVZpZXdwb3J0IH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIHVzZVZpZXdwb3J0LmdldFN0YXRlKCkub25TY3JvbGxUb0JvdHRvbSgoKSA9PiB7XG4gICAgICBjYWxsYmFja1JlZigpO1xuICAgIH0pO1xuICB9LCBbdXNlVmlld3BvcnQsIGNhbGxiYWNrUmVmXSk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHR5cGUgQ29tcG9uZW50VHlwZSwgdHlwZSBGQywgbWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IE1lc3NhZ2VQcm92aWRlciB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3Byb3ZpZGVycy9NZXNzYWdlUHJvdmlkZXJcIjtcbmltcG9ydCB7IENvbXBvc2VyUHJpbWl0aXZlSWYgfSBmcm9tIFwiLi4vY29tcG9zZXIvQ29tcG9zZXJJZlwiO1xuaW1wb3J0IHsgTWVzc2FnZVByaW1pdGl2ZUlmIH0gZnJvbSBcIi4uL21lc3NhZ2UvTWVzc2FnZUlmXCI7XG5cbmV4cG9ydCB0eXBlIFRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzUHJvcHMgPSB7XG4gIGNvbXBvbmVudHM6XG4gICAgfCB7XG4gICAgICAgIE1lc3NhZ2U6IENvbXBvbmVudFR5cGU7XG4gICAgICAgIFVzZXJNZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgRWRpdENvbXBvc2VyPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgQXNzaXN0YW50TWVzc2FnZT86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIFN5c3RlbU1lc3NhZ2U/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBNZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgVXNlck1lc3NhZ2U6IENvbXBvbmVudFR5cGU7XG4gICAgICAgIEVkaXRDb21wb3Nlcj86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIEFzc2lzdGFudE1lc3NhZ2U6IENvbXBvbmVudFR5cGU7XG4gICAgICAgIFN5c3RlbU1lc3NhZ2U/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgfTtcbn07XG5cbmNvbnN0IERFRkFVTFRfU1lTVEVNX01FU1NBR0UgPSAoKSA9PiBudWxsO1xuXG5jb25zdCBnZXRDb21wb25lbnRzID0gKFxuICBjb21wb25lbnRzOiBUaHJlYWRQcmltaXRpdmVNZXNzYWdlc1Byb3BzW1wiY29tcG9uZW50c1wiXSxcbikgPT4ge1xuICByZXR1cm4ge1xuICAgIEVkaXRDb21wb3NlcjpcbiAgICAgIGNvbXBvbmVudHMuRWRpdENvbXBvc2VyID8/XG4gICAgICBjb21wb25lbnRzLlVzZXJNZXNzYWdlID8/XG4gICAgICAoY29tcG9uZW50cy5NZXNzYWdlIGFzIENvbXBvbmVudFR5cGUpLFxuICAgIFVzZXJNZXNzYWdlOlxuICAgICAgY29tcG9uZW50cy5Vc2VyTWVzc2FnZSA/PyAoY29tcG9uZW50cy5NZXNzYWdlIGFzIENvbXBvbmVudFR5cGUpLFxuICAgIEFzc2lzdGFudE1lc3NhZ2U6XG4gICAgICBjb21wb25lbnRzLkFzc2lzdGFudE1lc3NhZ2UgPz8gKGNvbXBvbmVudHMuTWVzc2FnZSBhcyBDb21wb25lbnRUeXBlKSxcbiAgICBTeXN0ZW1NZXNzYWdlOiBjb21wb25lbnRzLlN5c3RlbU1lc3NhZ2UgPz8gREVGQVVMVF9TWVNURU1fTUVTU0FHRSxcbiAgfTtcbn07XG5cbnR5cGUgVGhyZWFkTWVzc2FnZVByb3BzID0ge1xuICBtZXNzYWdlSW5kZXg6IG51bWJlcjtcbiAgY29tcG9uZW50czogVGhyZWFkUHJpbWl0aXZlTWVzc2FnZXNQcm9wc1tcImNvbXBvbmVudHNcIl07XG59O1xuXG5jb25zdCBUaHJlYWRNZXNzYWdlSW1wbDogRkM8VGhyZWFkTWVzc2FnZVByb3BzPiA9ICh7XG4gIG1lc3NhZ2VJbmRleCxcbiAgY29tcG9uZW50cyxcbn0pID0+IHtcbiAgY29uc3QgeyBVc2VyTWVzc2FnZSwgRWRpdENvbXBvc2VyLCBBc3Npc3RhbnRNZXNzYWdlLCBTeXN0ZW1NZXNzYWdlIH0gPVxuICAgIGdldENvbXBvbmVudHMoY29tcG9uZW50cyk7XG4gIHJldHVybiAoXG4gICAgPE1lc3NhZ2VQcm92aWRlciBtZXNzYWdlSW5kZXg9e21lc3NhZ2VJbmRleH0+XG4gICAgICA8TWVzc2FnZVByaW1pdGl2ZUlmIHVzZXI+XG4gICAgICAgIDxDb21wb3NlclByaW1pdGl2ZUlmIGVkaXRpbmc9e2ZhbHNlfT5cbiAgICAgICAgICA8VXNlck1lc3NhZ2UgLz5cbiAgICAgICAgPC9Db21wb3NlclByaW1pdGl2ZUlmPlxuICAgICAgICA8Q29tcG9zZXJQcmltaXRpdmVJZiBlZGl0aW5nPlxuICAgICAgICAgIDxFZGl0Q29tcG9zZXIgLz5cbiAgICAgICAgPC9Db21wb3NlclByaW1pdGl2ZUlmPlxuICAgICAgPC9NZXNzYWdlUHJpbWl0aXZlSWY+XG4gICAgICA8TWVzc2FnZVByaW1pdGl2ZUlmIGFzc2lzdGFudD5cbiAgICAgICAgPEFzc2lzdGFudE1lc3NhZ2UgLz5cbiAgICAgIDwvTWVzc2FnZVByaW1pdGl2ZUlmPlxuICAgICAgPE1lc3NhZ2VQcmltaXRpdmVJZiBzeXN0ZW0+XG4gICAgICAgIDxTeXN0ZW1NZXNzYWdlIC8+XG4gICAgICA8L01lc3NhZ2VQcmltaXRpdmVJZj5cbiAgICA8L01lc3NhZ2VQcm92aWRlcj5cbiAgKTtcbn07XG5cbmNvbnN0IFRocmVhZE1lc3NhZ2UgPSBtZW1vKFxuICBUaHJlYWRNZXNzYWdlSW1wbCxcbiAgKHByZXYsIG5leHQpID0+XG4gICAgcHJldi5tZXNzYWdlSW5kZXggPT09IG5leHQubWVzc2FnZUluZGV4ICYmXG4gICAgcHJldi5jb21wb25lbnRzLk1lc3NhZ2UgPT09IG5leHQuY29tcG9uZW50cy5NZXNzYWdlICYmXG4gICAgcHJldi5jb21wb25lbnRzLlVzZXJNZXNzYWdlID09PSBuZXh0LmNvbXBvbmVudHMuVXNlck1lc3NhZ2UgJiZcbiAgICBwcmV2LmNvbXBvbmVudHMuRWRpdENvbXBvc2VyID09PSBuZXh0LmNvbXBvbmVudHMuRWRpdENvbXBvc2VyICYmXG4gICAgcHJldi5jb21wb25lbnRzLkFzc2lzdGFudE1lc3NhZ2UgPT09IG5leHQuY29tcG9uZW50cy5Bc3Npc3RhbnRNZXNzYWdlICYmXG4gICAgcHJldi5jb21wb25lbnRzLlN5c3RlbU1lc3NhZ2UgPT09IG5leHQuY29tcG9uZW50cy5TeXN0ZW1NZXNzYWdlLFxuKTtcblxuZXhwb3J0IGNvbnN0IFRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzSW1wbDogRkM8VGhyZWFkUHJpbWl0aXZlTWVzc2FnZXNQcm9wcz4gPSAoe1xuICBjb21wb25lbnRzLFxufSkgPT4ge1xuICBjb25zdCB7IHVzZVRocmVhZE1lc3NhZ2VzIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG5cbiAgY29uc3QgbWVzc2FnZXNMZW5ndGggPSB1c2VUaHJlYWRNZXNzYWdlcygodCkgPT4gdC5sZW5ndGgpO1xuICBpZiAobWVzc2FnZXNMZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBtZXNzYWdlc0xlbmd0aCB9LCAoXywgaW5kZXgpID0+IChcbiAgICA8VGhyZWFkTWVzc2FnZSBrZXk9e2luZGV4fSBtZXNzYWdlSW5kZXg9e2luZGV4fSBjb21wb25lbnRzPXtjb21wb25lbnRzfSAvPlxuICApKTtcbn07XG5cblRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzSW1wbC5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkUHJpbWl0aXZlLk1lc3NhZ2VzXCI7XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVNZXNzYWdlcyA9IG1lbW8oXG4gIFRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzSW1wbCxcbiAgKHByZXYsIG5leHQpID0+XG4gICAgcHJldi5jb21wb25lbnRzPy5NZXNzYWdlID09PSBuZXh0LmNvbXBvbmVudHM/Lk1lc3NhZ2UgJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LlVzZXJNZXNzYWdlID09PSBuZXh0LmNvbXBvbmVudHM/LlVzZXJNZXNzYWdlICYmXG4gICAgcHJldi5jb21wb25lbnRzPy5FZGl0Q29tcG9zZXIgPT09IG5leHQuY29tcG9uZW50cz8uRWRpdENvbXBvc2VyICYmXG4gICAgcHJldi5jb21wb25lbnRzPy5Bc3Npc3RhbnRNZXNzYWdlID09PSBuZXh0LmNvbXBvbmVudHM/LkFzc2lzdGFudE1lc3NhZ2UgJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LlN5c3RlbU1lc3NhZ2UgPT09IG5leHQuY29tcG9uZW50cz8uU3lzdGVtTWVzc2FnZSxcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdHlwZSBGQywgdHlwZSBQcm9wc1dpdGhDaGlsZHJlbiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB0eXBlIHtcbiAgQ29yZVVzZXJDb250ZW50UGFydCxcbiAgVGhyZWFkTWVzc2FnZSxcbn0gZnJvbSBcIi4uLy4uL3R5cGVzL0Fzc2lzdGFudFR5cGVzXCI7XG5pbXBvcnQgeyBnZXRUaHJlYWRNZXNzYWdlVGV4dCB9IGZyb20gXCIuLi8uLi91dGlscy9nZXRUaHJlYWRNZXNzYWdlVGV4dFwiO1xuaW1wb3J0IHsgTWVzc2FnZUNvbnRleHQgfSBmcm9tIFwiLi4vcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcbmltcG9ydCB0eXBlIHsgTWVzc2FnZUNvbnRleHRWYWx1ZSB9IGZyb20gXCIuLi9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi9yZWFjdC9UaHJlYWRDb250ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IE1lc3NhZ2VTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXMvTWVzc2FnZVwiO1xuaW1wb3J0IHsgbWFrZUVkaXRDb21wb3NlclN0b3JlIH0gZnJvbSBcIi4uL3N0b3Jlcy9FZGl0Q29tcG9zZXJcIjtcbmltcG9ydCB7IG1ha2VNZXNzYWdlVXRpbHNTdG9yZSB9IGZyb20gXCIuLi9zdG9yZXMvTWVzc2FnZVV0aWxzXCI7XG5pbXBvcnQgeyBUaHJlYWRNZXNzYWdlc1N0YXRlIH0gZnJvbSBcIi4uL3N0b3Jlcy9UaHJlYWRNZXNzYWdlc1wiO1xuaW1wb3J0IHsgd3JpdGFibGVTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5cbnR5cGUgTWVzc2FnZVByb3ZpZGVyUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIG1lc3NhZ2VJbmRleDogbnVtYmVyO1xufT47XG5cbmNvbnN0IGdldElzTGFzdCA9IChtZXNzYWdlczogVGhyZWFkTWVzc2FnZXNTdGF0ZSwgbWVzc2FnZTogVGhyZWFkTWVzc2FnZSkgPT4ge1xuICByZXR1cm4gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0/LmlkID09PSBtZXNzYWdlLmlkO1xufTtcblxuY29uc3QgZ2V0TWVzc2FnZVN0YXRlID0gKFxuICBtZXNzYWdlczogVGhyZWFkTWVzc2FnZXNTdGF0ZSxcbiAgZ2V0QnJhbmNoZXM6IChtZXNzYWdlSWQ6IHN0cmluZykgPT4gcmVhZG9ubHkgc3RyaW5nW10sXG4gIHVzZU1lc3NhZ2U6IE1lc3NhZ2VDb250ZXh0VmFsdWVbXCJ1c2VNZXNzYWdlXCJdIHwgdW5kZWZpbmVkLFxuICBtZXNzYWdlSW5kZXg6IG51bWJlcixcbikgPT4ge1xuICBjb25zdCBwYXJlbnRJZCA9IG1lc3NhZ2VzW21lc3NhZ2VJbmRleCAtIDFdPy5pZCA/PyBudWxsO1xuICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZUluZGV4XTtcbiAgaWYgKCFtZXNzYWdlKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBpc0xhc3QgPSBnZXRJc0xhc3QobWVzc2FnZXMsIG1lc3NhZ2UpO1xuICBjb25zdCBicmFuY2hlcyA9IGdldEJyYW5jaGVzKG1lc3NhZ2UuaWQpO1xuXG4gIC8vIGlmIHRoZSBtZXNzYWdlIGlzIHRoZSBzYW1lLCBkb24ndCB1cGRhdGVcbiAgY29uc3QgY3VycmVudFN0YXRlID0gdXNlTWVzc2FnZT8uZ2V0U3RhdGUoKTtcbiAgaWYgKFxuICAgIGN1cnJlbnRTdGF0ZSAmJlxuICAgIGN1cnJlbnRTdGF0ZS5tZXNzYWdlID09PSBtZXNzYWdlICYmXG4gICAgY3VycmVudFN0YXRlLnBhcmVudElkID09PSBwYXJlbnRJZCAmJlxuICAgIGN1cnJlbnRTdGF0ZS5icmFuY2hlcyA9PT0gYnJhbmNoZXMgJiZcbiAgICBjdXJyZW50U3RhdGUuaXNMYXN0ID09PSBpc0xhc3RcbiAgKVxuICAgIHJldHVybiBudWxsO1xuXG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBtZXNzYWdlLFxuICAgIHBhcmVudElkLFxuICAgIGJyYW5jaGVzLFxuICAgIGlzTGFzdCxcbiAgfSk7XG59O1xuXG5jb25zdCB1c2VNZXNzYWdlQ29udGV4dCA9IChtZXNzYWdlSW5kZXg6IG51bWJlcikgPT4ge1xuICBjb25zdCB7IHVzZVRocmVhZE1lc3NhZ2VzLCB1c2VUaHJlYWRBY3Rpb25zIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG5cbiAgY29uc3QgW2NvbnRleHRdID0gdXNlU3RhdGU8TWVzc2FnZUNvbnRleHRWYWx1ZT4oKCkgPT4ge1xuICAgIGNvbnN0IHVzZU1lc3NhZ2UgPSBjcmVhdGU8TWVzc2FnZVN0YXRlPihcbiAgICAgICgpID0+XG4gICAgICAgIGdldE1lc3NhZ2VTdGF0ZShcbiAgICAgICAgICB1c2VUaHJlYWRNZXNzYWdlcy5nZXRTdGF0ZSgpLFxuICAgICAgICAgIHVzZVRocmVhZEFjdGlvbnMuZ2V0U3RhdGUoKS5nZXRCcmFuY2hlcyxcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgbWVzc2FnZUluZGV4LFxuICAgICAgICApISxcbiAgICApO1xuICAgIGNvbnN0IHVzZU1lc3NhZ2VVdGlscyA9IG1ha2VNZXNzYWdlVXRpbHNTdG9yZSgpO1xuICAgIGNvbnN0IHVzZUVkaXRDb21wb3NlciA9IG1ha2VFZGl0Q29tcG9zZXJTdG9yZSh7XG4gICAgICBvbkVkaXQ6ICgpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHVzZU1lc3NhZ2UuZ2V0U3RhdGUoKS5tZXNzYWdlO1xuICAgICAgICBpZiAobWVzc2FnZS5yb2xlICE9PSBcInVzZXJcIilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIlRyaWVkIHRvIGVkaXQgYSBub24tdXNlciBtZXNzYWdlLiBFZGl0aW5nIGlzIG9ubHkgc3VwcG9ydGVkIGZvciB1c2VyIG1lc3NhZ2VzLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLlwiLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IGdldFRocmVhZE1lc3NhZ2VUZXh0KG1lc3NhZ2UpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfSxcbiAgICAgIG9uU2VuZDogKHRleHQpID0+IHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlLCBwYXJlbnRJZCB9ID0gdXNlTWVzc2FnZS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAobWVzc2FnZS5yb2xlICE9PSBcInVzZXJcIilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIlRyaWVkIHRvIGVkaXQgYSBub24tdXNlciBtZXNzYWdlLiBFZGl0aW5nIGlzIG9ubHkgc3VwcG9ydGVkIGZvciB1c2VyIG1lc3NhZ2VzLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLlwiLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcHJldmlvdXNUZXh0ID0gZ2V0VGhyZWFkTWVzc2FnZVRleHQobWVzc2FnZSk7XG4gICAgICAgIGlmIChwcmV2aW91c1RleHQgPT09IHRleHQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBub25UZXh0UGFydHMgPSBtZXNzYWdlLmNvbnRlbnQuZmlsdGVyKFxuICAgICAgICAgIChwYXJ0KTogcGFydCBpcyBDb3JlVXNlckNvbnRlbnRQYXJ0ID0+XG4gICAgICAgICAgICBwYXJ0LnR5cGUgIT09IFwidGV4dFwiICYmIHBhcnQudHlwZSAhPT0gXCJ1aVwiLFxuICAgICAgICApO1xuICAgICAgICB1c2VUaHJlYWRBY3Rpb25zLmdldFN0YXRlKCkuYXBwZW5kKHtcbiAgICAgICAgICBwYXJlbnRJZCxcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dCB9LCAuLi5ub25UZXh0UGFydHNdLFxuICAgICAgICAgIGF0dGFjaG1lbnRzOiBtZXNzYWdlLmF0dGFjaG1lbnRzLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4geyB1c2VNZXNzYWdlLCB1c2VNZXNzYWdlVXRpbHMsIHVzZUVkaXRDb21wb3NlciB9O1xuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN5bmNNZXNzYWdlID0gKHRocmVhZDogVGhyZWFkTWVzc2FnZXNTdGF0ZSkgPT4ge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSBnZXRNZXNzYWdlU3RhdGUoXG4gICAgICAgIHRocmVhZCxcbiAgICAgICAgdXNlVGhyZWFkQWN0aW9ucy5nZXRTdGF0ZSgpLmdldEJyYW5jaGVzLFxuICAgICAgICBjb250ZXh0LnVzZU1lc3NhZ2UsXG4gICAgICAgIG1lc3NhZ2VJbmRleCxcbiAgICAgICk7XG4gICAgICBpZiAoIW5ld1N0YXRlKSByZXR1cm47XG4gICAgICB3cml0YWJsZVN0b3JlKGNvbnRleHQudXNlTWVzc2FnZSkuc2V0U3RhdGUobmV3U3RhdGUsIHRydWUpO1xuICAgIH07XG5cbiAgICBzeW5jTWVzc2FnZSh1c2VUaHJlYWRNZXNzYWdlcy5nZXRTdGF0ZSgpKTtcblxuICAgIHJldHVybiB1c2VUaHJlYWRNZXNzYWdlcy5zdWJzY3JpYmUoc3luY01lc3NhZ2UpO1xuICB9LCBbdXNlVGhyZWFkTWVzc2FnZXMsIHVzZVRocmVhZEFjdGlvbnMsIGNvbnRleHQsIG1lc3NhZ2VJbmRleF0pO1xuXG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuZXhwb3J0IGNvbnN0IE1lc3NhZ2VQcm92aWRlcjogRkM8TWVzc2FnZVByb3ZpZGVyUHJvcHM+ID0gKHtcbiAgbWVzc2FnZUluZGV4LFxuICBjaGlsZHJlbixcbn0pID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZU1lc3NhZ2VDb250ZXh0KG1lc3NhZ2VJbmRleCk7XG5cbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvTWVzc2FnZUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuXG5leHBvcnQgdHlwZSBFZGl0Q29tcG9zZXJTdGF0ZSA9IFJlYWRvbmx5PHtcbiAgLy8gVE9ET1xuICAvKiogQGRlcHJlY2F0ZWQgVXNlIGB0ZXh0YCBpbnN0ZWFkLiAqL1xuICB2YWx1ZTogc3RyaW5nO1xuICAvKiogQGRlcHJlY2F0ZWQgVXNlIGBzZXRUZXh0YCBpbnN0ZWFkLiAqL1xuICBzZXRWYWx1ZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgdGV4dDogc3RyaW5nO1xuICBzZXRUZXh0OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcblxuICBjYW5DYW5jZWw6IGJvb2xlYW47XG4gIGlzRWRpdGluZzogYm9vbGVhbjtcbiAgaXNFbXB0eTogYm9vbGVhbjtcblxuICBlZGl0OiAoKSA9PiB2b2lkO1xuICBzZW5kOiAoKSA9PiB2b2lkO1xuICBjYW5jZWw6ICgpID0+IHZvaWQ7XG59PjtcblxuZXhwb3J0IGNvbnN0IG1ha2VFZGl0Q29tcG9zZXJTdG9yZSA9ICh7XG4gIG9uRWRpdCxcbiAgb25TZW5kLFxufToge1xuICBvbkVkaXQ6ICgpID0+IHN0cmluZztcbiAgb25TZW5kOiAodGV4dDogc3RyaW5nKSA9PiB2b2lkO1xufSk6IFJlYWRvbmx5U3RvcmU8RWRpdENvbXBvc2VyU3RhdGU+ID0+XG4gIGNyZWF0ZTxFZGl0Q29tcG9zZXJTdGF0ZT4oKSgoc2V0LCBnZXQpID0+ICh7XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgcmV0dXJuIGdldCgpLnRleHQ7XG4gICAgfSxcbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgZ2V0KCkuc2V0VGV4dCh2YWx1ZSk7XG4gICAgfSxcblxuICAgIHRleHQ6IFwiXCIsXG4gICAgc2V0VGV4dDogKHRleHQpID0+IHtcbiAgICAgIHNldCh7IHRleHQsIGlzRW1wdHk6IHRleHQudHJpbSgpLmxlbmd0aCA9PT0gMCB9KTtcbiAgICB9LFxuXG4gICAgY2FuQ2FuY2VsOiBmYWxzZSxcbiAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgIGlzRW1wdHk6IHRydWUsXG5cbiAgICBlZGl0OiAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0ID0gb25FZGl0KCk7XG4gICAgICBzZXQoe1xuICAgICAgICBpc0VkaXRpbmc6IHRydWUsXG4gICAgICAgIGNhbkNhbmNlbDogdHJ1ZSxcbiAgICAgICAgaXNFbXB0eTogdGV4dC50cmltKCkubGVuZ3RoID09PSAwLFxuICAgICAgICB0ZXh0LFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBzZW5kOiAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0ID0gZ2V0KCkudGV4dDtcbiAgICAgIHNldCh7IGlzRWRpdGluZzogZmFsc2UsIGNhbkNhbmNlbDogZmFsc2UgfSk7XG4gICAgICBvblNlbmQodGV4dCk7XG4gICAgfSxcbiAgICBjYW5jZWw6ICgpID0+IHtcbiAgICAgIHNldCh7IGlzRWRpdGluZzogZmFsc2UsIGNhbkNhbmNlbDogZmFsc2UgfSk7XG4gICAgfSxcbiAgfSkpO1xuIiwiaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IFNwZWVjaFN5bnRoZXNpc0FkYXB0ZXIgfSBmcm9tIFwiLi4vLi4vcnVudGltZXMvc3BlZWNoL1NwZWVjaEFkYXB0ZXJUeXBlc1wiO1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlVXRpbHNTdGF0ZSA9IFJlYWRvbmx5PHtcbiAgaXNDb3BpZWQ6IGJvb2xlYW47XG4gIHNldElzQ29waWVkOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIGlzSG92ZXJpbmc6IGJvb2xlYW47XG4gIHNldElzSG92ZXJpbmc6ICh2YWx1ZTogYm9vbGVhbikgPT4gdm9pZDtcblxuICBpc1NwZWFraW5nOiBib29sZWFuO1xuICBzdG9wU3BlYWtpbmc6ICgpID0+IHZvaWQ7XG4gIGFkZFV0dGVyYW5jZTogKHV0dGVyYW5jZTogU3BlZWNoU3ludGhlc2lzQWRhcHRlci5VdHRlcmFuY2UpID0+IHZvaWQ7XG59PjtcblxuZXhwb3J0IGNvbnN0IG1ha2VNZXNzYWdlVXRpbHNTdG9yZSA9ICgpID0+XG4gIGNyZWF0ZTxNZXNzYWdlVXRpbHNTdGF0ZT4oKHNldCkgPT4ge1xuICAgIGxldCB1dHRlcmFuY2U6IFNwZWVjaFN5bnRoZXNpc0FkYXB0ZXIuVXR0ZXJhbmNlIHwgbnVsbCA9IG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQ29waWVkOiBmYWxzZSxcbiAgICAgIHNldElzQ29waWVkOiAodmFsdWUpID0+IHtcbiAgICAgICAgc2V0KHsgaXNDb3BpZWQ6IHZhbHVlIH0pO1xuICAgICAgfSxcbiAgICAgIGlzSG92ZXJpbmc6IGZhbHNlLFxuICAgICAgc2V0SXNIb3ZlcmluZzogKHZhbHVlKSA9PiB7XG4gICAgICAgIHNldCh7IGlzSG92ZXJpbmc6IHZhbHVlIH0pO1xuICAgICAgfSxcbiAgICAgIGlzU3BlYWtpbmc6IGZhbHNlLFxuICAgICAgc3RvcFNwZWFraW5nOiAoKSA9PiB7XG4gICAgICAgIHV0dGVyYW5jZT8uY2FuY2VsKCk7XG4gICAgICB9LFxuICAgICAgYWRkVXR0ZXJhbmNlOiAodXR0KSA9PiB7XG4gICAgICAgIHV0dGVyYW5jZSA9IHV0dDtcbiAgICAgICAgc2V0KHsgaXNTcGVha2luZzogdHJ1ZSB9KTtcbiAgICAgICAgdXR0Lm9uRW5kKCgpID0+IHtcbiAgICAgICAgICBzZXQoeyBpc1NwZWFraW5nOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH07XG4gIH0pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IHVzZVRocmVhZFNjcm9sbFRvQm90dG9tIH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy90aHJlYWQvdXNlVGhyZWFkU2Nyb2xsVG9Cb3R0b21cIjtcblxuZXhwb3J0IHR5cGUgVGhyZWFkUHJpbWl0aXZlU2Nyb2xsVG9Cb3R0b21Qcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPFxuICB0eXBlb2YgdXNlVGhyZWFkU2Nyb2xsVG9Cb3R0b21cbj47XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVTY3JvbGxUb0JvdHRvbSA9IGNyZWF0ZUFjdGlvbkJ1dHRvbihcbiAgXCJUaHJlYWRQcmltaXRpdmUuU2Nyb2xsVG9Cb3R0b21cIixcbiAgdXNlVGhyZWFkU2Nyb2xsVG9Cb3R0b20sXG4pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IHVzZVRocmVhZFN1Z2dlc3Rpb24gfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL3RocmVhZC91c2VUaHJlYWRTdWdnZXN0aW9uXCI7XG5cbmV4cG9ydCB0eXBlIFRocmVhZFByaW1pdGl2ZVN1Z2dlc3Rpb25Qcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPFxuICB0eXBlb2YgdXNlVGhyZWFkU3VnZ2VzdGlvblxuPjtcblxuZXhwb3J0IGNvbnN0IFRocmVhZFByaW1pdGl2ZVN1Z2dlc3Rpb24gPSBjcmVhdGVBY3Rpb25CdXR0b24oXG4gIFwiVGhyZWFkUHJpbWl0aXZlLlN1Z2dlc3Rpb25cIixcbiAgdXNlVGhyZWFkU3VnZ2VzdGlvbixcbiAgW1wicHJvbXB0XCIsIFwiYXV0b1NlbmRcIiwgXCJtZXRob2RcIl0sXG4pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIENvbXBvbmVudFR5cGUsXG4gIEZDLFxuICBQcm9wc1dpdGhDaGlsZHJlbixcbiAgUmVhY3ROb2RlLFxuICBjcmVhdGVDb250ZXh0LFxuICB1c2VDb250ZXh0LFxufSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgQXZhdGFyUHJvcHMgfSBmcm9tIFwiLi9iYXNlL2F2YXRhclwiO1xuaW1wb3J0IHsgVGV4dENvbnRlbnRQYXJ0Q29tcG9uZW50LCBUb29sQ2FsbENvbnRlbnRQYXJ0UHJvcHMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IEFzc2lzdGFudFJ1bnRpbWUgfSBmcm9tIFwiLi4vcnVudGltZXNcIjtcbmltcG9ydCB7IEFzc2lzdGFudFJ1bnRpbWVQcm92aWRlciwgdXNlQXNzaXN0YW50Q29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0XCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRUb29sVUkgfSBmcm9tIFwiLi4vbW9kZWwtY29uZmlnXCI7XG5cbmV4cG9ydCB0eXBlIFN1Z2dlc3Rpb25Db25maWcgPSB7XG4gIHRleHQ/OiBSZWFjdE5vZGU7XG4gIHByb21wdDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgVGhyZWFkV2VsY29tZUNvbmZpZyA9IHtcbiAgbWVzc2FnZT86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIHN1Z2dlc3Rpb25zPzogU3VnZ2VzdGlvbkNvbmZpZ1tdIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgVXNlck1lc3NhZ2VDb25maWcgPSB7XG4gIGFsbG93RWRpdD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRNZXNzYWdlQ29uZmlnID0ge1xuICBhbGxvd1JlbG9hZD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGFsbG93Q29weT86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGFsbG93U3BlYWs/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBjb21wb25lbnRzPzpcbiAgICB8IHtcbiAgICAgICAgVGV4dD86IFRleHRDb250ZW50UGFydENvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgVG9vbEZhbGxiYWNrPzogQ29tcG9uZW50VHlwZTxUb29sQ2FsbENvbnRlbnRQYXJ0UHJvcHM+IHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgQnJhbmNoUGlja2VyQ29uZmlnID0ge1xuICBhbGxvd0JyYW5jaFBpY2tlcj86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBDb21wb3NlckNvbmZpZyA9IHtcbiAgYWxsb3dBdHRhY2htZW50cz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBTdHJpbmdzQ29uZmlnID0ge1xuICBhc3Npc3RhbnRNb2RhbD86IHtcbiAgICBvcGVuOiB7XG4gICAgICBidXR0b246IHtcbiAgICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfTtcbiAgICBjbG9zZWQ6IHtcbiAgICAgIGJ1dHRvbjoge1xuICAgICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xuICB0aHJlYWQ/OiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gIH07XG4gIHVzZXJNZXNzYWdlPzoge1xuICAgIGVkaXQ/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gIH07XG4gIGFzc2lzdGFudE1lc3NhZ2U/OiB7XG4gICAgcmVsb2FkPzoge1xuICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIGNvcHk/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gICAgc3BlYWs/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgc3RvcD86IHtcbiAgICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbiAgYnJhbmNoUGlja2VyPzoge1xuICAgIHByZXZpb3VzPzoge1xuICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIG5leHQ/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gIH07XG4gIGNvbXBvc2VyPzoge1xuICAgIHNlbmQ/OlxuICAgICAgfCB7XG4gICAgICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfCB1bmRlZmluZWQ7XG4gICAgY2FuY2VsPzpcbiAgICAgIHwge1xuICAgICAgICAgIHRvb2x0aXA/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIHwgdW5kZWZpbmVkO1xuICAgIGFkZEF0dGFjaG1lbnQ/OlxuICAgICAgfCB7XG4gICAgICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfCB1bmRlZmluZWQ7XG4gICAgcmVtb3ZlQXR0YWNobWVudD86IHtcbiAgICAgIHRvb2x0aXA/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBpbnB1dD86IHtcbiAgICAgIHBsYWNlaG9sZGVyPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gIH07XG4gIGVkaXRDb21wb3Nlcj86IHtcbiAgICBzZW5kPzoge1xuICAgICAgbGFiZWw/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBjYW5jZWw/OiB7XG4gICAgICBsYWJlbD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICB9O1xuICB9O1xuICBjb2RlPzoge1xuICAgIGhlYWRlcj86IHtcbiAgICAgIGNvcHk/OiB7XG4gICAgICAgIHRvb2x0aXA/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59O1xuXG5jb25zdCBUaHJlYWRDb25maWdDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUaHJlYWRDb25maWc+KHt9KTtcblxuZXhwb3J0IHR5cGUgVGhyZWFkQ29uZmlnID0ge1xuICBydW50aW1lPzogQXNzaXN0YW50UnVudGltZTtcblxuICBhc3Npc3RhbnRBdmF0YXI/OiBBdmF0YXJQcm9wcztcblxuICB3ZWxjb21lPzogVGhyZWFkV2VsY29tZUNvbmZpZztcbiAgYXNzaXN0YW50TWVzc2FnZT86IEFzc2lzdGFudE1lc3NhZ2VDb25maWc7XG4gIHVzZXJNZXNzYWdlPzogVXNlck1lc3NhZ2VDb25maWc7XG5cbiAgYnJhbmNoUGlja2VyPzogQnJhbmNoUGlja2VyQ29uZmlnO1xuXG4gIGNvbXBvc2VyPzogQ29tcG9zZXJDb25maWc7XG5cbiAgc3RyaW5ncz86IFN0cmluZ3NDb25maWc7XG5cbiAgdG9vbHM/OiBBc3Npc3RhbnRUb29sVUlbXTsgLy8gVE9ETyBhZGQgQXNzaXN0YW50VG9vbCBzdXBwb3J0XG59O1xuXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkQ29uZmlnID0gKCk6IE9taXQ8VGhyZWFkQ29uZmlnLCBcInJ1bnRpbWVcIj4gPT4ge1xuICByZXR1cm4gdXNlQ29udGV4dChUaHJlYWRDb25maWdDb250ZXh0KTtcbn07XG5cbmV4cG9ydCB0eXBlIFRocmVhZENvbmZpZ1Byb3ZpZGVyUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIGNvbmZpZz86IFRocmVhZENvbmZpZyB8IHVuZGVmaW5lZDtcbn0+O1xuXG5leHBvcnQgY29uc3QgVGhyZWFkQ29uZmlnUHJvdmlkZXI6IEZDPFRocmVhZENvbmZpZ1Byb3ZpZGVyUHJvcHM+ID0gKHtcbiAgY2hpbGRyZW4sXG4gIGNvbmZpZyxcbn0pID0+IHtcbiAgY29uc3QgYXNzaXN0YW50ID0gdXNlQXNzaXN0YW50Q29udGV4dCh7IG9wdGlvbmFsOiB0cnVlIH0pO1xuXG4gIGNvbnN0IGNvbmZpZ1Byb3ZpZGVyID1cbiAgICBjb25maWcgJiYgT2JqZWN0LmtleXMoY29uZmlnID8/IHt9KS5sZW5ndGggPiAwID8gKFxuICAgICAgPFRocmVhZENvbmZpZ0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbmZpZ30+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvVGhyZWFkQ29uZmlnQ29udGV4dC5Qcm92aWRlcj5cbiAgICApIDogKFxuICAgICAgPD57Y2hpbGRyZW59PC8+XG4gICAgKTtcbiAgaWYgKCFjb25maWc/LnJ1bnRpbWUpIHJldHVybiBjb25maWdQcm92aWRlcjtcblxuICBpZiAoYXNzaXN0YW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJZb3UgcHJvdmlkZWQgYSBydW50aW1lIHRvIDxUaHJlYWQ+IHdoaWxlIHNpbXVsYXRhbmVvdXNseSB1c2luZyA8QXNzaXN0YW50UnVudGltZVByb3ZpZGVyPi4gVGhpcyBpcyBub3QgYWxsb3dlZC5cIixcbiAgICApO1xuICB9XG4gIHJldHVybiAoXG4gICAgPEFzc2lzdGFudFJ1bnRpbWVQcm92aWRlciBydW50aW1lPXtjb25maWcucnVudGltZX0+XG4gICAgICB7Y29uZmlnUHJvdmlkZXJ9XG4gICAgPC9Bc3Npc3RhbnRSdW50aW1lUHJvdmlkZXI+XG4gICk7XG59O1xuXG5UaHJlYWRDb25maWdQcm92aWRlci5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkQ29uZmlnUHJvdmlkZXJcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBBdWRpb0xpbmVzSWNvbixcbiAgQ2hlY2tJY29uLFxuICBDb3B5SWNvbixcbiAgUmVmcmVzaEN3SWNvbixcbiAgU3RvcENpcmNsZUljb24sXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IEFjdGlvbkJhclByaW1pdGl2ZSwgTWVzc2FnZVByaW1pdGl2ZSB9IGZyb20gXCIuLi9wcmltaXRpdmVzXCI7XG5pbXBvcnQge1xuICBUb29sdGlwSWNvbkJ1dHRvbixcbiAgVG9vbHRpcEljb25CdXR0b25Qcm9wcyxcbn0gZnJvbSBcIi4vYmFzZS90b29sdGlwLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgeyB3aXRoRGVmYXVsdHMgfSBmcm9tIFwiLi91dGlscy93aXRoRGVmYXVsdHNcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbmZpZyB9IGZyb20gXCIuL3RocmVhZC1jb25maWdcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dFwiO1xuXG5jb25zdCB1c2VBbGxvd0NvcHkgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50TWVzc2FnZTogeyBhbGxvd0NvcHkgPSB0cnVlIH0gPSB7fSB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IHsgdXNlVGhyZWFkIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIGNvbnN0IGNvcHlTdXBwb3J0ZWQgPSB1c2VUaHJlYWQoKHQpID0+IHQuY2FwYWJpbGl0aWVzLnVuc3RhYmxlX2NvcHkpO1xuICByZXR1cm4gYWxsb3dDb3B5ICYmICghZW5zdXJlQ2FwYWJpbGl0eSB8fCBjb3B5U3VwcG9ydGVkKTtcbn07XG5cbmNvbnN0IHVzZUFsbG93U3BlYWsgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50TWVzc2FnZTogeyBhbGxvd1NwZWFrID0gdHJ1ZSB9ID0ge30gfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCB7IHVzZVRocmVhZCB9ID0gdXNlVGhyZWFkQ29udGV4dCgpO1xuICBjb25zdCBzcGVha1N1cHBvcnRlZCA9IHVzZVRocmVhZCgodCkgPT4gdC5jYXBhYmlsaXRpZXMuc3BlYWspO1xuICByZXR1cm4gYWxsb3dTcGVhayAmJiAoIWVuc3VyZUNhcGFiaWxpdHkgfHwgc3BlYWtTdXBwb3J0ZWQpO1xufTtcblxuY29uc3QgdXNlQWxsb3dSZWxvYWQgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50TWVzc2FnZTogeyBhbGxvd1JlbG9hZCA9IHRydWUgfSA9IHt9IH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgeyB1c2VUaHJlYWQgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcbiAgY29uc3QgcmVsb2FkU3VwcG9ydGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmNhcGFiaWxpdGllcy5yZWxvYWQpO1xuICByZXR1cm4gYWxsb3dSZWxvYWQgJiYgKCFlbnN1cmVDYXBhYmlsaXR5IHx8IHJlbG9hZFN1cHBvcnRlZCk7XG59O1xuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXI6IEZDID0gKCkgPT4ge1xuICBjb25zdCBhbGxvd0NvcHkgPSB1c2VBbGxvd0NvcHkodHJ1ZSk7XG4gIGNvbnN0IGFsbG93UmVsb2FkID0gdXNlQWxsb3dSZWxvYWQodHJ1ZSk7XG4gIGNvbnN0IGFsbG93U3BlYWsgPSB1c2VBbGxvd1NwZWFrKHRydWUpO1xuICBpZiAoIWFsbG93Q29weSAmJiAhYWxsb3dSZWxvYWQgJiYgIWFsbG93U3BlYWspIHJldHVybiBudWxsO1xuICByZXR1cm4gKFxuICAgIDxBc3Npc3RhbnRBY3Rpb25CYXJSb290XG4gICAgICBoaWRlV2hlblJ1bm5pbmdcbiAgICAgIGF1dG9oaWRlPVwibm90LWxhc3RcIlxuICAgICAgYXV0b2hpZGVGbG9hdD1cInNpbmdsZS1icmFuY2hcIlxuICAgID5cbiAgICAgIHthbGxvd1NwZWFrICYmIDxBc3Npc3RhbnRBY3Rpb25CYXJTcGVlY2hDb250cm9sIC8+fVxuICAgICAge2FsbG93Q29weSAmJiA8QXNzaXN0YW50QWN0aW9uQmFyQ29weSAvPn1cbiAgICAgIHthbGxvd1JlbG9hZCAmJiA8QXNzaXN0YW50QWN0aW9uQmFyUmVsb2FkIC8+fVxuICAgIDwvQXNzaXN0YW50QWN0aW9uQmFyUm9vdD5cbiAgKTtcbn07XG5cbkFzc2lzdGFudEFjdGlvbkJhci5kaXNwbGF5TmFtZSA9IFwiQXNzaXN0YW50QWN0aW9uQmFyXCI7XG5cbmNvbnN0IEFzc2lzdGFudEFjdGlvbkJhclJvb3QgPSB3aXRoRGVmYXVsdHMoQWN0aW9uQmFyUHJpbWl0aXZlLlJvb3QsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1hc3Npc3RhbnQtYWN0aW9uLWJhci1yb290XCIsXG59KTtcblxuQXNzaXN0YW50QWN0aW9uQmFyUm9vdC5kaXNwbGF5TmFtZSA9IFwiQXNzaXN0YW50QWN0aW9uQmFyUm9vdFwiO1xuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJDb3B5ID0gZm9yd2FyZFJlZjxcbiAgSFRNTEJ1dHRvbkVsZW1lbnQsXG4gIFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz5cbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHtcbiAgICAgIGFzc2lzdGFudE1lc3NhZ2U6IHsgY29weTogeyB0b29sdGlwID0gXCJDb3B5XCIgfSA9IHt9IH0gPSB7fSxcbiAgICB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcblxuICByZXR1cm4gKFxuICAgIDxBY3Rpb25CYXJQcmltaXRpdmUuQ29weSBhc0NoaWxkPlxuICAgICAgPFRvb2x0aXBJY29uQnV0dG9uIHRvb2x0aXA9e3Rvb2x0aXB9IHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW4gPz8gKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8TWVzc2FnZVByaW1pdGl2ZS5JZiBjb3BpZWQ+XG4gICAgICAgICAgICAgIDxDaGVja0ljb24gLz5cbiAgICAgICAgICAgIDwvTWVzc2FnZVByaW1pdGl2ZS5JZj5cbiAgICAgICAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLklmIGNvcGllZD17ZmFsc2V9PlxuICAgICAgICAgICAgICA8Q29weUljb24gLz5cbiAgICAgICAgICAgIDwvTWVzc2FnZVByaW1pdGl2ZS5JZj5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgIDwvVG9vbHRpcEljb25CdXR0b24+XG4gICAgPC9BY3Rpb25CYXJQcmltaXRpdmUuQ29weT5cbiAgKTtcbn0pO1xuXG5Bc3Npc3RhbnRBY3Rpb25CYXJDb3B5LmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRBY3Rpb25CYXJDb3B5XCI7XG5cbmNvbnN0IEFzc2lzdGFudEFjdGlvbkJhclNwZWVjaENvbnRyb2w6IEZDID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TWVzc2FnZVByaW1pdGl2ZS5JZiBzcGVha2luZz17ZmFsc2V9PlxuICAgICAgICA8QXNzaXN0YW50QWN0aW9uQmFyU3BlYWsgLz5cbiAgICAgIDwvTWVzc2FnZVByaW1pdGl2ZS5JZj5cbiAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLklmIHNwZWFraW5nPlxuICAgICAgICA8QXNzaXN0YW50QWN0aW9uQmFyU3RvcFNwZWFraW5nIC8+XG4gICAgICA8L01lc3NhZ2VQcmltaXRpdmUuSWY+XG4gICAgPC8+XG4gICk7XG59O1xuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJTcGVhayA9IGZvcndhcmRSZWY8XG4gIEhUTUxCdXR0b25FbGVtZW50LFxuICBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+XG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBhc3Npc3RhbnRNZXNzYWdlOiB7IHNwZWFrOiB7IHRvb2x0aXAgPSBcIlJlYWQgYWxvdWRcIiB9ID0ge30gfSA9IHt9LFxuICAgIH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBhbGxvd1NwZWFrID0gdXNlQWxsb3dTcGVhaygpO1xuXG4gIHJldHVybiAoXG4gICAgPEFjdGlvbkJhclByaW1pdGl2ZS5TcGVhayBkaXNhYmxlZD17IWFsbG93U3BlYWt9IGFzQ2hpbGQ+XG4gICAgICA8VG9vbHRpcEljb25CdXR0b24gdG9vbHRpcD17dG9vbHRpcH0gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8QXVkaW9MaW5lc0ljb24gLz59XG4gICAgICA8L1Rvb2x0aXBJY29uQnV0dG9uPlxuICAgIDwvQWN0aW9uQmFyUHJpbWl0aXZlLlNwZWFrPlxuICApO1xufSk7XG5cbkFzc2lzdGFudEFjdGlvbkJhclNwZWFrLmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRBY3Rpb25CYXJTcGVha1wiO1xuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJTdG9wU3BlYWtpbmcgPSBmb3J3YXJkUmVmPFxuICBIVE1MQnV0dG9uRWxlbWVudCxcbiAgUGFydGlhbDxUb29sdGlwSWNvbkJ1dHRvblByb3BzPlxuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgc3RyaW5nczoge1xuICAgICAgYXNzaXN0YW50TWVzc2FnZToge1xuICAgICAgICBzcGVhazogeyBzdG9wOiB7IHRvb2x0aXA6IHN0b3BUb29sdGlwID0gXCJTdG9wXCIgfSA9IHt9IH0gPSB7fSxcbiAgICAgIH0gPSB7fSxcbiAgICB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgYWxsb3dTcGVhayA9IHVzZUFsbG93U3BlYWsoKTtcblxuICByZXR1cm4gKFxuICAgIDxBY3Rpb25CYXJQcmltaXRpdmUuU3RvcFNwZWFraW5nIGRpc2FibGVkPXshYWxsb3dTcGVha30gYXNDaGlsZD5cbiAgICAgIDxUb29sdGlwSWNvbkJ1dHRvbiB0b29sdGlwPXtzdG9wVG9vbHRpcH0gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8U3RvcENpcmNsZUljb24gLz59XG4gICAgICA8L1Rvb2x0aXBJY29uQnV0dG9uPlxuICAgIDwvQWN0aW9uQmFyUHJpbWl0aXZlLlN0b3BTcGVha2luZz5cbiAgKTtcbn0pO1xuXG5Bc3Npc3RhbnRBY3Rpb25CYXJTdG9wU3BlYWtpbmcuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudEFjdGlvbkJhclN0b3BTcGVha2luZ1wiO1xuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJSZWxvYWQgPSBmb3J3YXJkUmVmPFxuICBIVE1MQnV0dG9uRWxlbWVudCxcbiAgUGFydGlhbDxUb29sdGlwSWNvbkJ1dHRvblByb3BzPlxuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgc3RyaW5nczoge1xuICAgICAgYXNzaXN0YW50TWVzc2FnZTogeyByZWxvYWQ6IHsgdG9vbHRpcCA9IFwiUmVmcmVzaFwiIH0gPSB7fSB9ID0ge30sXG4gICAgfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IGFsbG93UmVsb2FkID0gdXNlQWxsb3dSZWxvYWQoKTtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uQmFyUHJpbWl0aXZlLlJlbG9hZCBkaXNhYmxlZD17IWFsbG93UmVsb2FkfSBhc0NoaWxkPlxuICAgICAgPFRvb2x0aXBJY29uQnV0dG9uIHRvb2x0aXA9e3Rvb2x0aXB9IHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgICA8UmVmcmVzaEN3SWNvbiAvPlxuICAgICAgPC9Ub29sdGlwSWNvbkJ1dHRvbj5cbiAgICA8L0FjdGlvbkJhclByaW1pdGl2ZS5SZWxvYWQ+XG4gICk7XG59KTtcblxuQXNzaXN0YW50QWN0aW9uQmFyUmVsb2FkLmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRBY3Rpb25CYXJSZWxvYWRcIjtcblxuY29uc3QgZXhwb3J0cyA9IHtcbiAgUm9vdDogQXNzaXN0YW50QWN0aW9uQmFyUm9vdCxcbiAgUmVsb2FkOiBBc3Npc3RhbnRBY3Rpb25CYXJSZWxvYWQsXG4gIENvcHk6IEFzc2lzdGFudEFjdGlvbkJhckNvcHksXG4gIFNwZWFrOiBBc3Npc3RhbnRBY3Rpb25CYXJTcGVhayxcbiAgU3RvcFNwZWFraW5nOiBBc3Npc3RhbnRBY3Rpb25CYXJTdG9wU3BlYWtpbmcsXG4gIFNwZWVjaENvbnRyb2w6IEFzc2lzdGFudEFjdGlvbkJhclNwZWVjaENvbnRyb2wsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBPYmplY3QuYXNzaWduKFxuICBBc3Npc3RhbnRBY3Rpb25CYXIsXG4gIGV4cG9ydHMsXG4pIGFzIHR5cGVvZiBBc3Npc3RhbnRBY3Rpb25CYXIgJiB0eXBlb2YgZXhwb3J0cztcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYsIGZvcndhcmRSZWYsIHVzZU1lbW8sIHR5cGUgRkMgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1lc3NhZ2VQcmltaXRpdmUsIE1lc3NhZ2VQcmltaXRpdmVDb250ZW50UHJvcHMgfSBmcm9tIFwiLi4vcHJpbWl0aXZlc1wiO1xuaW1wb3J0IEJyYW5jaFBpY2tlciBmcm9tIFwiLi9icmFuY2gtcGlja2VyXCI7XG5pbXBvcnQgeyBBdmF0YXIgfSBmcm9tIFwiLi9iYXNlL2F2YXRhclwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb25maWcgfSBmcm9tIFwiLi90aHJlYWQtY29uZmlnXCI7XG5pbXBvcnQgQXNzaXN0YW50QWN0aW9uQmFyIGZyb20gXCIuL2Fzc2lzdGFudC1hY3Rpb24tYmFyXCI7XG5pbXBvcnQgQ29udGVudFBhcnQgZnJvbSBcIi4vY29udGVudC1wYXJ0XCI7XG5cbmNvbnN0IEFzc2lzdGFudE1lc3NhZ2U6IEZDID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxBc3Npc3RhbnRNZXNzYWdlUm9vdD5cbiAgICAgIDxBc3Npc3RhbnRNZXNzYWdlQXZhdGFyIC8+XG4gICAgICA8QXNzaXN0YW50TWVzc2FnZUNvbnRlbnQgLz5cbiAgICAgIDxCcmFuY2hQaWNrZXIgLz5cbiAgICAgIDxBc3Npc3RhbnRBY3Rpb25CYXIgLz5cbiAgICA8L0Fzc2lzdGFudE1lc3NhZ2VSb290PlxuICApO1xufTtcblxuQXNzaXN0YW50TWVzc2FnZS5kaXNwbGF5TmFtZSA9IFwiQXNzaXN0YW50TWVzc2FnZVwiO1xuXG5jb25zdCBBc3Npc3RhbnRNZXNzYWdlQXZhdGFyOiBGQyA9ICgpID0+IHtcbiAgY29uc3QgeyBhc3Npc3RhbnRBdmF0YXI6IGF2YXRhciA9IHsgZmFsbGJhY2s6IFwiQVwiIH0gfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICByZXR1cm4gPEF2YXRhciB7Li4uYXZhdGFyfSAvPjtcbn07XG5cbmNvbnN0IEFzc2lzdGFudE1lc3NhZ2VSb290ID0gd2l0aERlZmF1bHRzKE1lc3NhZ2VQcmltaXRpdmUuUm9vdCwge1xuICBjbGFzc05hbWU6IFwiYXVpLWFzc2lzdGFudC1tZXNzYWdlLXJvb3RcIixcbn0pO1xuXG5Bc3Npc3RhbnRNZXNzYWdlUm9vdC5kaXNwbGF5TmFtZSA9IFwiQXNzaXN0YW50TWVzc2FnZVJvb3RcIjtcblxuY29uc3QgQXNzaXN0YW50TWVzc2FnZUNvbnRlbnRXcmFwcGVyID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1hc3Npc3RhbnQtbWVzc2FnZS1jb250ZW50XCIsXG59KTtcblxuZXhwb3J0IHR5cGUgQXNzaXN0YW50TWVzc2FnZUNvbnRlbnRQcm9wcyA9IE1lc3NhZ2VQcmltaXRpdmVDb250ZW50UHJvcHMgJlxuICBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8XCJkaXZcIj47XG5cbmNvbnN0IEFzc2lzdGFudE1lc3NhZ2VDb250ZW50ID0gZm9yd2FyZFJlZjxcbiAgSFRNTERpdkVsZW1lbnQsXG4gIEFzc2lzdGFudE1lc3NhZ2VDb250ZW50UHJvcHNcbj4oKHsgY29tcG9uZW50czogY29tcG9uZW50c1Byb3AsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG4gIGNvbnN0IHsgdG9vbHMsIGFzc2lzdGFudE1lc3NhZ2U6IHsgY29tcG9uZW50cyA9IHt9IH0gPSB7fSB9ID1cbiAgICB1c2VUaHJlYWRDb25maWcoKTtcblxuICBjb25zdCB0b29sc0NvbXBvbmVudHMgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBieV9uYW1lOiAhdG9vbHNcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICB0b29scy5tYXAoKHQpID0+IFtcbiAgICAgICAgICAgICAgdC51bnN0YWJsZV90b29sLnRvb2xOYW1lLFxuICAgICAgICAgICAgICB0LnVuc3RhYmxlX3Rvb2wucmVuZGVyLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgKSxcbiAgICAgIEZhbGxiYWNrOiBjb21wb25lbnRzLlRvb2xGYWxsYmFjayxcbiAgICB9KSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgWy4uLih0b29scyA/PyBbXSksIGNvbXBvbmVudHMuVG9vbEZhbGxiYWNrXSxcbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxBc3Npc3RhbnRNZXNzYWdlQ29udGVudFdyYXBwZXIgey4uLnJlc3R9IHJlZj17cmVmfT5cbiAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgICAgY29tcG9uZW50cz17e1xuICAgICAgICAgIC4uLmNvbXBvbmVudHNQcm9wLFxuICAgICAgICAgIFRleHQ6IGNvbXBvbmVudHNQcm9wPy5UZXh0ID8/IGNvbXBvbmVudHMuVGV4dCA/PyBDb250ZW50UGFydC5UZXh0LFxuICAgICAgICAgIHRvb2xzOiB0b29sc0NvbXBvbmVudHMsXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvQXNzaXN0YW50TWVzc2FnZUNvbnRlbnRXcmFwcGVyPlxuICApO1xufSk7XG5cbkFzc2lzdGFudE1lc3NhZ2VDb250ZW50LmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRNZXNzYWdlQ29udGVudFwiO1xuXG5jb25zdCBleHBvcnRzID0ge1xuICBSb290OiBBc3Npc3RhbnRNZXNzYWdlUm9vdCxcbiAgQXZhdGFyOiBBc3Npc3RhbnRNZXNzYWdlQXZhdGFyLFxuICBDb250ZW50OiBBc3Npc3RhbnRNZXNzYWdlQ29udGVudCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oXG4gIEFzc2lzdGFudE1lc3NhZ2UsXG4gIGV4cG9ydHMsXG4pIGFzIHR5cGVvZiBBc3Npc3RhbnRNZXNzYWdlICYgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDaGV2cm9uTGVmdEljb24sIENoZXZyb25SaWdodEljb24gfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbmltcG9ydCB7XG4gIFRvb2x0aXBJY29uQnV0dG9uLFxuICBUb29sdGlwSWNvbkJ1dHRvblByb3BzLFxufSBmcm9tIFwiLi9iYXNlL3Rvb2x0aXAtaWNvbi1idXR0b25cIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IHsgQnJhbmNoUGlja2VyUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dFwiO1xuXG5jb25zdCB1c2VBbGxvd0JyYW5jaFBpY2tlciA9IChlbnN1cmVDYXBhYmlsaXR5ID0gZmFsc2UpID0+IHtcbiAgY29uc3QgeyBicmFuY2hQaWNrZXI6IHsgYWxsb3dCcmFuY2hQaWNrZXIgPSB0cnVlIH0gPSB7fSB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IHsgdXNlVGhyZWFkIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIGNvbnN0IGJyYW5jaFBpY2tlclN1cHBvcnRlZCA9IHVzZVRocmVhZCgodCkgPT4gdC5jYXBhYmlsaXRpZXMuZWRpdCk7XG4gIHJldHVybiBhbGxvd0JyYW5jaFBpY2tlciAmJiAoIWVuc3VyZUNhcGFiaWxpdHkgfHwgYnJhbmNoUGlja2VyU3VwcG9ydGVkKTtcbn07XG5cbmNvbnN0IEJyYW5jaFBpY2tlcjogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IGFsbG93QnJhbmNoUGlja2VyID0gdXNlQWxsb3dCcmFuY2hQaWNrZXIoKTtcbiAgaWYgKCFhbGxvd0JyYW5jaFBpY2tlcikgcmV0dXJuIG51bGw7XG4gIHJldHVybiAoXG4gICAgPEJyYW5jaFBpY2tlclJvb3QgaGlkZVdoZW5TaW5nbGVCcmFuY2g+XG4gICAgICA8QnJhbmNoUGlja2VyUHJldmlvdXMgLz5cbiAgICAgIDxCcmFuY2hQaWNrZXJTdGF0ZSAvPlxuICAgICAgPEJyYW5jaFBpY2tlck5leHQgLz5cbiAgICA8L0JyYW5jaFBpY2tlclJvb3Q+XG4gICk7XG59O1xuXG5CcmFuY2hQaWNrZXIuZGlzcGxheU5hbWUgPSBcIkJyYW5jaFBpY2tlclwiO1xuXG5jb25zdCBCcmFuY2hQaWNrZXJSb290ID0gd2l0aERlZmF1bHRzKEJyYW5jaFBpY2tlclByaW1pdGl2ZS5Sb290LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktYnJhbmNoLXBpY2tlci1yb290XCIsXG59KTtcblxuQnJhbmNoUGlja2VyUm9vdC5kaXNwbGF5TmFtZSA9IFwiQnJhbmNoUGlja2VyUm9vdFwiO1xuXG5jb25zdCBCcmFuY2hQaWNrZXJQcmV2aW91cyA9IGZvcndhcmRSZWY8XG4gIEhUTUxCdXR0b25FbGVtZW50LFxuICBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+XG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBicmFuY2hQaWNrZXI6IHsgcHJldmlvdXM6IHsgdG9vbHRpcCA9IFwiUHJldmlvdXNcIiB9ID0ge30gfSA9IHt9LFxuICAgIH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBhbGxvd0JyYW5jaFBpY2tlciA9IHVzZUFsbG93QnJhbmNoUGlja2VyKCk7XG4gIHJldHVybiAoXG4gICAgPEJyYW5jaFBpY2tlclByaW1pdGl2ZS5QcmV2aW91cyBkaXNhYmxlZD17IWFsbG93QnJhbmNoUGlja2VyfSBhc0NoaWxkPlxuICAgICAgPFRvb2x0aXBJY29uQnV0dG9uIHRvb2x0aXA9e3Rvb2x0aXB9IHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW4gPz8gPENoZXZyb25MZWZ0SWNvbiAvPn1cbiAgICAgIDwvVG9vbHRpcEljb25CdXR0b24+XG4gICAgPC9CcmFuY2hQaWNrZXJQcmltaXRpdmUuUHJldmlvdXM+XG4gICk7XG59KTtcblxuQnJhbmNoUGlja2VyUHJldmlvdXMuZGlzcGxheU5hbWUgPSBcIkJyYW5jaFBpY2tlclByZXZpb3VzXCI7XG5cbmNvbnN0IEJyYW5jaFBpY2tlclN0YXRlV3JhcHBlciA9IHdpdGhEZWZhdWx0cyhcInNwYW5cIiwge1xuICBjbGFzc05hbWU6IFwiYXVpLWJyYW5jaC1waWNrZXItc3RhdGVcIixcbn0pO1xuXG5jb25zdCBCcmFuY2hQaWNrZXJTdGF0ZSA9IGZvcndhcmRSZWY8XG4gIEhUTUxTcGFuRWxlbWVudCxcbiAgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPFwic3BhblwiPlxuPigocHJvcHMsIHJlZikgPT4ge1xuICByZXR1cm4gKFxuICAgIDxCcmFuY2hQaWNrZXJTdGF0ZVdyYXBwZXIgey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICA8QnJhbmNoUGlja2VyUHJpbWl0aXZlLk51bWJlciAvPiAvIDxCcmFuY2hQaWNrZXJQcmltaXRpdmUuQ291bnQgLz5cbiAgICA8L0JyYW5jaFBpY2tlclN0YXRlV3JhcHBlcj5cbiAgKTtcbn0pO1xuXG5CcmFuY2hQaWNrZXJTdGF0ZS5kaXNwbGF5TmFtZSA9IFwiQnJhbmNoUGlja2VyU3RhdGVcIjtcblxuY29uc3QgQnJhbmNoUGlja2VyTmV4dCA9IGZvcndhcmRSZWY8XG4gIEhUTUxCdXR0b25FbGVtZW50LFxuICBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+XG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7IGJyYW5jaFBpY2tlcjogeyBuZXh0OiB7IHRvb2x0aXAgPSBcIk5leHRcIiB9ID0ge30gfSA9IHt9IH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBhbGxvd0JyYW5jaFBpY2tlciA9IHVzZUFsbG93QnJhbmNoUGlja2VyKCk7XG4gIHJldHVybiAoXG4gICAgPEJyYW5jaFBpY2tlclByaW1pdGl2ZS5OZXh0IGRpc2FibGVkPXshYWxsb3dCcmFuY2hQaWNrZXJ9IGFzQ2hpbGQ+XG4gICAgICA8VG9vbHRpcEljb25CdXR0b24gdG9vbHRpcD17dG9vbHRpcH0gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8Q2hldnJvblJpZ2h0SWNvbiAvPn1cbiAgICAgIDwvVG9vbHRpcEljb25CdXR0b24+XG4gICAgPC9CcmFuY2hQaWNrZXJQcmltaXRpdmUuTmV4dD5cbiAgKTtcbn0pO1xuXG5CcmFuY2hQaWNrZXJOZXh0LmRpc3BsYXlOYW1lID0gXCJCcmFuY2hQaWNrZXJOZXh0XCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IEJyYW5jaFBpY2tlclJvb3QsXG4gIFByZXZpb3VzOiBCcmFuY2hQaWNrZXJQcmV2aW91cyxcbiAgTmV4dDogQnJhbmNoUGlja2VyTmV4dCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oQnJhbmNoUGlja2VyLCBleHBvcnRzKSBhcyB0eXBlb2YgQnJhbmNoUGlja2VyICZcbiAgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHR5cGUgeyBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgQXZhdGFyUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtYXZhdGFyXCI7XG5cbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuLi91dGlscy93aXRoRGVmYXVsdHNcIjtcblxuZXhwb3J0IHR5cGUgQXZhdGFyUHJvcHMgPSB7XG4gIHNyYz86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgYWx0Pzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBmYWxsYmFjaz86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBBdmF0YXI6IEZDPEF2YXRhclByb3BzPiA9ICh7IHNyYywgYWx0LCBmYWxsYmFjayB9KSA9PiB7XG4gIGlmIChzcmMgPT0gbnVsbCAmJiBmYWxsYmFjayA9PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxBdmF0YXJSb290PlxuICAgICAge3NyYyAhPSBudWxsICYmIDxBdmF0YXJJbWFnZSBzcmM9e3NyY30gYWx0PXthbHR9IC8+fVxuICAgICAge2ZhbGxiYWNrICE9IG51bGwgJiYgPEF2YXRhckZhbGxiYWNrPntmYWxsYmFja308L0F2YXRhckZhbGxiYWNrPn1cbiAgICA8L0F2YXRhclJvb3Q+XG4gICk7XG59O1xuXG5BdmF0YXIuZGlzcGxheU5hbWUgPSBcIkF2YXRhclwiO1xuXG5leHBvcnQgY29uc3QgQXZhdGFyUm9vdCA9IHdpdGhEZWZhdWx0cyhBdmF0YXJQcmltaXRpdmUuUm9vdCwge1xuICBjbGFzc05hbWU6IFwiYXVpLWF2YXRhci1yb290XCIsXG59KTtcblxuQXZhdGFyUm9vdC5kaXNwbGF5TmFtZSA9IFwiQXZhdGFyUm9vdFwiO1xuXG5leHBvcnQgY29uc3QgQXZhdGFySW1hZ2UgPSB3aXRoRGVmYXVsdHMoQXZhdGFyUHJpbWl0aXZlLkltYWdlLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktYXZhdGFyLWltYWdlXCIsXG59KTtcblxuQXZhdGFySW1hZ2UuZGlzcGxheU5hbWUgPSBcIkF2YXRhckltYWdlXCI7XG5cbmV4cG9ydCBjb25zdCBBdmF0YXJGYWxsYmFjayA9IHdpdGhEZWZhdWx0cyhBdmF0YXJQcmltaXRpdmUuRmFsbGJhY2ssIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1hdmF0YXItZmFsbGJhY2tcIixcbn0pO1xuXG5BdmF0YXJGYWxsYmFjay5kaXNwbGF5TmFtZSA9IFwiQXZhdGFyRmFsbGJhY2tcIjtcbiIsImltcG9ydCB7IEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDb250ZW50UGFydFByaW1pdGl2ZSB9IGZyb20gXCIuLi9wcmltaXRpdmVzXCI7XG5pbXBvcnQgeyB1c2VTbW9vdGhTdGF0dXMsIHdpdGhTbW9vdGhDb250ZXh0UHJvdmlkZXIgfSBmcm9tIFwiLi4vdXRpbHMvc21vb3RoXCI7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiO1xuXG5leHBvcnQgY29uc3QgVGV4dDogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHN0YXR1cyA9IHVzZVNtb290aFN0YXR1cygpO1xuICByZXR1cm4gKFxuICAgIDxDb250ZW50UGFydFByaW1pdGl2ZS5UZXh0XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXG4gICAgICAgIFwiYXVpLXRleHRcIixcbiAgICAgICAgc3RhdHVzLnR5cGUgPT09IFwicnVubmluZ1wiICYmIFwiYXVpLXRleHQtcnVubmluZ1wiLFxuICAgICAgKX1cbiAgICAgIGNvbXBvbmVudD1cInBcIlxuICAgIC8+XG4gICk7XG59O1xuXG5jb25zdCBleHBvcnRzID0geyBUZXh0OiB3aXRoU21vb3RoQ29udGV4dFByb3ZpZGVyKFRleHQpIH07XG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdHlwZSBGQywgZm9yd2FyZFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQm90SWNvbiwgQ2hldnJvbkRvd25JY29uIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG5pbXBvcnQge1xuICBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZSxcbiAgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVSb290UHJvcHMsXG59IGZyb20gXCIuLi9wcmltaXRpdmVzXCI7XG5pbXBvcnQgVGhyZWFkIGZyb20gXCIuL3RocmVhZFwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQge1xuICBUb29sdGlwSWNvbkJ1dHRvbixcbiAgVG9vbHRpcEljb25CdXR0b25Qcm9wcyxcbn0gZnJvbSBcIi4vYmFzZS90b29sdGlwLWljb24tYnV0dG9uXCI7XG5pbXBvcnQge1xuICBUaHJlYWRDb25maWcsXG4gIFRocmVhZENvbmZpZ1Byb3ZpZGVyLFxuICBUaHJlYWRDb25maWdQcm92aWRlclByb3BzLFxuICB1c2VUaHJlYWRDb25maWcsXG59IGZyb20gXCIuL3RocmVhZC1jb25maWdcIjtcblxuY29uc3QgQXNzaXN0YW50TW9kYWw6IEZDPFRocmVhZENvbmZpZz4gPSAoY29uZmlnKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPEFzc2lzdGFudE1vZGFsUm9vdCBjb25maWc9e2NvbmZpZ30+XG4gICAgICA8QXNzaXN0YW50TW9kYWxUcmlnZ2VyIC8+XG4gICAgICA8QXNzaXN0YW50TW9kYWxDb250ZW50PlxuICAgICAgICA8VGhyZWFkIC8+XG4gICAgICA8L0Fzc2lzdGFudE1vZGFsQ29udGVudD5cbiAgICA8L0Fzc2lzdGFudE1vZGFsUm9vdD5cbiAgKTtcbn07XG5cbkFzc2lzdGFudE1vZGFsLmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRNb2RhbFwiO1xuXG5jb25zdCBBc3Npc3RhbnRNb2RhbFJvb3Q6IEZDPFxuICBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3RQcm9wcyAmIFRocmVhZENvbmZpZ1Byb3ZpZGVyUHJvcHNcbj4gPSAoeyBjb25maWcsIC4uLnByb3BzIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VGhyZWFkQ29uZmlnUHJvdmlkZXIgY29uZmlnPXtjb25maWd9PlxuICAgICAgPEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlLlJvb3Qgey4uLnByb3BzfSAvPlxuICAgIDwvVGhyZWFkQ29uZmlnUHJvdmlkZXI+XG4gICk7XG59O1xuXG5Bc3Npc3RhbnRNb2RhbFJvb3QuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsUm9vdFwiO1xuXG5jb25zdCBBc3Npc3RhbnRNb2RhbFRyaWdnZXIgPSBmb3J3YXJkUmVmPFxuICBIVE1MQnV0dG9uRWxlbWVudCxcbiAgUGFydGlhbDxUb29sdGlwSWNvbkJ1dHRvblByb3BzPlxuPigocHJvcHMsIHJlZikgPT4ge1xuICByZXR1cm4gKFxuICAgIDxBc3Npc3RhbnRNb2RhbEFuY2hvcj5cbiAgICAgIDxBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZS5UcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgIDxBc3Npc3RhbnRNb2RhbEJ1dHRvbiB7Li4ucHJvcHN9IHJlZj17cmVmfSAvPlxuICAgICAgPC9Bc3Npc3RhbnRNb2RhbFByaW1pdGl2ZS5UcmlnZ2VyPlxuICAgIDwvQXNzaXN0YW50TW9kYWxBbmNob3I+XG4gICk7XG59KTtcblxuQXNzaXN0YW50TW9kYWxUcmlnZ2VyLmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRNb2RhbFRyaWdnZXJcIjtcblxuY29uc3QgQXNzaXN0YW50TW9kYWxBbmNob3IgPSB3aXRoRGVmYXVsdHMoQXNzaXN0YW50TW9kYWxQcmltaXRpdmUuQW5jaG9yLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktcm9vdCBhdWktbW9kYWwtYW5jaG9yXCIsXG59KTtcblxuQXNzaXN0YW50TW9kYWxBbmNob3IuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsQW5jaG9yXCI7XG5cbmNvbnN0IE1vZGFsQnV0dG9uU3R5bGVkID0gd2l0aERlZmF1bHRzKFRvb2x0aXBJY29uQnV0dG9uLCB7XG4gIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICBjbGFzc05hbWU6IFwiYXVpLW1vZGFsLWJ1dHRvblwiLFxufSk7XG5cbnR5cGUgQXNzaXN0YW50TW9kYWxCdXR0b25Qcm9wcyA9IFRvb2x0aXBJY29uQnV0dG9uUHJvcHMgJiB7XG4gIFwiZGF0YS1zdGF0ZVwiPzogXCJvcGVuXCIgfCBcImNsb3NlZFwiO1xufTtcblxuY29uc3QgQXNzaXN0YW50TW9kYWxCdXR0b24gPSBmb3J3YXJkUmVmPFxuICBIVE1MQnV0dG9uRWxlbWVudCxcbiAgUGFydGlhbDxBc3Npc3RhbnRNb2RhbEJ1dHRvblByb3BzPlxuPigoeyBcImRhdGEtc3RhdGVcIjogc3RhdGUsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBhc3Npc3RhbnRNb2RhbDoge1xuICAgICAgICBvcGVuOiB7XG4gICAgICAgICAgYnV0dG9uOiB7IHRvb2x0aXA6IG9wZW5Ub29sdGlwID0gXCJDbG9zZSBBc3Npc3RhbnRcIiB9ID0ge30sXG4gICAgICAgIH0gPSB7fSxcbiAgICAgICAgY2xvc2VkOiB7XG4gICAgICAgICAgYnV0dG9uOiB7IHRvb2x0aXA6IGNsb3NlZFRvb2x0aXAgPSBcIk9wZW4gQXNzaXN0YW50XCIgfSA9IHt9LFxuICAgICAgICB9ID0ge30sXG4gICAgICB9ID0ge30sXG4gICAgfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IHRvb2x0aXAgPSBzdGF0ZSA9PT0gXCJvcGVuXCIgPyBvcGVuVG9vbHRpcCA6IGNsb3NlZFRvb2x0aXA7XG5cbiAgcmV0dXJuIChcbiAgICA8TW9kYWxCdXR0b25TdHlsZWRcbiAgICAgIHNpZGU9XCJsZWZ0XCJcbiAgICAgIHRvb2x0aXA9e3Rvb2x0aXB9XG4gICAgICBkYXRhLXN0YXRlPXtzdGF0ZX1cbiAgICAgIHsuLi5yZXN0fVxuICAgICAgcmVmPXtyZWZ9XG4gICAgPlxuICAgICAge3Jlc3QuY2hpbGRyZW4gPz8gKFxuICAgICAgICA8PlxuICAgICAgICAgIDxCb3RJY29uXG4gICAgICAgICAgICBkYXRhLXN0YXRlPXtzdGF0ZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImF1aS1tb2RhbC1idXR0b24tY2xvc2VkLWljb25cIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPENoZXZyb25Eb3duSWNvblxuICAgICAgICAgICAgZGF0YS1zdGF0ZT17c3RhdGV9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhdWktbW9kYWwtYnV0dG9uLW9wZW4taWNvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgIDwvTW9kYWxCdXR0b25TdHlsZWQ+XG4gICk7XG59KTtcblxuQXNzaXN0YW50TW9kYWxCdXR0b24uZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsQnV0dG9uXCI7XG5cbmNvbnN0IEFzc2lzdGFudE1vZGFsQ29udGVudCA9IHdpdGhEZWZhdWx0cyhBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZS5Db250ZW50LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktcm9vdCBhdWktbW9kYWwtY29udGVudFwiLFxuICBzaWRlT2Zmc2V0OiAxNixcbn0pO1xuXG5Bc3Npc3RhbnRNb2RhbENvbnRlbnQuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsQ29udGVudFwiO1xuXG5jb25zdCBleHBvcnRzID0ge1xuICBSb290OiBBc3Npc3RhbnRNb2RhbFJvb3QsXG4gIFRyaWdnZXI6IEFzc2lzdGFudE1vZGFsVHJpZ2dlcixcbiAgQ29udGVudDogQXNzaXN0YW50TW9kYWxDb250ZW50LFxuICBCdXR0b246IEFzc2lzdGFudE1vZGFsQnV0dG9uLFxuICBBbmNob3I6IEFzc2lzdGFudE1vZGFsQW5jaG9yLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihBc3Npc3RhbnRNb2RhbCwgZXhwb3J0cykgYXMgdHlwZW9mIEFzc2lzdGFudE1vZGFsICZcbiAgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50VHlwZSwgZm9yd2FyZFJlZiwgdHlwZSBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQXJyb3dEb3duSWNvbiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgQ29tcG9zZXIgZnJvbSBcIi4vY29tcG9zZXJcIjtcbmltcG9ydCBUaHJlYWRXZWxjb21lIGZyb20gXCIuL3RocmVhZC13ZWxjb21lXCI7XG5pbXBvcnQge1xuICBUb29sdGlwSWNvbkJ1dHRvbixcbiAgVG9vbHRpcEljb25CdXR0b25Qcm9wcyxcbn0gZnJvbSBcIi4vYmFzZS90b29sdGlwLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgQXNzaXN0YW50TWVzc2FnZSBmcm9tIFwiLi9hc3Npc3RhbnQtbWVzc2FnZVwiO1xuaW1wb3J0IFVzZXJNZXNzYWdlIGZyb20gXCIuL3VzZXItbWVzc2FnZVwiO1xuaW1wb3J0IEVkaXRDb21wb3NlciBmcm9tIFwiLi9lZGl0LWNvbXBvc2VyXCI7XG5pbXBvcnQge1xuICBUaHJlYWRDb25maWcsXG4gIFRocmVhZENvbmZpZ1Byb3ZpZGVyLFxuICBUaHJlYWRDb25maWdQcm92aWRlclByb3BzLFxuICB1c2VUaHJlYWRDb25maWcsXG59IGZyb20gXCIuL3RocmVhZC1jb25maWdcIjtcbmltcG9ydCB7IFRocmVhZFByaW1pdGl2ZSwgVGhyZWFkUHJpbWl0aXZlUm9vdFByb3BzIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcblxuY29uc3QgVGhyZWFkOiBGQzxUaHJlYWRDb25maWc+ID0gKGNvbmZpZykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxUaHJlYWRSb290IGNvbmZpZz17Y29uZmlnfT5cbiAgICAgIDxUaHJlYWRWaWV3cG9ydD5cbiAgICAgICAgPFRocmVhZFdlbGNvbWUgLz5cbiAgICAgICAgPFRocmVhZE1lc3NhZ2VzIC8+XG4gICAgICAgIDxUaHJlYWRWaWV3cG9ydEZvb3Rlcj5cbiAgICAgICAgICA8VGhyZWFkU2Nyb2xsVG9Cb3R0b20gLz5cbiAgICAgICAgICA8Q29tcG9zZXIgLz5cbiAgICAgICAgPC9UaHJlYWRWaWV3cG9ydEZvb3Rlcj5cbiAgICAgIDwvVGhyZWFkVmlld3BvcnQ+XG4gICAgPC9UaHJlYWRSb290PlxuICApO1xufTtcblxuZXhwb3J0IHR5cGUgVGhyZWFkUm9vdFByb3BzID0gVGhyZWFkUHJpbWl0aXZlUm9vdFByb3BzICZcbiAgVGhyZWFkQ29uZmlnUHJvdmlkZXJQcm9wcztcblxuY29uc3QgVGhyZWFkUm9vdFN0eWxlZCA9IHdpdGhEZWZhdWx0cyhUaHJlYWRQcmltaXRpdmUuUm9vdCwge1xuICBjbGFzc05hbWU6IFwiYXVpLXJvb3QgYXVpLXRocmVhZC1yb290XCIsXG59KTtcblxuY29uc3QgVGhyZWFkUm9vdCA9IGZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIFRocmVhZFJvb3RQcm9wcz4oXG4gICh7IGNvbmZpZywgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaHJlYWRDb25maWdQcm92aWRlciBjb25maWc9e2NvbmZpZ30+XG4gICAgICAgIDxUaHJlYWRSb290U3R5bGVkIHsuLi5wcm9wc30gcmVmPXtyZWZ9IC8+XG4gICAgICA8L1RocmVhZENvbmZpZ1Byb3ZpZGVyPlxuICAgICk7XG4gIH0sXG4pO1xuXG5UaHJlYWRSb290LmRpc3BsYXlOYW1lID0gXCJUaHJlYWRSb290XCI7XG5cbmNvbnN0IFRocmVhZFZpZXdwb3J0ID0gd2l0aERlZmF1bHRzKFRocmVhZFByaW1pdGl2ZS5WaWV3cG9ydCwge1xuICBjbGFzc05hbWU6IFwiYXVpLXRocmVhZC12aWV3cG9ydFwiLFxufSk7XG5cblRocmVhZFZpZXdwb3J0LmRpc3BsYXlOYW1lID0gXCJUaHJlYWRWaWV3cG9ydFwiO1xuXG5jb25zdCBUaHJlYWRWaWV3cG9ydEZvb3RlciA9IHdpdGhEZWZhdWx0cyhcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktdGhyZWFkLXZpZXdwb3J0LWZvb3RlclwiLFxufSk7XG5cblRocmVhZFZpZXdwb3J0Rm9vdGVyLmRpc3BsYXlOYW1lID0gXCJUaHJlYWRWaWV3cG9ydEZvb3RlclwiO1xuXG5jb25zdCBTeXN0ZW1NZXNzYWdlID0gKCkgPT4gbnVsbDtcblxuY29uc3QgVGhyZWFkTWVzc2FnZXM6IEZDPHtcbiAgY29tcG9uZW50cz86IHtcbiAgICBVc2VyTWVzc2FnZT86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgRWRpdENvbXBvc2VyPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICBBc3Npc3RhbnRNZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICBTeXN0ZW1NZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgfTtcbn0+ID0gKHsgY29tcG9uZW50cywgLi4ucmVzdCB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFRocmVhZFByaW1pdGl2ZS5NZXNzYWdlc1xuICAgICAgY29tcG9uZW50cz17e1xuICAgICAgICBVc2VyTWVzc2FnZTogY29tcG9uZW50cz8uVXNlck1lc3NhZ2UgPz8gVXNlck1lc3NhZ2UsXG4gICAgICAgIEVkaXRDb21wb3NlcjogY29tcG9uZW50cz8uRWRpdENvbXBvc2VyID8/IEVkaXRDb21wb3NlcixcbiAgICAgICAgQXNzaXN0YW50TWVzc2FnZTogY29tcG9uZW50cz8uQXNzaXN0YW50TWVzc2FnZSA/PyBBc3Npc3RhbnRNZXNzYWdlLFxuICAgICAgICBTeXN0ZW1NZXNzYWdlOiBjb21wb25lbnRzPy5TeXN0ZW1NZXNzYWdlID8/IFN5c3RlbU1lc3NhZ2UsXG4gICAgICB9fVxuICAgICAgey4uLnJlc3R9XG4gICAgLz5cbiAgKTtcbn07XG5cblRocmVhZE1lc3NhZ2VzLmRpc3BsYXlOYW1lID0gXCJUaHJlYWRNZXNzYWdlc1wiO1xuXG5jb25zdCBUaHJlYWRTY3JvbGxUb0JvdHRvbUljb25CdXR0b24gPSB3aXRoRGVmYXVsdHMoVG9vbHRpcEljb25CdXR0b24sIHtcbiAgdmFyaWFudDogXCJvdXRsaW5lXCIsXG4gIGNsYXNzTmFtZTogXCJhdWktdGhyZWFkLXNjcm9sbC10by1ib3R0b21cIixcbn0pO1xuXG5jb25zdCBUaHJlYWRTY3JvbGxUb0JvdHRvbSA9IGZvcndhcmRSZWY8XG4gIEhUTUxCdXR0b25FbGVtZW50LFxuICBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+XG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICB0aHJlYWQ6IHsgc2Nyb2xsVG9Cb3R0b206IHsgdG9vbHRpcCA9IFwiU2Nyb2xsIHRvIGJvdHRvbVwiIH0gPSB7fSB9ID0ge30sXG4gICAgfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIHJldHVybiAoXG4gICAgPFRocmVhZFByaW1pdGl2ZS5TY3JvbGxUb0JvdHRvbSBhc0NoaWxkPlxuICAgICAgPFRocmVhZFNjcm9sbFRvQm90dG9tSWNvbkJ1dHRvbiB0b29sdGlwPXt0b29sdGlwfSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxBcnJvd0Rvd25JY29uIC8+fVxuICAgICAgPC9UaHJlYWRTY3JvbGxUb0JvdHRvbUljb25CdXR0b24+XG4gICAgPC9UaHJlYWRQcmltaXRpdmUuU2Nyb2xsVG9Cb3R0b20+XG4gICk7XG59KTtcblxuVGhyZWFkU2Nyb2xsVG9Cb3R0b20uZGlzcGxheU5hbWUgPSBcIlRocmVhZFNjcm9sbFRvQm90dG9tXCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IFRocmVhZFJvb3QsXG4gIFZpZXdwb3J0OiBUaHJlYWRWaWV3cG9ydCxcbiAgTWVzc2FnZXM6IFRocmVhZE1lc3NhZ2VzLFxuICBTY3JvbGxUb0JvdHRvbTogVGhyZWFkU2Nyb2xsVG9Cb3R0b20sXG4gIFZpZXdwb3J0Rm9vdGVyOiBUaHJlYWRWaWV3cG9ydEZvb3Rlcixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oVGhyZWFkLCBleHBvcnRzKSBhcyB0eXBlb2YgVGhyZWFkICYgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IFBhcGVyY2xpcEljb24sIFNlbmRIb3Jpem9udGFsSWNvbiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IHtcbiAgVG9vbHRpcEljb25CdXR0b24sXG4gIFRvb2x0aXBJY29uQnV0dG9uUHJvcHMsXG59IGZyb20gXCIuL2Jhc2UvdG9vbHRpcC1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IHsgQ2lyY2xlU3RvcEljb24gfSBmcm9tIFwiLi9iYXNlL0NpcmNsZVN0b3BJY29uXCI7XG5pbXBvcnQgeyBDb21wb3NlclByaW1pdGl2ZSwgVGhyZWFkUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dC9yZWFjdC9UaHJlYWRDb250ZXh0XCI7XG5pbXBvcnQgQ29tcG9zZXJBdHRhY2htZW50IGZyb20gXCIuL2NvbXBvc2VyLWF0dGFjaG1lbnRcIjtcbmltcG9ydCB7IENvbXBvc2VyUHJpbWl0aXZlQXR0YWNobWVudHNQcm9wcyB9IGZyb20gXCIuLi9wcmltaXRpdmVzL2NvbXBvc2VyL0NvbXBvc2VyQXR0YWNobWVudHNcIjtcblxuY29uc3QgdXNlQWxsb3dBdHRhY2htZW50cyA9IChlbnN1cmVDYXBhYmlsaXR5ID0gZmFsc2UpID0+IHtcbiAgY29uc3QgeyBjb21wb3NlcjogeyBhbGxvd0F0dGFjaG1lbnRzID0gdHJ1ZSB9ID0ge30gfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCB7IHVzZVRocmVhZCB9ID0gdXNlVGhyZWFkQ29udGV4dCgpO1xuICBjb25zdCBhdHRhY2htZW50c1N1cHBvcnRlZCA9IHVzZVRocmVhZCgodCkgPT4gdC5jYXBhYmlsaXRpZXMuYXR0YWNobWVudHMpO1xuICByZXR1cm4gYWxsb3dBdHRhY2htZW50cyAmJiAoIWVuc3VyZUNhcGFiaWxpdHkgfHwgYXR0YWNobWVudHNTdXBwb3J0ZWQpO1xufTtcblxuY29uc3QgQ29tcG9zZXI6IEZDID0gKCkgPT4ge1xuICBjb25zdCBhbGxvd0F0dGFjaG1lbnRzID0gdXNlQWxsb3dBdHRhY2htZW50cyh0cnVlKTtcbiAgcmV0dXJuIChcbiAgICA8Q29tcG9zZXJSb290PlxuICAgICAge2FsbG93QXR0YWNobWVudHMgJiYgPENvbXBvc2VyQXR0YWNobWVudHMgLz59XG4gICAgICB7YWxsb3dBdHRhY2htZW50cyAmJiA8Q29tcG9zZXJBZGRBdHRhY2htZW50IC8+fVxuICAgICAgPENvbXBvc2VySW5wdXQgYXV0b0ZvY3VzIC8+XG4gICAgICA8Q29tcG9zZXJBY3Rpb24gLz5cbiAgICA8L0NvbXBvc2VyUm9vdD5cbiAgKTtcbn07XG5cbkNvbXBvc2VyLmRpc3BsYXlOYW1lID0gXCJDb21wb3NlclwiO1xuXG5jb25zdCBDb21wb3NlclJvb3QgPSB3aXRoRGVmYXVsdHMoQ29tcG9zZXJQcmltaXRpdmUuUm9vdCwge1xuICBjbGFzc05hbWU6IFwiYXVpLWNvbXBvc2VyLXJvb3RcIixcbn0pO1xuXG5Db21wb3NlclJvb3QuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyUm9vdFwiO1xuXG5jb25zdCBDb21wb3NlcklucHV0U3R5bGVkID0gd2l0aERlZmF1bHRzKENvbXBvc2VyUHJpbWl0aXZlLklucHV0LCB7XG4gIHJvd3M6IDEsXG4gIGF1dG9Gb2N1czogdHJ1ZSxcbiAgY2xhc3NOYW1lOiBcImF1aS1jb21wb3Nlci1pbnB1dFwiLFxufSk7XG5cbmV4cG9ydCB0eXBlIENvbXBvc2VySW5wdXRQcm9wcyA9IENvbXBvbmVudFByb3BzV2l0aG91dFJlZjxcbiAgdHlwZW9mIENvbXBvc2VySW5wdXRTdHlsZWRcbj47XG5jb25zdCBDb21wb3NlcklucHV0ID0gZm9yd2FyZFJlZjxIVE1MVGV4dEFyZWFFbGVtZW50LCBDb21wb3NlcklucHV0UHJvcHM+KFxuICAocHJvcHMsIHJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHN0cmluZ3M6IHtcbiAgICAgICAgY29tcG9zZXI6IHsgaW5wdXQ6IHsgcGxhY2Vob2xkZXIgPSBcIldyaXRlIGEgbWVzc2FnZS4uLlwiIH0gPSB7fSB9ID0ge30sXG4gICAgICB9ID0ge30sXG4gICAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICAgIHJldHVybiAoXG4gICAgICA8Q29tcG9zZXJJbnB1dFN0eWxlZCBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9IHsuLi5wcm9wc30gcmVmPXtyZWZ9IC8+XG4gICAgKTtcbiAgfSxcbik7XG5cbkNvbXBvc2VySW5wdXQuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VySW5wdXRcIjtcblxuY29uc3QgQ29tcG9zZXJBdHRhY2htZW50c0NvbnRhaW5lciA9IHdpdGhEZWZhdWx0cyhcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktY29tcG9zZXItYXR0YWNobWVudHNcIixcbn0pO1xuXG50eXBlIENvbXBvc2VyQXR0YWNobWVudHNQcm9wcyA9IFBhcnRpYWw8Q29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50c1Byb3BzPjtcblxuY29uc3QgQ29tcG9zZXJBdHRhY2htZW50czogRkM8Q29tcG9zZXJBdHRhY2htZW50c1Byb3BzPiA9ICh7IGNvbXBvbmVudHMgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxDb21wb3NlckF0dGFjaG1lbnRzQ29udGFpbmVyPlxuICAgICAgPENvbXBvc2VyUHJpbWl0aXZlLkF0dGFjaG1lbnRzXG4gICAgICAgIGNvbXBvbmVudHM9e3tcbiAgICAgICAgICAuLi5jb21wb25lbnRzLFxuICAgICAgICAgIEF0dGFjaG1lbnQ6IGNvbXBvbmVudHM/LkF0dGFjaG1lbnQgPz8gQ29tcG9zZXJBdHRhY2htZW50LFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICA8L0NvbXBvc2VyQXR0YWNobWVudHNDb250YWluZXI+XG4gICk7XG59O1xuXG5jb25zdCBDb21wb3NlckF0dGFjaEJ1dHRvbiA9IHdpdGhEZWZhdWx0cyhUb29sdGlwSWNvbkJ1dHRvbiwge1xuICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgY2xhc3NOYW1lOiBcImF1aS1jb21wb3Nlci1hdHRhY2hcIixcbn0pO1xuXG5jb25zdCBDb21wb3NlckFkZEF0dGFjaG1lbnQgPSBmb3J3YXJkUmVmPFxuICBIVE1MQnV0dG9uRWxlbWVudCxcbiAgUGFydGlhbDxUb29sdGlwSWNvbkJ1dHRvblByb3BzPlxuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgc3RyaW5nczoge1xuICAgICAgY29tcG9zZXI6IHsgYWRkQXR0YWNobWVudDogeyB0b29sdGlwID0gXCJBdHRhY2ggZmlsZVwiIH0gPSB7fSB9ID0ge30sXG4gICAgfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IGFsbG93QXR0YWNobWVudHMgPSB1c2VBbGxvd0F0dGFjaG1lbnRzKCk7XG4gIHJldHVybiAoXG4gICAgPENvbXBvc2VyUHJpbWl0aXZlLkFkZEF0dGFjaG1lbnQgZGlzYWJsZWQ9eyFhbGxvd0F0dGFjaG1lbnRzfSBhc0NoaWxkPlxuICAgICAgPENvbXBvc2VyQXR0YWNoQnV0dG9uXG4gICAgICAgIHRvb2x0aXA9e3Rvb2x0aXB9XG4gICAgICAgIHZhcmlhbnQ9e1wiZ2hvc3RcIn1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgID5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxQYXBlcmNsaXBJY29uIC8+fVxuICAgICAgPC9Db21wb3NlckF0dGFjaEJ1dHRvbj5cbiAgICA8L0NvbXBvc2VyUHJpbWl0aXZlLkFkZEF0dGFjaG1lbnQ+XG4gICk7XG59KTtcblxuQ29tcG9zZXJBZGRBdHRhY2htZW50LmRpc3BsYXlOYW1lID0gXCJDb21wb3NlckFkZEF0dGFjaG1lbnRcIjtcblxuY29uc3QgdXNlQWxsb3dDYW5jZWwgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlVGhyZWFkIH0gPSB1c2VUaHJlYWRDb250ZXh0KCk7XG4gIGNvbnN0IGNhbmNlbFN1cHBvcnRlZCA9IHVzZVRocmVhZCgodCkgPT4gdC5jYXBhYmlsaXRpZXMuY2FuY2VsKTtcbiAgcmV0dXJuIGNhbmNlbFN1cHBvcnRlZDtcbn07XG5cbmNvbnN0IENvbXBvc2VyQWN0aW9uOiBGQyA9ICgpID0+IHtcbiAgY29uc3QgYWxsb3dDYW5jZWwgPSB1c2VBbGxvd0NhbmNlbCgpO1xuICBpZiAoIWFsbG93Q2FuY2VsKSByZXR1cm4gPENvbXBvc2VyU2VuZCAvPjtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPFRocmVhZFByaW1pdGl2ZS5JZiBydW5uaW5nPXtmYWxzZX0+XG4gICAgICAgIDxDb21wb3NlclNlbmQgLz5cbiAgICAgIDwvVGhyZWFkUHJpbWl0aXZlLklmPlxuICAgICAgPFRocmVhZFByaW1pdGl2ZS5JZiBydW5uaW5nPlxuICAgICAgICA8Q29tcG9zZXJDYW5jZWwgLz5cbiAgICAgIDwvVGhyZWFkUHJpbWl0aXZlLklmPlxuICAgIDwvPlxuICApO1xufTtcblxuQ29tcG9zZXJBY3Rpb24uZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyQWN0aW9uXCI7XG5cbmNvbnN0IENvbXBvc2VyU2VuZEJ1dHRvbiA9IHdpdGhEZWZhdWx0cyhUb29sdGlwSWNvbkJ1dHRvbiwge1xuICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgY2xhc3NOYW1lOiBcImF1aS1jb21wb3Nlci1zZW5kXCIsXG59KTtcblxuY29uc3QgQ29tcG9zZXJTZW5kID0gZm9yd2FyZFJlZjxcbiAgSFRNTEJ1dHRvbkVsZW1lbnQsXG4gIFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz5cbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHsgY29tcG9zZXI6IHsgc2VuZDogeyB0b29sdGlwID0gXCJTZW5kXCIgfSA9IHt9IH0gPSB7fSB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgcmV0dXJuIChcbiAgICA8Q29tcG9zZXJQcmltaXRpdmUuU2VuZCBhc0NoaWxkPlxuICAgICAgPENvbXBvc2VyU2VuZEJ1dHRvbiB0b29sdGlwPXt0b29sdGlwfSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxTZW5kSG9yaXpvbnRhbEljb24gLz59XG4gICAgICA8L0NvbXBvc2VyU2VuZEJ1dHRvbj5cbiAgICA8L0NvbXBvc2VyUHJpbWl0aXZlLlNlbmQ+XG4gICk7XG59KTtcblxuQ29tcG9zZXJTZW5kLmRpc3BsYXlOYW1lID0gXCJDb21wb3NlclNlbmRcIjtcblxuY29uc3QgQ29tcG9zZXJDYW5jZWxCdXR0b24gPSB3aXRoRGVmYXVsdHMoVG9vbHRpcEljb25CdXR0b24sIHtcbiAgdmFyaWFudDogXCJkZWZhdWx0XCIsXG4gIGNsYXNzTmFtZTogXCJhdWktY29tcG9zZXItY2FuY2VsXCIsXG59KTtcblxuY29uc3QgQ29tcG9zZXJDYW5jZWwgPSBmb3J3YXJkUmVmPFxuICBIVE1MQnV0dG9uRWxlbWVudCxcbiAgUGFydGlhbDxUb29sdGlwSWNvbkJ1dHRvblByb3BzPlxuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgc3RyaW5nczogeyBjb21wb3NlcjogeyBjYW5jZWw6IHsgdG9vbHRpcCA9IFwiQ2FuY2VsXCIgfSA9IHt9IH0gPSB7fSB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgcmV0dXJuIChcbiAgICA8Q29tcG9zZXJQcmltaXRpdmUuQ2FuY2VsIGFzQ2hpbGQ+XG4gICAgICA8Q29tcG9zZXJDYW5jZWxCdXR0b24gdG9vbHRpcD17dG9vbHRpcH0gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8Q2lyY2xlU3RvcEljb24gLz59XG4gICAgICA8L0NvbXBvc2VyQ2FuY2VsQnV0dG9uPlxuICAgIDwvQ29tcG9zZXJQcmltaXRpdmUuQ2FuY2VsPlxuICApO1xufSk7XG5cbkNvbXBvc2VyQ2FuY2VsLmRpc3BsYXlOYW1lID0gXCJDb21wb3NlckNhbmNlbFwiO1xuXG5jb25zdCBleHBvcnRzID0ge1xuICBSb290OiBDb21wb3NlclJvb3QsXG4gIElucHV0OiBDb21wb3NlcklucHV0LFxuICBBY3Rpb246IENvbXBvc2VyQWN0aW9uLFxuICBTZW5kOiBDb21wb3NlclNlbmQsXG4gIENhbmNlbDogQ29tcG9zZXJDYW5jZWwsXG4gIEFkZEF0dGFjaG1lbnQ6IENvbXBvc2VyQWRkQXR0YWNobWVudCxcbiAgQXR0YWNobWVudHM6IENvbXBvc2VyQXR0YWNobWVudHMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBPYmplY3QuYXNzaWduKENvbXBvc2VyLCBleHBvcnRzKSBhcyB0eXBlb2YgQ29tcG9zZXIgJlxuICB0eXBlb2YgZXhwb3J0cztcbiIsImltcG9ydCB7IEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBDaXJjbGVTdG9wSWNvbjogRkMgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPHN2Z1xuICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgd2lkdGg9XCIxNlwiXG4gICAgICBoZWlnaHQ9XCIxNlwiXG4gICAgPlxuICAgICAgPHJlY3Qgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCIgeD1cIjNcIiB5PVwiM1wiIHJ4PVwiMlwiIC8+XG4gICAgPC9zdmc+XG4gICk7XG59O1xuXG5DaXJjbGVTdG9wSWNvbi5kaXNwbGF5TmFtZSA9IFwiQ2lyY2xlU3RvcEljb25cIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IENpcmNsZVhJY29uIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb25maWcgfSBmcm9tIFwiLi90aHJlYWQtY29uZmlnXCI7XG5pbXBvcnQge1xuICBUb29sdGlwSWNvbkJ1dHRvbixcbiAgVG9vbHRpcEljb25CdXR0b25Qcm9wcyxcbn0gZnJvbSBcIi4vYmFzZS90b29sdGlwLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQXR0YWNobWVudENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dC9yZWFjdC9BdHRhY2htZW50Q29udGV4dFwiO1xuXG5jb25zdCBDb21wb3NlckF0dGFjaG1lbnRSb290ID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1jb21wb3Nlci1hdHRhY2htZW50LXJvb3RcIixcbn0pO1xuXG5Db21wb3NlckF0dGFjaG1lbnRSb290LmRpc3BsYXlOYW1lID0gXCJDb21wb3NlckF0dGFjaG1lbnRSb290XCI7XG5cbmNvbnN0IENvbXBvc2VyQXR0YWNobWVudDogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlQXR0YWNobWVudCB9ID0gdXNlQXR0YWNobWVudENvbnRleHQoeyB0eXBlOiBcImNvbXBvc2VyXCIgfSk7XG4gIGNvbnN0IGF0dGFjaG1lbnQgPSB1c2VBdHRhY2htZW50KChhKSA9PiBhLmF0dGFjaG1lbnQpO1xuXG4gIHJldHVybiAoXG4gICAgPENvbXBvc2VyQXR0YWNobWVudFJvb3Q+XG4gICAgICAue2F0dGFjaG1lbnQubmFtZS5zcGxpdChcIi5cIikucG9wKCl9XG4gICAgICA8Q29tcG9zZXJBdHRhY2htZW50UmVtb3ZlIC8+XG4gICAgPC9Db21wb3NlckF0dGFjaG1lbnRSb290PlxuICApO1xufTtcblxuQ29tcG9zZXJBdHRhY2htZW50LmRpc3BsYXlOYW1lID0gXCJDb21wb3NlckF0dGFjaG1lbnRcIjtcblxuY29uc3QgQ29tcG9zZXJBdHRhY2htZW50UmVtb3ZlID0gZm9yd2FyZFJlZjxcbiAgSFRNTEJ1dHRvbkVsZW1lbnQsXG4gIFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz5cbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHtcbiAgICAgIGNvbXBvc2VyOiB7IHJlbW92ZUF0dGFjaG1lbnQ6IHsgdG9vbHRpcCA9IFwiUmVtb3ZlIGZpbGVcIiB9ID0ge30gfSA9IHt9LFxuICAgIH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuXG4gIGNvbnN0IHsgdXNlQ29tcG9zZXIgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcbiAgY29uc3QgeyB1c2VBdHRhY2htZW50IH0gPSB1c2VBdHRhY2htZW50Q29udGV4dCgpO1xuICBjb25zdCBoYW5kbGVSZW1vdmVBdHRhY2htZW50ID0gKCkgPT4ge1xuICAgIHVzZUNvbXBvc2VyXG4gICAgICAuZ2V0U3RhdGUoKVxuICAgICAgLnJlbW92ZUF0dGFjaG1lbnQodXNlQXR0YWNobWVudC5nZXRTdGF0ZSgpLmF0dGFjaG1lbnQuaWQpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFRvb2x0aXBJY29uQnV0dG9uXG4gICAgICB0b29sdGlwPXt0b29sdGlwfVxuICAgICAgY2xhc3NOYW1lPVwiYXVpLWNvbXBvc2VyLWF0dGFjaG1lbnQtcmVtb3ZlXCJcbiAgICAgIHNpZGU9XCJ0b3BcIlxuICAgICAgey4uLnByb3BzfVxuICAgICAgb25DbGljaz17aGFuZGxlUmVtb3ZlQXR0YWNobWVudH1cbiAgICAgIHJlZj17cmVmfVxuICAgID5cbiAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8Q2lyY2xlWEljb24gLz59XG4gICAgPC9Ub29sdGlwSWNvbkJ1dHRvbj5cbiAgKTtcbn0pO1xuXG5Db21wb3NlckF0dGFjaG1lbnRSZW1vdmUuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyQXR0YWNobWVudFJlbW92ZVwiO1xuXG5jb25zdCBleHBvcnRzID0ge1xuICBSb290OiBDb21wb3NlckF0dGFjaG1lbnRSb290LFxuICBSZW1vdmU6IENvbXBvc2VyQXR0YWNobWVudFJlbW92ZSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oXG4gIENvbXBvc2VyQXR0YWNobWVudCxcbiAgZXhwb3J0cyxcbikgYXMgdHlwZW9mIENvbXBvc2VyQXR0YWNobWVudCAmIHR5cGVvZiBleHBvcnRzO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENvbXBvbmVudFByb3BzV2l0aG91dFJlZiwgZm9yd2FyZFJlZiwgdHlwZSBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgeyBBdmF0YXIgfSBmcm9tIFwiLi9iYXNlL2F2YXRhclwiO1xuaW1wb3J0IHsgU3VnZ2VzdGlvbkNvbmZpZywgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IHsgVGhyZWFkUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcblxuY29uc3QgVGhyZWFkV2VsY29tZTogRkMgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFRocmVhZFdlbGNvbWVSb290PlxuICAgICAgPFRocmVhZFdlbGNvbWVDZW50ZXI+XG4gICAgICAgIDxUaHJlYWRXZWxjb21lQXZhdGFyIC8+XG4gICAgICAgIDxUaHJlYWRXZWxjb21lTWVzc2FnZSAvPlxuICAgICAgPC9UaHJlYWRXZWxjb21lQ2VudGVyPlxuICAgICAgPFRocmVhZFdlbGNvbWVTdWdnZXN0aW9ucyAvPlxuICAgIDwvVGhyZWFkV2VsY29tZVJvb3Q+XG4gICk7XG59O1xuXG5UaHJlYWRXZWxjb21lLmRpc3BsYXlOYW1lID0gXCJUaHJlYWRXZWxjb21lXCI7XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVSb290U3R5bGVkID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS10aHJlYWQtd2VsY29tZS1yb290XCIsXG59KTtcblxuY29uc3QgVGhyZWFkV2VsY29tZUNlbnRlciA9IHdpdGhEZWZhdWx0cyhcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktdGhyZWFkLXdlbGNvbWUtY2VudGVyXCIsXG59KTtcblxudHlwZSBUaHJlYWRXZWxjb21lUm9vdFByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPFwiZGl2XCI+O1xuXG5jb25zdCBUaHJlYWRXZWxjb21lUm9vdCA9IGZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIFRocmVhZFdlbGNvbWVSb290UHJvcHM+KFxuICAocHJvcHMsIHJlZikgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8VGhyZWFkUHJpbWl0aXZlLkVtcHR5PlxuICAgICAgICA8VGhyZWFkV2VsY29tZVJvb3RTdHlsZWQgey4uLnByb3BzfSByZWY9e3JlZn0gLz5cbiAgICAgIDwvVGhyZWFkUHJpbWl0aXZlLkVtcHR5PlxuICAgICk7XG4gIH0sXG4pO1xuXG5UaHJlYWRXZWxjb21lUm9vdC5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkV2VsY29tZVJvb3RcIjtcblxuY29uc3QgVGhyZWFkV2VsY29tZUF2YXRhcjogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50QXZhdGFyOiBhdmF0YXIgPSB7IGZhbGxiYWNrOiBcIkFcIiB9IH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgcmV0dXJuIDxBdmF0YXIgey4uLmF2YXRhcn0gLz47XG59O1xuXG5jb25zdCBUaHJlYWRXZWxjb21lTWVzc2FnZVN0eWxlZCA9IHdpdGhEZWZhdWx0cyhcInBcIiwge1xuICBjbGFzc05hbWU6IFwiYXVpLXRocmVhZC13ZWxjb21lLW1lc3NhZ2VcIixcbn0pO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRXZWxjb21lTWVzc2FnZVByb3BzID0gT21pdDxcbiAgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUaHJlYWRXZWxjb21lTWVzc2FnZVN0eWxlZD4sXG4gIFwiY2hpbGRyZW5cIlxuPiAmIHsgbWVzc2FnZT86IHN0cmluZyB8IHVuZGVmaW5lZCB9O1xuXG5jb25zdCBUaHJlYWRXZWxjb21lTWVzc2FnZSA9IGZvcndhcmRSZWY8XG4gIEhUTUxQYXJhZ3JhcGhFbGVtZW50LFxuICBUaHJlYWRXZWxjb21lTWVzc2FnZVByb3BzXG4+KCh7IG1lc3NhZ2U6IG1lc3NhZ2VQcm9wLCAuLi5yZXN0IH0sIHJlZikgPT4ge1xuICBjb25zdCB7IHdlbGNvbWU6IHsgbWVzc2FnZSA9IFwiSG93IGNhbiBJIGhlbHAgeW91IHRvZGF5P1wiIH0gPSB7fSB9ID1cbiAgICB1c2VUaHJlYWRDb25maWcoKTtcbiAgcmV0dXJuIChcbiAgICA8VGhyZWFkV2VsY29tZU1lc3NhZ2VTdHlsZWQgey4uLnJlc3R9IHJlZj17cmVmfT5cbiAgICAgIHttZXNzYWdlUHJvcCA/PyBtZXNzYWdlfVxuICAgIDwvVGhyZWFkV2VsY29tZU1lc3NhZ2VTdHlsZWQ+XG4gICk7XG59KTtcblxuVGhyZWFkV2VsY29tZU1lc3NhZ2UuZGlzcGxheU5hbWUgPSBcIlRocmVhZFdlbGNvbWVNZXNzYWdlXCI7XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVTdWdnZXN0aW9uQ29udGFpbmVyID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS10aHJlYWQtd2VsY29tZS1zdWdnZXN0aW9uLWNvbnRhaW5lclwiLFxufSk7XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVTdWdnZXN0aW9uU3R5bGVkID0gd2l0aERlZmF1bHRzKFRocmVhZFByaW1pdGl2ZS5TdWdnZXN0aW9uLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktdGhyZWFkLXdlbGNvbWUtc3VnZ2VzdGlvblwiLFxufSk7XG5cbmV4cG9ydCB0eXBlIFRocmVhZFdlbGNvbWVTdWdnZXN0aW9uUHJvcHMgPSB7XG4gIHN1Z2dlc3Rpb246IFN1Z2dlc3Rpb25Db25maWc7XG59O1xuXG5jb25zdCBUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbjogRkM8VGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25Qcm9wcz4gPSAoe1xuICBzdWdnZXN0aW9uOiB7IHRleHQsIHByb21wdCB9LFxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxUaHJlYWRXZWxjb21lU3VnZ2VzdGlvblN0eWxlZFxuICAgICAgcHJvbXB0PXtwcm9tcHR9XG4gICAgICBtZXRob2Q9XCJyZXBsYWNlXCJcbiAgICAgIGF1dG9TZW5kXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYXVpLXRocmVhZC13ZWxjb21lLXN1Z2dlc3Rpb24tdGV4dFwiPnt0ZXh0ID8/IHByb21wdH08L3NwYW4+XG4gICAgPC9UaHJlYWRXZWxjb21lU3VnZ2VzdGlvblN0eWxlZD5cbiAgKTtcbn07XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVTdWdnZXN0aW9uczogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgd2VsY29tZTogeyBzdWdnZXN0aW9ucyB9ID0ge30gfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICByZXR1cm4gKFxuICAgIDxUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbkNvbnRhaW5lcj5cbiAgICAgIHtzdWdnZXN0aW9ucz8ubWFwKChzdWdnZXN0aW9uLCBpZHgpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7c3VnZ2VzdGlvbi5wcm9tcHR9LSR7aWR4fWA7XG4gICAgICAgIHJldHVybiA8VGhyZWFkV2VsY29tZVN1Z2dlc3Rpb24ga2V5PXtrZXl9IHN1Z2dlc3Rpb249e3N1Z2dlc3Rpb259IC8+O1xuICAgICAgfSl9XG4gICAgPC9UaHJlYWRXZWxjb21lU3VnZ2VzdGlvbkNvbnRhaW5lcj5cbiAgKTtcbn07XG5cblRocmVhZFdlbGNvbWVTdWdnZXN0aW9ucy5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25zXCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IFRocmVhZFdlbGNvbWVSb290LFxuICBDZW50ZXI6IFRocmVhZFdlbGNvbWVDZW50ZXIsXG4gIEF2YXRhcjogVGhyZWFkV2VsY29tZUF2YXRhcixcbiAgTWVzc2FnZTogVGhyZWFkV2VsY29tZU1lc3NhZ2UsXG4gIFN1Z2dlc3Rpb25zOiBUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbnMsXG4gIFN1Z2dlc3Rpb246IFRocmVhZFdlbGNvbWVTdWdnZXN0aW9uLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihUaHJlYWRXZWxjb21lLCBleHBvcnRzKSBhcyB0eXBlb2YgVGhyZWFkV2VsY29tZSAmXG4gIHR5cGVvZiBleHBvcnRzO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENvbXBvbmVudFByb3BzV2l0aG91dFJlZiwgZm9yd2FyZFJlZiwgdHlwZSBGQyB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgQnJhbmNoUGlja2VyIGZyb20gXCIuL2JyYW5jaC1waWNrZXJcIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IFVzZXJBY3Rpb25CYXIgZnJvbSBcIi4vdXNlci1hY3Rpb24tYmFyXCI7XG5pbXBvcnQgQ29udGVudFBhcnQgZnJvbSBcIi4vY29udGVudC1wYXJ0XCI7XG5pbXBvcnQgeyBNZXNzYWdlUHJpbWl0aXZlLCBNZXNzYWdlUHJpbWl0aXZlQ29udGVudFByb3BzIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCBVc2VyTWVzc2FnZUF0dGFjaG1lbnQgZnJvbSBcIi4vdXNlci1tZXNzYWdlLWF0dGFjaG1lbnRcIjtcbmltcG9ydCB7IE1lc3NhZ2VQcmltaXRpdmVBdHRhY2htZW50c1Byb3BzIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXMvbWVzc2FnZS9NZXNzYWdlQXR0YWNobWVudHNcIjtcblxuY29uc3QgVXNlck1lc3NhZ2U6IEZDID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxVc2VyTWVzc2FnZVJvb3Q+XG4gICAgICA8VXNlck1lc3NhZ2VBdHRhY2htZW50cyAvPlxuICAgICAgPFVzZXJBY3Rpb25CYXIgLz5cbiAgICAgIDxVc2VyTWVzc2FnZUNvbnRlbnQgLz5cbiAgICAgIDxCcmFuY2hQaWNrZXIgLz5cbiAgICA8L1VzZXJNZXNzYWdlUm9vdD5cbiAgKTtcbn07XG5cblVzZXJNZXNzYWdlLmRpc3BsYXlOYW1lID0gXCJVc2VyTWVzc2FnZVwiO1xuXG5jb25zdCBVc2VyTWVzc2FnZVJvb3QgPSB3aXRoRGVmYXVsdHMoTWVzc2FnZVByaW1pdGl2ZS5Sb290LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktdXNlci1tZXNzYWdlLXJvb3RcIixcbn0pO1xuXG5Vc2VyTWVzc2FnZVJvb3QuZGlzcGxheU5hbWUgPSBcIlVzZXJNZXNzYWdlUm9vdFwiO1xuXG5jb25zdCBVc2VyTWVzc2FnZUNvbnRlbnRXcmFwcGVyID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS11c2VyLW1lc3NhZ2UtY29udGVudFwiLFxufSk7XG5cbmV4cG9ydCB0eXBlIFVzZXJNZXNzYWdlQ29udGVudFByb3BzID0gTWVzc2FnZVByaW1pdGl2ZUNvbnRlbnRQcm9wcyAmXG4gIENvbXBvbmVudFByb3BzV2l0aG91dFJlZjxcImRpdlwiPjtcblxuY29uc3QgVXNlck1lc3NhZ2VDb250ZW50ID0gZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgVXNlck1lc3NhZ2VDb250ZW50UHJvcHM+KFxuICAoeyBjb21wb25lbnRzLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFVzZXJNZXNzYWdlQ29udGVudFdyYXBwZXIgey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgICAgICBjb21wb25lbnRzPXt7XG4gICAgICAgICAgICAuLi5jb21wb25lbnRzLFxuICAgICAgICAgICAgVGV4dDogY29tcG9uZW50cz8uVGV4dCA/PyBDb250ZW50UGFydC5UZXh0LFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L1VzZXJNZXNzYWdlQ29udGVudFdyYXBwZXI+XG4gICAgKTtcbiAgfSxcbik7XG5cblVzZXJNZXNzYWdlQ29udGVudC5kaXNwbGF5TmFtZSA9IFwiVXNlck1lc3NhZ2VDb250ZW50XCI7XG5cbmNvbnN0IFVzZXJNZXNzYWdlQXR0YWNobWVudHNDb250YWluZXIgPSB3aXRoRGVmYXVsdHMoXCJkaXZcIiwge1xuICBjbGFzc05hbWU6IFwiYXVpLXVzZXItbWVzc2FnZS1hdHRhY2htZW50c1wiLFxufSk7XG5cbmV4cG9ydCB0eXBlIFVzZXJNZXNzYWdlQXR0YWNobWVudHNQcm9wcyA9XG4gIFBhcnRpYWw8TWVzc2FnZVByaW1pdGl2ZUF0dGFjaG1lbnRzUHJvcHM+O1xuXG5jb25zdCBVc2VyTWVzc2FnZUF0dGFjaG1lbnRzOiBGQzxVc2VyTWVzc2FnZUF0dGFjaG1lbnRzUHJvcHM+ID0gKHtcbiAgY29tcG9uZW50cyxcbn0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZVByaW1pdGl2ZS5JZiBoYXNBdHRhY2htZW50cz5cbiAgICAgIDxVc2VyTWVzc2FnZUF0dGFjaG1lbnRzQ29udGFpbmVyPlxuICAgICAgICA8TWVzc2FnZVByaW1pdGl2ZS5BdHRhY2htZW50c1xuICAgICAgICAgIGNvbXBvbmVudHM9e3tcbiAgICAgICAgICAgIC4uLmNvbXBvbmVudHMsXG4gICAgICAgICAgICBBdHRhY2htZW50OiBjb21wb25lbnRzPy5BdHRhY2htZW50ID8/IFVzZXJNZXNzYWdlQXR0YWNobWVudCxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9Vc2VyTWVzc2FnZUF0dGFjaG1lbnRzQ29udGFpbmVyPlxuICAgIDwvTWVzc2FnZVByaW1pdGl2ZS5JZj5cbiAgKTtcbn07XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IFVzZXJNZXNzYWdlUm9vdCxcbiAgQ29udGVudDogVXNlck1lc3NhZ2VDb250ZW50LFxuICBBdHRhY2htZW50czogVXNlck1lc3NhZ2VBdHRhY2htZW50cyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oVXNlck1lc3NhZ2UsIGV4cG9ydHMpIGFzIHR5cGVvZiBVc2VyTWVzc2FnZSAmXG4gIHR5cGVvZiBleHBvcnRzO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IGZvcndhcmRSZWYsIHR5cGUgRkMgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFBlbmNpbEljb24gfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbmltcG9ydCB7XG4gIFRvb2x0aXBJY29uQnV0dG9uLFxuICBUb29sdGlwSWNvbkJ1dHRvblByb3BzLFxufSBmcm9tIFwiLi9iYXNlL3Rvb2x0aXAtaWNvbi1idXR0b25cIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0XCI7XG5pbXBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmUgfSBmcm9tIFwiLi4vcHJpbWl0aXZlc1wiO1xuXG5jb25zdCB1c2VBbGxvd0VkaXQgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgdXNlck1lc3NhZ2U6IHsgYWxsb3dFZGl0ID0gdHJ1ZSB9ID0ge30gfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCB7IHVzZVRocmVhZCB9ID0gdXNlVGhyZWFkQ29udGV4dCgpO1xuICBjb25zdCBlZGl0U3VwcG9ydGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmNhcGFiaWxpdGllcy5lZGl0KTtcbiAgcmV0dXJuIGFsbG93RWRpdCAmJiAoIWVuc3VyZUNhcGFiaWxpdHkgfHwgZWRpdFN1cHBvcnRlZCk7XG59O1xuXG5jb25zdCBVc2VyQWN0aW9uQmFyOiBGQyA9ICgpID0+IHtcbiAgY29uc3QgYWxsb3dFZGl0ID0gdXNlQWxsb3dFZGl0KHRydWUpO1xuICBpZiAoIWFsbG93RWRpdCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiAoXG4gICAgPFVzZXJBY3Rpb25CYXJSb290IGhpZGVXaGVuUnVubmluZyBhdXRvaGlkZT1cIm5vdC1sYXN0XCI+XG4gICAgICA8VXNlckFjdGlvbkJhckVkaXQgLz5cbiAgICA8L1VzZXJBY3Rpb25CYXJSb290PlxuICApO1xufTtcblxuVXNlckFjdGlvbkJhci5kaXNwbGF5TmFtZSA9IFwiVXNlckFjdGlvbkJhclwiO1xuXG5jb25zdCBVc2VyQWN0aW9uQmFyUm9vdCA9IHdpdGhEZWZhdWx0cyhBY3Rpb25CYXJQcmltaXRpdmUuUm9vdCwge1xuICBjbGFzc05hbWU6IFwiYXVpLXVzZXItYWN0aW9uLWJhci1yb290XCIsXG59KTtcblxuVXNlckFjdGlvbkJhclJvb3QuZGlzcGxheU5hbWUgPSBcIlVzZXJBY3Rpb25CYXJSb290XCI7XG5cbmNvbnN0IFVzZXJBY3Rpb25CYXJFZGl0ID0gZm9yd2FyZFJlZjxcbiAgSFRNTEJ1dHRvbkVsZW1lbnQsXG4gIFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz5cbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHsgdXNlck1lc3NhZ2U6IHsgZWRpdDogeyB0b29sdGlwID0gXCJFZGl0XCIgfSA9IHt9IH0gPSB7fSB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgYWxsb3dFZGl0ID0gdXNlQWxsb3dFZGl0KCk7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvbkJhclByaW1pdGl2ZS5FZGl0IGRpc2FibGVkPXshYWxsb3dFZGl0fSBhc0NoaWxkPlxuICAgICAgPFRvb2x0aXBJY29uQnV0dG9uIHRvb2x0aXA9e3Rvb2x0aXB9IHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW4gPz8gPFBlbmNpbEljb24gLz59XG4gICAgICA8L1Rvb2x0aXBJY29uQnV0dG9uPlxuICAgIDwvQWN0aW9uQmFyUHJpbWl0aXZlLkVkaXQ+XG4gICk7XG59KTtcblxuVXNlckFjdGlvbkJhckVkaXQuZGlzcGxheU5hbWUgPSBcIlVzZXJBY3Rpb25CYXJFZGl0XCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IFVzZXJBY3Rpb25CYXJSb290LFxuICBFZGl0OiBVc2VyQWN0aW9uQmFyRWRpdCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oVXNlckFjdGlvbkJhciwgZXhwb3J0cykgYXMgdHlwZW9mIFVzZXJBY3Rpb25CYXIgJlxuICB0eXBlb2YgZXhwb3J0cztcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXNlQXR0YWNobWVudENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dC9yZWFjdC9BdHRhY2htZW50Q29udGV4dFwiO1xuXG5jb25zdCBVc2VyTWVzc2FnZUF0dGFjaG1lbnRSb290ID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS11c2VyLW1lc3NhZ2UtYXR0YWNobWVudC1yb290XCIsXG59KTtcblxuVXNlck1lc3NhZ2VBdHRhY2htZW50Um9vdC5kaXNwbGF5TmFtZSA9IFwiVXNlck1lc3NhZ2VBdHRhY2htZW50Um9vdFwiO1xuXG5jb25zdCBVc2VyTWVzc2FnZUF0dGFjaG1lbnQ6IEZDID0gKCkgPT4ge1xuICBjb25zdCB7IHVzZUF0dGFjaG1lbnQgfSA9IHVzZUF0dGFjaG1lbnRDb250ZXh0KCk7XG4gIGNvbnN0IGF0dGFjaG1lbnQgPSB1c2VBdHRhY2htZW50KChhKSA9PiBhLmF0dGFjaG1lbnQpO1xuXG4gIHJldHVybiAoXG4gICAgPFVzZXJNZXNzYWdlQXR0YWNobWVudFJvb3Q+XG4gICAgICAue2F0dGFjaG1lbnQubmFtZS5zcGxpdChcIi5cIikucG9wKCl9XG4gICAgPC9Vc2VyTWVzc2FnZUF0dGFjaG1lbnRSb290PlxuICApO1xufTtcblxuVXNlck1lc3NhZ2VBdHRhY2htZW50LmRpc3BsYXlOYW1lID0gXCJVc2VyTWVzc2FnZUF0dGFjaG1lbnRcIjtcblxuY29uc3QgZXhwb3J0cyA9IHtcbiAgUm9vdDogVXNlck1lc3NhZ2VBdHRhY2htZW50Um9vdCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oXG4gIFVzZXJNZXNzYWdlQXR0YWNobWVudCxcbiAgZXhwb3J0cyxcbikgYXMgdHlwZW9mIFVzZXJNZXNzYWdlQXR0YWNobWVudCAmIHR5cGVvZiBleHBvcnRzO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IGZvcndhcmRSZWYsIHR5cGUgRkMgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgQnV0dG9uLCBCdXR0b25Qcm9wcyB9IGZyb20gXCIuL2Jhc2UvYnV0dG9uXCI7XG5pbXBvcnQgeyB3aXRoRGVmYXVsdHMgfSBmcm9tIFwiLi91dGlscy93aXRoRGVmYXVsdHNcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbmZpZyB9IGZyb20gXCIuL3RocmVhZC1jb25maWdcIjtcbmltcG9ydCB7IENvbXBvc2VyUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcblxuY29uc3QgRWRpdENvbXBvc2VyOiBGQyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8RWRpdENvbXBvc2VyUm9vdD5cbiAgICAgIDxFZGl0Q29tcG9zZXJJbnB1dCAvPlxuXG4gICAgICA8RWRpdENvbXBvc2VyRm9vdGVyPlxuICAgICAgICA8RWRpdENvbXBvc2VyQ2FuY2VsIC8+XG4gICAgICAgIDxFZGl0Q29tcG9zZXJTZW5kIC8+XG4gICAgICA8L0VkaXRDb21wb3NlckZvb3Rlcj5cbiAgICA8L0VkaXRDb21wb3NlclJvb3Q+XG4gICk7XG59O1xuXG5FZGl0Q29tcG9zZXIuZGlzcGxheU5hbWUgPSBcIkVkaXRDb21wb3NlclwiO1xuXG5jb25zdCBFZGl0Q29tcG9zZXJSb290ID0gd2l0aERlZmF1bHRzKENvbXBvc2VyUHJpbWl0aXZlLlJvb3QsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1lZGl0LWNvbXBvc2VyLXJvb3RcIixcbn0pO1xuXG5FZGl0Q29tcG9zZXJSb290LmRpc3BsYXlOYW1lID0gXCJFZGl0Q29tcG9zZXJSb290XCI7XG5cbmNvbnN0IEVkaXRDb21wb3NlcklucHV0ID0gd2l0aERlZmF1bHRzKENvbXBvc2VyUHJpbWl0aXZlLklucHV0LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktZWRpdC1jb21wb3Nlci1pbnB1dFwiLFxufSk7XG5cbkVkaXRDb21wb3NlcklucHV0LmRpc3BsYXlOYW1lID0gXCJFZGl0Q29tcG9zZXJJbnB1dFwiO1xuXG5jb25zdCBFZGl0Q29tcG9zZXJGb290ZXIgPSB3aXRoRGVmYXVsdHMoXCJkaXZcIiwge1xuICBjbGFzc05hbWU6IFwiYXVpLWVkaXQtY29tcG9zZXItZm9vdGVyXCIsXG59KTtcblxuRWRpdENvbXBvc2VyRm9vdGVyLmRpc3BsYXlOYW1lID0gXCJFZGl0Q29tcG9zZXJGb290ZXJcIjtcblxuY29uc3QgRWRpdENvbXBvc2VyQ2FuY2VsID0gZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgUGFydGlhbDxCdXR0b25Qcm9wcz4+KFxuICAocHJvcHMsIHJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHN0cmluZ3M6IHtcbiAgICAgICAgZWRpdENvbXBvc2VyOiB7IGNhbmNlbDogeyBsYWJlbCA9IFwiQ2FuY2VsXCIgfSA9IHt9IH0gPSB7fSxcbiAgICAgIH0gPSB7fSxcbiAgICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wb3NlclByaW1pdGl2ZS5DYW5jZWwgYXNDaGlsZD5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAgICB7cHJvcHMuY2hpbGRyZW4gPz8gbGFiZWx9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9Db21wb3NlclByaW1pdGl2ZS5DYW5jZWw+XG4gICAgKTtcbiAgfSxcbik7XG5cbkVkaXRDb21wb3NlckNhbmNlbC5kaXNwbGF5TmFtZSA9IFwiRWRpdENvbXBvc2VyQ2FuY2VsXCI7XG5cbmNvbnN0IEVkaXRDb21wb3NlclNlbmQgPSBmb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBQYXJ0aWFsPEJ1dHRvblByb3BzPj4oXG4gIChwcm9wcywgcmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc3RyaW5nczogeyBlZGl0Q29tcG9zZXI6IHsgc2VuZDogeyBsYWJlbCA9IFwiU2VuZFwiIH0gPSB7fSB9ID0ge30gfSA9IHt9LFxuICAgIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvc2VyUHJpbWl0aXZlLlNlbmQgYXNDaGlsZD5cbiAgICAgICAgPEJ1dHRvbiB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAgICB7cHJvcHMuY2hpbGRyZW4gPz8gbGFiZWx9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9Db21wb3NlclByaW1pdGl2ZS5TZW5kPlxuICAgICk7XG4gIH0sXG4pO1xuXG5FZGl0Q29tcG9zZXJTZW5kLmRpc3BsYXlOYW1lID0gXCJFZGl0Q29tcG9zZXJTZW5kXCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IEVkaXRDb21wb3NlclJvb3QsXG4gIElucHV0OiBFZGl0Q29tcG9zZXJJbnB1dCxcbiAgRm9vdGVyOiBFZGl0Q29tcG9zZXJGb290ZXIsXG4gIENhbmNlbDogRWRpdENvbXBvc2VyQ2FuY2VsLFxuICBTZW5kOiBFZGl0Q29tcG9zZXJTZW5kLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihFZGl0Q29tcG9zZXIsIGV4cG9ydHMpIGFzIHR5cGVvZiBFZGl0Q29tcG9zZXIgJlxuICB0eXBlb2YgZXhwb3J0cztcbiJdLCJuYW1lcyI6WyJtZW1vIiwidXNlRWZmZWN0IiwidXNlSW5zZXJ0aW9uRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsIkFzc2lzdGFudENvbnRleHQiLCJ1c2VBc3Npc3RhbnRDb250ZXh0Iiwib3B0aW9ucyIsImNvbnRleHQiLCJvcHRpb25hbCIsIkVycm9yIiwiY3JlYXRlIiwiUHJveHlDb25maWdQcm92aWRlciIsImdldE1vZGVsQ29uZmlnIiwibWVyZ2VNb2RlbENvbmZpZ3MiLCJfcHJvdmlkZXJzIiwicmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyIiwicHJvdmlkZXIiLCJhZGQiLCJkZWxldGUiLCJTZXQiLCJtYWtlQXNzaXN0YW50TW9kZWxDb25maWdTdG9yZSIsInByb3h5IiwiT2JqZWN0IiwiZnJlZXplIiwibWFrZUFzc2lzdGFudFRvb2xVSXNTdG9yZSIsInNldCIsInJlbmRlcmVycyIsIk1hcCIsImdldFRvb2xVSSIsIm5hbWUiLCJhcnIiLCJnZXQiLCJsYXN0IiwiYXQiLCJzZXRUb29sVUkiLCJyZW5kZXIiLCJwdXNoIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwibGVuZ3RoIiwiVGhyZWFkQ29udGV4dCIsInVzZVRocmVhZENvbnRleHQiLCJtYWtlQ29tcG9zZXJTdG9yZSIsInVzZVRocmVhZFJ1bnRpbWUiLCJmb2N1c0xpc3RlbmVycyIsIl8iLCJydW50aW1lIiwiZ2V0U3RhdGUiLCJ2YWx1ZSIsInRleHQiLCJzZXRWYWx1ZSIsInNldFRleHQiLCJhdHRhY2htZW50cyIsImNvbXBvc2VyIiwiYWRkQXR0YWNobWVudCIsImZpbGUiLCJyZW1vdmVBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwicmVzZXQiLCJjYW5DYW5jZWwiLCJjYXBhYmlsaXRpZXMiLCJjYW5jZWwiLCJpc0VkaXRpbmciLCJpc0VtcHR5Iiwic2VuZCIsImNhbmNlbFJ1biIsImZvY3VzIiwibGlzdGVuZXIiLCJvbkZvY3VzIiwiZ2V0VGhyZWFkU3RhdGVGcm9tUnVudGltZSIsImxhc3RNZXNzYWdlIiwibWVzc2FnZXMiLCJ0aHJlYWRJZCIsImlzRGlzYWJsZWQiLCJpc1J1bm5pbmciLCJyb2xlIiwic3RhdHVzIiwidHlwZSIsIm1ha2VUaHJlYWRTdG9yZSIsInJ1bnRpbWVSZWYiLCJtYWtlVGhyZWFkVmlld3BvcnRTdG9yZSIsInNjcm9sbFRvQm90dG9tTGlzdGVuZXJzIiwiaXNBdEJvdHRvbSIsInNjcm9sbFRvQm90dG9tIiwib25TY3JvbGxUb0JvdHRvbSIsImNhbGxiYWNrIiwibWFrZVRocmVhZEFjdGlvblN0b3JlIiwicnVudGltZVN0b3JlIiwiZ2V0QnJhbmNoZXMiLCJtZXNzYWdlSWQiLCJzd2l0Y2hUb0JyYW5jaCIsImJyYW5jaElkIiwic3RhcnRSdW4iLCJwYXJlbnRJZCIsImFwcGVuZCIsIm1lc3NhZ2UiLCJhZGRUb29sUmVzdWx0Iiwic3BlYWsiLCJtYWtlVGhyZWFkTWVzc2FnZXNTdG9yZSIsIm1ha2VUaHJlYWRSdW50aW1lU3RvcmUiLCJzdWJzY3JpYmVUb01haW5UaHJlYWQiLCJmaXJzdCIsImNsZWFudXAiLCJpbm5lciIsInRocmVhZCIsInN1YnNjcmliZSIsInVuc3Vic2NyaWJlIiwiQmFzZUFzc2lzdGFudFJ1bnRpbWUiLCJjb25zdHJ1Y3RvciIsIl90aHJlYWQiLCJfc3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkhhbmRsZXIiLCJpbnRlcm5hbF9leHBvcnRzIiwiX19leHBvcnQiLCJNZXNzYWdlUmVwb3NpdG9yeSIsIlRocmVhZFJ1bnRpbWVDb21wb3NlciIsIlRvb2x0aXBJY29uQnV0dG9uIiwiZ2VuZXJhdGVJZCIsInVzZVNtb290aCIsInVzZVNtb290aFN0YXR1cyIsIndpdGhTbW9vdGhDb250ZXh0UHJvdmlkZXIiLCJub3RpZnlTdWJzY3JpYmVycyIsImF0dGFjaG1lbnRBY2NlcHQiLCJfYXR0YWNobWVudHMiLCJfdGV4dCIsInRyaW0iLCJzZXRBdHRhY2htZW50QWRhcHRlciIsImFkYXB0ZXIiLCJfYXR0YWNobWVudEFkYXB0ZXIiLCJhY2NlcHQiLCJhdHRhY2htZW50IiwiZmluZEluZGV4IiwiYSIsImlkIiwicmVtb3ZlIiwidG9TcGxpY2VkIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImNvbnRlbnQiLCJjdXN0b21BbHBoYWJldCIsIm9wdGltaXN0aWNQcmVmaXgiLCJnZW5lcmF0ZU9wdGltaXN0aWNJZCIsImZyb21Db3JlTWVzc2FnZXMiLCJmcm9tQ29yZU1lc3NhZ2UiLCJyZWFzb24iLCJjb21tb25Qcm9wcyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJwYXJ0IiwiYXJnc1RleHQiLCJKU09OIiwic3RyaW5naWZ5IiwiYXJncyIsInVuc3VwcG9ydGVkUm9sZSIsImZpbmRIZWFkIiwibmV4dCIsInBlcmZvcm1PcCIsIm5ld1BhcmVudCIsImNoaWxkIiwib3BlcmF0aW9uIiwicGFyZW50T3JSb290IiwicHJldiIsInJvb3QiLCJuZXdQYXJlbnRPclJvb3QiLCJjaGlsZHJlbiIsImZpbHRlciIsIm0iLCJjdXJyZW50IiwiZmFsbGJhY2tJZCIsImZhbGxiYWNrIiwiaGVhZCIsImdldE1lc3NhZ2VzIiwiQXJyYXkiLCJsZXZlbCIsImFkZE9yVXBkYXRlTWVzc2FnZSIsImV4aXN0aW5nSXRlbSIsIm5ld0l0ZW0iLCJnZXRNZXNzYWdlIiwiYXBwZW5kT3B0aW1pc3RpY01lc3NhZ2UiLCJvcHRpbWlzdGljSWQiLCJoYXMiLCJkZWxldGVNZXNzYWdlIiwicmVwbGFjZW1lbnRJZCIsInJlcGxhY2VtZW50IiwiY2hpbGRNZXNzYWdlIiwicHJldk9yUm9vdCIsInJlc2V0SGVhZCIsImV4cG9ydCIsImV4cG9ydEl0ZW1zIiwiaGVhZElkIiwiaW1wb3J0IiwidXNlTWVtbyIsImZvcndhcmRSZWYiLCJqc3giLCJTbW9vdGhDb250ZXh0IiwibWFrZVNtb290aENvbnRleHQiLCJpbml0aWFsU3RhdGUiLCJTbW9vdGhDb250ZXh0UHJvdmlkZXIiLCJvdXRlciIsInVzZVNtb290aENvbnRleHQiLCJ1c2VDb250ZW50UGFydCIsInVzZUNvbnRlbnRQYXJ0Q29udGV4dCIsIlByb3ZpZGVyIiwiQ29tcG9uZW50IiwiV3JhcHBlZCIsInByb3BzIiwicmVmIiwiZGlzcGxheU5hbWUiLCJ1c2VDYWxsYmFja1JlZiIsIlRleHRTdHJlYW1BbmltYXRvciIsImN1cnJlbnRUZXh0IiwiYW5pbWF0aW9uRnJhbWVJZCIsImxhc3RVcGRhdGVUaW1lIiwibm93IiwidGFyZ2V0VGV4dCIsImFuaW1hdGUiLCJjdXJyZW50VGltZSIsImRlbHRhVGltZSIsInRpbWVUb0NvbnN1bWUiLCJyZW1haW5pbmdDaGFycyIsImJhc2VUaW1lUGVyQ2hhciIsIk1hdGgiLCJtaW4iLCJjaGFyc1RvQWRkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2xpY2UiLCJzdGFydCIsInN0b3AiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIlNNT09USF9TVEFUVVMiLCJzdGF0ZSIsInNtb290aCIsInVzZU1lc3NhZ2UiLCJ1c2VNZXNzYWdlQ29udGV4dCIsImlkUmVmIiwiZGlzcGxheWVkVGV4dCIsInNldERpc3BsYXllZFRleHQiLCJzZXRTdGF0ZSIsImFuaW1hdG9yUmVmIiwic3RhcnRzV2l0aCIsIlRvb2x0aXBQcmltaXRpdmUiLCJjbGFzc05hbWVzIiwid2l0aERlZmF1bHRQcm9wcyIsImNsYXNzTmFtZSIsImRlZmF1bHRQcm9wcyIsImNsYXNzTmFtZVByb3AiLCJ3aXRoRGVmYXVsdHMiLCJnZXRQcm9wcyIsIldpdGhEZWZhdWx0cyIsIkNvbXBvbmVudEFzQW55IiwiVG9vbHRpcCIsIlJvb3QiLCJUb29sdGlwVHJpZ2dlciIsIlRyaWdnZXIiLCJUb29sdGlwQ29udGVudCIsIkNvbnRlbnQiLCJzaWRlT2Zmc2V0IiwiY3ZhIiwiUHJpbWl0aXZlIiwiYnV0dG9uVmFyaWFudHMiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0Iiwib3V0bGluZSIsImdob3N0Iiwic2l6ZSIsImljb24iLCJkZWZhdWx0VmFyaWFudHMiLCJCdXR0b24iLCJidXR0b24iLCJqc3hzIiwidG9vbHRpcCIsInNpZGUiLCJyZXN0IiwiYXNDaGlsZCIsImZyb21MYW5ndWFnZU1vZGVsTWVzc2FnZXMiLCJsbSIsIm1lcmdlUm91bmR0cmlwcyIsImxtTWVzc2FnZSIsImltYWdlIiwiVVJMIiwiaHJlZiIsInVuaGFuZGxlZFR5cGUiLCJuZXdDb250ZW50IiwidG9vbENhbGxJZCIsInRvb2xOYW1lIiwicHJldmlvdXNNZXNzYWdlIiwidG9vbCIsInRvb2xDYWxsIiwiZmluZCIsImMiLCJyZXN1bHQiLCJpc0Vycm9yIiwidW5oYW5kbGVkUm9sZSIsImZyb21MYW5ndWFnZU1vZGVsVG9vbHMiLCJ0b29scyIsImZyb21FbnRyaWVzIiwiZGVzY3JpcHRpb24iLCJwYXJhbWV0ZXJzIiwiY2h1bmtCeUxpbmVTdHJlYW0iLCJidWZmZXIiLCJUcmFuc2Zvcm1TdHJlYW0iLCJ0cmFuc2Zvcm0iLCJjaHVuayIsImNvbnRyb2xsZXIiLCJsaW5lcyIsInNwbGl0IiwiaSIsImVucXVldWUiLCJmbHVzaCIsImRlY29kZVN0cmVhbVBhcnQiLCJwYXJzZSIsInN0cmVhbVBhcnREZWNvZGVyU3RyZWFtIiwiZGVjb2RlU3RyZWFtIiwiUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW0iLCJyZWFkYWJsZSIsInBpcGVUaHJvdWdoIiwiVGV4dERlY29kZXJTdHJlYW0iLCJzdHJlYW1VdGlscyIsInN0cmVhbVBhcnRFbmNvZGVyU3RyZWFtIiwiYXNzaXN0YW50RGVjb2RlclN0cmVhbSIsInRvb2xDYWxsTmFtZXMiLCJjdXJyZW50VG9vbENhbGwiLCJ0b29sQ2FsbFR5cGUiLCJ0ZXh0RGVsdGEiLCJkZWx0YSIsImFyZ3NUZXh0RGVsdGEiLCJlcnJvciIsImFzQXN5bmNJdGVyYWJsZSIsInNvdXJjZSIsIlN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkb25lIiwicmVhZCIsIkVkZ2VDaGF0QWRhcHRlciIsInJ1biIsImFib3J0U2lnbmFsIiwiY29uZmlnIiwiaGVhZGVycyIsIkhlYWRlcnMiLCJmZXRjaCIsImFwaSIsIm1ldGhvZCIsImNyZWRlbnRpYWxzIiwiYm9keSIsInN5c3RlbSIsInRvQ29yZU1lc3NhZ2VzIiwidG9MYW5ndWFnZU1vZGVsVG9vbHMiLCJjYWxsU2V0dGluZ3MiLCJzaWduYWwiLCJzdHJlYW0iLCJ0b29sUmVzdWx0U3RyZWFtIiwicnVuUmVzdWx0U3RyZWFtIiwidXBkYXRlIiwidXNlRWRnZVJ1bnRpbWUiLCJpbml0aWFsTWVzc2FnZXMiLCJtYXhUb29sUm91bmR0cmlwcyIsImFkYXB0ZXJzIiwidXNlTG9jYWxSdW50aW1lIiwic2hvdWxkQ29udGludWUiLCJldmVyeSIsIkxvY2FsVGhyZWFkUnVudGltZSIsImNvbmZpZ1Byb3ZpZGVyIiwiYWJvcnRDb250cm9sbGVyIiwicmVwb3NpdG9yeSIsImVkaXQiLCJyZWxvYWQiLCJ1bnN0YWJsZV9jb3B5IiwiYmluZCIsIl9vcHRpb25zIiwiaGFzVXBkYXRlcyIsImNhblNwZWFrIiwic3BlZWNoIiwiY2FuQXR0YWNoIiwidXNlck1lc3NhZ2VJZCIsInVzZXJNZXNzYWdlIiwicGVyZm9ybVJvdW5kdHJpcCIsImFib3J0IiwiQWJvcnRDb250cm9sbGVyIiwiaW5pdGlhbENvbnRlbnQiLCJpbml0aWFsUm91bmR0cmlwcyIsIm1ldGFkYXRhIiwicm91bmR0cmlwcyIsImluaXRhbEN1c3RvbSIsImN1c3RvbSIsInVwZGF0ZU1lc3NhZ2UiLCJ0b29sUm91bmR0cmlwcyIsInByb21pc2VPckdlbmVyYXRvciIsIm9uVXBkYXRlIiwiciIsImUiLCJhZGRlZCIsImZvdW5kIiwiX3V0dGVyYW5jZSIsInV0dGVyYW5jZSIsIm9uRW5kIiwiZGF0YSIsIkxvY2FsUnVudGltZSIsInByb3h5Q29uZmlnUHJvdmlkZXIiLCJfcHJveHlDb25maWdQcm92aWRlciIsInN3aXRjaFRvVGhyZWFkIiwiaWR4Iiwic3ltYm9sSW5uZXJNZXNzYWdlIiwiZ2V0RXh0ZXJuYWxTdG9yZU1lc3NhZ2UiLCJUaHJlYWRNZXNzYWdlQ29udmVydGVyIiwiY29udmVydE1lc3NhZ2VzIiwiY29udmVydGVyIiwiY2FjaGVkIiwiY2FjaGUiLCJuZXdNZXNzYWdlIiwiV2Vha01hcCIsIkFVVE9fU1RBVFVTX1JVTk5JTkciLCJBVVRPX1NUQVRVU19DT01QTEVURSIsImlzQXV0b1N0YXR1cyIsImdldEF1dG9TdGF0dXMiLCJpc0xhc3QiLCJmcm9tVGhyZWFkTWVzc2FnZUxpa2UiLCJsaWtlIiwiZmFsbGJhY2tTdGF0dXMiLCJjb21tb24iLCJnZXRUaHJlYWRNZXNzYWdlVGV4dCIsInRleHRQYXJ0cyIsImpvaW4iLCJoYXNVcGNvbWluZ01lc3NhZ2UiLCJFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZSIsIl9jYXBhYmlsaXRpZXMiLCJzdG9yZSIsImFzc2lzdGFudE9wdGltaXN0aWNJZCIsInVwZGF0ZU1lc3NhZ2VzIiwiX3N0b3JlIiwic2V0TWVzc2FnZXMiLCJmbGF0TWFwIiwib2xkU3RvcmUiLCJvbkVkaXQiLCJvblJlbG9hZCIsIm9uQ2FuY2VsIiwib25TcGVhayIsInVuc3RhYmxlX2NhcGFiaWxpdGllcyIsImNvcHkiLCJjb252ZXJ0TWVzc2FnZSIsImF1dG9TdGF0dXMiLCJ0b1N0cmluZyIsInBhcmVudCIsIm9uTmV3Iiwic2V0VGltZW91dCIsIm9uQWRkVG9vbFJlc3VsdCIsIkV4dGVybmFsU3RvcmVSdW50aW1lIiwib25Td2l0Y2hUaHJlYWQiLCJvbk5ld1RocmVhZCIsInVzZUV4dGVybmFsU3RvcmVSdW50aW1lIiwiam9pbkV4dGVybmFsTWVzc2FnZXMiLCJhc3Npc3RhbnRNZXNzYWdlIiwib3V0cHV0IiwidG9vbENhbGxJZHgiLCJjaHVua0V4dGVybmFsTWVzc2FnZXMiLCJjYWxsYmFja1Jlc3VsdHMiLCJyZXN1bHRzIiwiaXNBc3Npc3RhbnQiLCJpbnB1dHMiLCJvdXRwdXRzIiwiY2FsbGJhY2tSZXN1bHQiLCJpbnB1dCIsInVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlciIsImNhbGxiYWNrQ2FjaGUiLCJjaHVua0NhY2hlIiwiY29udmVydGVyQ2FjaGUiLCJpc0FycmF5IiwiY2h1bmtzIiwia2V5Iiwic2hhbGxvd0FycmF5RXF1YWwiLCJiIiwiRGFuZ2Vyb3VzSW5Ccm93c2VyQWRhcHRlciIsInJlcyIsImdldEVkZ2VSdW50aW1lU3RyZWFtIiwicmVxdWVzdERhdGEiLCJ1c2VEYW5nZXJvdXNJbkJyb3dzZXJSdW50aW1lIiwiV2ViU3BlZWNoU3ludGhlc2lzQWRhcHRlciIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsImVuZEhhbmRsZXJzIiwiaGFuZGxlRW5kIiwiZm9yRWFjaCIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93Iiwic3BlZWNoU3ludGhlc2lzIiwiY2FuY2VsbGVkIiwicXVldWVNaWNyb3Rhc2siLCJTaW1wbGVJbWFnZUF0dGFjaG1lbnRBZGFwdGVyIiwiZ2V0RmlsZURhdGFVUkwiLCJyZXNvbHZlIiwicmVqZWN0IiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsIm9uZXJyb3IiLCJyZWFkQXNEYXRhVVJMIiwiU2ltcGxlVGV4dEF0dGFjaG1lbnRBZGFwdGVyIiwiZ2V0RmlsZVRleHQiLCJyZWFkQXNUZXh0IiwiZmlsZU1hdGNoZXNBY2NlcHQiLCJhY2NlcHRTdHJpbmciLCJhbGxvd2VkVHlwZXMiLCJ0b0xvd2VyQ2FzZSIsImZpbGVFeHRlbnNpb24iLCJwb3AiLCJmaWxlTWltZVR5cGUiLCJpbmNsdWRlcyIsImVuZHNXaXRoIiwiZ2VuZXJhbFR5cGUiLCJDb21wb3NpdGVBdHRhY2htZW50QWRhcHRlciIsIl9hZGFwdGVycyIsIndpbGRjYXJkSWR4Iiwid3JpdGFibGVTdG9yZSIsIlRocmVhZFByb3ZpZGVyIiwidXNlVGhyZWFkIiwidXNlVGhyZWFkTWVzc2FnZXMiLCJ1c2VUaHJlYWRBY3Rpb25zIiwidXNlVmlld3BvcnQiLCJ1c2VDb21wb3NlciIsIm9uVGhyZWFkVXBkYXRlIiwib2xkU3RhdGUiLCJjb21wb3NlclN0YXRlIiwiU3luY2hyb25pemVyIiwidCIsInVuc3RhYmxlX3N5bmNocm9uaXplciIsIm1ha2VBc3Npc3RhbnRBY3Rpb25zU3RvcmUiLCJnZXRSdW50aW1lIiwibWFrZUFzc2lzdGFudFJ1bnRpbWVTdG9yZSIsIkFzc2lzdGFudFByb3ZpZGVyIiwidXNlQXNzaXN0YW50UnVudGltZSIsInVzZU1vZGVsQ29uZmlnIiwidXNlVG9vbFVJcyIsInVzZUFzc2lzdGFudEFjdGlvbnMiLCJBc3Npc3RhbnRSdW50aW1lUHJvdmlkZXJJbXBsIiwiQXNzaXN0YW50UnVudGltZVByb3ZpZGVyIiwiTWVzc2FnZUNvbnRleHQiLCJ1c2VDb21wb3NlckNvbnRleHQiLCJ1c2VFZGl0Q29tcG9zZXIiLCJDb250ZW50UGFydENvbnRleHQiLCJ1c2VDYWxsYmFjayIsInRvQXBwZW5kTWVzc2FnZSIsInVzZUFwcGVuZE1lc3NhZ2UiLCJhcHBlbmRNZXNzYWdlIiwidXNlU3dpdGNoVG9OZXdUaHJlYWQiLCJzd2l0Y2hUb05ld1RocmVhZCIsInVzZUFzc2lzdGFudFRvb2wiLCJzIiwidW5zdWIxIiwidW5zdWIyIiwibWFrZUFzc2lzdGFudFRvb2wiLCJUb29sIiwidW5zdGFibGVfdG9vbCIsInVzZUFzc2lzdGFudFRvb2xVSSIsIm1ha2VBc3Npc3RhbnRUb29sVUkiLCJUb29sVUkiLCJ1c2VBc3Npc3RhbnRJbnN0cnVjdGlvbnMiLCJpbnN0cnVjdGlvbiIsInVzZVN5bmNFeHRlcm5hbFN0b3JlIiwiY3JlYXRlQ29tYmluZWRTdG9yZSIsInN0b3JlcyIsInVuc3Vic2NyaWJlcyIsInVuc3ViIiwic2VsZWN0b3IiLCJnZXRTbmFwc2hvdCIsInVzZUNvbWJpbmVkU3RvcmUiLCJ1c2VDb21iaW5lZCIsInVzZUFjdGlvbkJhckNvcHkiLCJjb3BpZWREdXJhdGlvbiIsInVzZU1lc3NhZ2VVdGlscyIsImhhc0NvcHlhYmxlQ29udGVudCIsInNvbWUiLCJzZXRJc0NvcGllZCIsImNvbXBvc2VyVmFsdWUiLCJ2YWx1ZVRvQ29weSIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInRoZW4iLCJ1c2VBY3Rpb25CYXJFZGl0IiwiZGlzYWJsZWQiLCJ1c2VBY3Rpb25CYXJSZWxvYWQiLCJ1c2VBY3Rpb25CYXJTcGVhayIsImhhc1NwZWFrYWJsZUNvbnRlbnQiLCJ1dHQiLCJhZGRVdHRlcmFuY2UiLCJ1c2VBY3Rpb25CYXJTdG9wU3BlYWtpbmciLCJpc1NwZWFraW5nIiwidSIsInN0b3BTcGVha2luZyIsInVzZUJyYW5jaFBpY2tlckNvdW50IiwiYnJhbmNoQ291bnQiLCJicmFuY2hlcyIsInVzZUJyYW5jaFBpY2tlck5leHQiLCJ1c2VCcmFuY2hQaWNrZXJOdW1iZXIiLCJicmFuY2hJZHgiLCJ1c2VCcmFuY2hQaWNrZXJQcmV2aW91cyIsInVzZUNvbXBvc2VyQ2FuY2VsIiwidXNlQ29tcG9zZXJJZiIsImVkaXRpbmciLCJ1c2VDb21wb3NlclNlbmQiLCJ1c2VOZXdDb21wb3NlciIsInVzZUNvbXBvc2VyQWRkQXR0YWNobWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uY2hhbmdlIiwidGFyZ2V0IiwiZmlsZXMiLCJjbGljayIsInVzZUNvbnRlbnRQYXJ0RGlzcGxheSIsImRpc3BsYXkiLCJ1c2VDb250ZW50UGFydEltYWdlIiwidXNlQ29udGVudFBhcnRUZXh0IiwidXNlTWVzc2FnZUlmIiwiaXNDb3BpZWQiLCJpc0hvdmVyaW5nIiwiaGFzQnJhbmNoZXMiLCJ1c2VyIiwiYXNzaXN0YW50IiwibGFzdE9ySG92ZXIiLCJjb3BpZWQiLCJzcGVha2luZyIsImhhc0F0dGFjaG1lbnRzIiwidXNlVGhyZWFkSWYiLCJlbXB0eSIsInJ1bm5pbmciLCJ1c2VUaHJlYWRFbXB0eSIsInVzZVRocmVhZFNjcm9sbFRvQm90dG9tIiwiaGFuZGxlU2Nyb2xsVG9Cb3R0b20iLCJ1c2VUaHJlYWRTdWdnZXN0aW9uIiwicHJvbXB0IiwiYXV0b1NlbmQiLCJhY3Rpb25CYXJfZXhwb3J0cyIsIkNvcHkiLCJBY3Rpb25CYXJQcmltaXRpdmVDb3B5IiwiRWRpdCIsIkFjdGlvbkJhclByaW1pdGl2ZUVkaXQiLCJSZWxvYWQiLCJBY3Rpb25CYXJQcmltaXRpdmVSZWxvYWQiLCJBY3Rpb25CYXJQcmltaXRpdmVSb290IiwiU3BlYWsiLCJBY3Rpb25CYXJQcmltaXRpdmVTcGVhayIsIlN0b3BTcGVha2luZyIsIkFjdGlvbkJhclByaW1pdGl2ZVN0b3BTcGVha2luZyIsInVzZUFjdGlvbkJhckZsb2F0U3RhdHVzIiwiaGlkZVdoZW5SdW5uaW5nIiwiYXV0b2hpZGUiLCJhdXRvaGlkZUZsb2F0IiwibXUiLCJhdXRvaGlkZUVuYWJsZWQiLCJoaWRlQW5kZmxvYXRTdGF0dXMiLCJkaXYiLCJjb21wb3NlRXZlbnRIYW5kbGVycyIsImNyZWF0ZUFjdGlvbkJ1dHRvbiIsInVzZUFjdGlvbkJ1dHRvbiIsImZvcndhcmRQcm9wcyIsIkFjdGlvbkJ1dHRvbiIsImZvcndhcmRlZFJlZiIsImZvcndhcmRlZFByb3BzIiwicHJpbWl0aXZlUHJvcHMiLCJrZXlzIiwib25DbGljayIsInVzZUVzY2FwZUtleWRvd24iLCJwcmV2ZW50RGVmYXVsdCIsImFzc2lzdGFudE1vZGFsX2V4cG9ydHMiLCJBbmNob3IiLCJBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvciIsIkFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudCIsIkFzc2lzdGFudE1vZGFsUHJpbWl0aXZlUm9vdCIsIkFzc2lzdGFudE1vZGFsUHJpbWl0aXZlVHJpZ2dlciIsIlBvcG92ZXJQcmltaXRpdmUiLCJ1c2VPbkNvbXBvc2VyRm9jdXMiLCJjYWxsYmFja1JlZiIsInVzZVBvcG92ZXJTY29wZSIsImNyZWF0ZVBvcG92ZXJTY29wZSIsInVzZUFzc2lzdGFudE1vZGFsT3BlblN0YXRlIiwiZGVmYXVsdE9wZW4iLCJzZXRPcGVuIiwiX19zY29wZUFzc2lzdGFudE1vZGFsIiwib3BlbiIsIm9uT3BlbkNoYW5nZSIsInNjb3BlIiwibW9kYWxPcGVuIiwiUG9wb3ZlclByaW1pdGl2ZTIiLCJQb3BvdmVyUHJpbWl0aXZlMyIsImFsaWduIiwib25JbnRlcmFjdE91dHNpZGUiLCJkaXNzbWlzc09uSW50ZXJhY3RPdXRzaWRlIiwiUG9wb3ZlclByaW1pdGl2ZTQiLCJQb3J0YWwiLCJQb3BvdmVyUHJpbWl0aXZlNSIsImJyYW5jaFBpY2tlcl9leHBvcnRzIiwiQ291bnQiLCJCcmFuY2hQaWNrZXJQcmltaXRpdmVDb3VudCIsIk5leHQiLCJCcmFuY2hQaWNrZXJQcmltaXRpdmVOZXh0IiwiTnVtYmVyIiwiQnJhbmNoUGlja2VyUHJpbWl0aXZlTnVtYmVyIiwiUHJldmlvdXMiLCJCcmFuY2hQaWNrZXJQcmV2aW91cyIsIkJyYW5jaFBpY2tlclByaW1pdGl2ZVJvb3QiLCJGcmFnbWVudCIsImJyYW5jaE51bWJlciIsIm1lc3NhZ2VfZXhwb3J0cyIsIkF0dGFjaG1lbnRzIiwiTWVzc2FnZVByaW1pdGl2ZUF0dGFjaG1lbnRzIiwiTWVzc2FnZVByaW1pdGl2ZUNvbnRlbnQiLCJJZiIsIk1lc3NhZ2VQcmltaXRpdmVJZiIsIkluUHJvZ3Jlc3MiLCJNZXNzYWdlUHJpbWl0aXZlSW5Qcm9ncmVzcyIsIk1lc3NhZ2VQcmltaXRpdmVSb290IiwidXNlTWFuYWdlZFJlZiIsImNsZWFudXBSZWYiLCJlbCIsInVzZUNvbXBvc2VkUmVmcyIsInVzZUlzSG92ZXJpbmdSZWYiLCJzZXRJc0hvdmVyaW5nIiwiaGFuZGxlTW91c2VFbnRlciIsImhhbmRsZU1vdXNlTGVhdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiaXNIb3ZlcmluZ1JlZiIsInF1ZXJ5IiwiQ09NUExFVEVfU1RBVFVTIiwidG9Db250ZW50UGFydFN0YXR1cyIsInBhcnRJbmRleCIsImlzTGFzdFBhcnQiLCJtYXgiLCJFTVBUWV9DT05URU5UIiwiZ2V0Q29udGVudFBhcnRTdGF0ZSIsImN1cnJlbnRTdGF0ZSIsInN5bmNDb250ZW50UGFydCIsIm5ld1N0YXRlIiwiQ29udGVudFBhcnRQcm92aWRlciIsIkNvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dCIsImNvbXBvbmVudCIsIkNvbnRlbnRQYXJ0UHJpbWl0aXZlSW1hZ2UiLCJpbWciLCJzcmMiLCJDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkiLCJDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3MiLCJpc0luUHJvZ3Jlc3MiLCJUb29sVUlEaXNwbGF5IiwiVUkiLCJSZW5kZXIiLCJkZWZhdWx0Q29tcG9uZW50cyIsIlRleHQiLCJzdHlsZSIsIndoaXRlU3BhY2UiLCJmb250RmFtaWx5IiwiSW1hZ2UiLCJNZXNzYWdlQ29udGVudFBhcnRDb21wb25lbnQiLCJjb21wb25lbnRzIiwiRW1wdHkiLCJieV9uYW1lIiwiRmFsbGJhY2siLCJhZGRSZXN1bHQiLCJNZXNzYWdlQ29udGVudFBhcnRJbXBsIiwiTWVzc2FnZUNvbnRlbnRQYXJ0IiwiY29udGVudExlbmd0aCIsImZyb20iLCJBdHRhY2htZW50Q29udGV4dCIsInVzZUF0dGFjaG1lbnRDb250ZXh0IiwiZ2V0QXR0YWNobWVudCIsInVzZUF0dGFjaG1lbnQiLCJ1c2VNZXNzYWdlQXR0YWNobWVudENvbnRleHQiLCJzeW5jQXR0YWNobWVudCIsIm1lc3NhZ2VTdGF0ZSIsIk1lc3NhZ2VBdHRhY2htZW50UHJvdmlkZXIiLCJhdHRhY2htZW50SW5kZXgiLCJnZXRDb21wb25lbnQiLCJBdHRhY2htZW50IiwiRG9jdW1lbnQiLCJGaWxlIiwiX2V4aGF1c3RpdmVDaGVjayIsIkF0dGFjaG1lbnRDb21wb25lbnQiLCJNZXNzYWdlQXR0YWNobWVudEltcGwiLCJNZXNzYWdlQXR0YWNobWVudCIsImF0dGFjaG1lbnRzQ291bnQiLCJoaWRlV2hlblNpbmdsZUJyYW5jaCIsImNvbXBvc2VyX2V4cG9ydHMiLCJBZGRBdHRhY2htZW50IiwiQ29tcG9zZXJQcmltaXRpdmVBZGRBdHRhY2htZW50IiwiQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50cyIsIkNhbmNlbCIsIkNvbXBvc2VyUHJpbWl0aXZlQ2FuY2VsIiwiQ29tcG9zZXJQcmltaXRpdmVJZiIsIklucHV0IiwiQ29tcG9zZXJQcmltaXRpdmVJbnB1dCIsIkNvbXBvc2VyUHJpbWl0aXZlUm9vdCIsIlNlbmQiLCJDb21wb3NlclByaW1pdGl2ZVNlbmQiLCJvblN1Ym1pdCIsImhhbmRsZVN1Ym1pdCIsImZvcm0iLCJTbG90IiwiVGV4dGFyZWFBdXRvc2l6ZSIsImF1dG9Gb2N1cyIsImRpc2FibGVkUHJvcCIsIm9uQ2hhbmdlIiwib25LZXlEb3duIiwidGV4dGFyZWFSZWYiLCJoYW5kbGVLZXlQcmVzcyIsIm5hdGl2ZUV2ZW50IiwiaXNDb21wb3NpbmciLCJzaGlmdEtleSIsImNsb3Nlc3QiLCJyZXF1ZXN0U3VibWl0IiwiYXV0b0ZvY3VzRW5hYmxlZCIsInRleHRhcmVhIiwicHJldmVudFNjcm9sbCIsInNldFNlbGVjdGlvblJhbmdlIiwidXNlQ29tcG9zZXJBdHRhY2htZW50Q29udGV4dCIsIkNvbXBvc2VyQXR0YWNobWVudFByb3ZpZGVyIiwiQ29tcG9zZXJBdHRhY2htZW50SW1wbCIsIkNvbXBvc2VyQXR0YWNobWVudCIsImNvbnRlbnRQYXJ0X2V4cG9ydHMiLCJEaXNwbGF5IiwidGhyZWFkX2V4cG9ydHMiLCJUaHJlYWRQcmltaXRpdmVFbXB0eSIsIlRocmVhZFByaW1pdGl2ZUlmIiwiTWVzc2FnZXMiLCJUaHJlYWRQcmltaXRpdmVNZXNzYWdlcyIsIlRocmVhZFByaW1pdGl2ZVJvb3QiLCJTY3JvbGxUb0JvdHRvbSIsIlRocmVhZFByaW1pdGl2ZVNjcm9sbFRvQm90dG9tIiwiU3VnZ2VzdGlvbiIsIlRocmVhZFByaW1pdGl2ZVN1Z2dlc3Rpb24iLCJWaWV3cG9ydCIsIlRocmVhZFByaW1pdGl2ZVZpZXdwb3J0IiwidXNlT25SZXNpemVDb250ZW50IiwicmVmQ2FsbGJhY2siLCJyZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyIiwibXV0YXRpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJtdXRhdGlvbiIsIm5vZGUiLCJhZGRlZE5vZGVzIiwiRWxlbWVudCIsIm9ic2VydmUiLCJyZW1vdmVkTm9kZXMiLCJ1bm9ic2VydmUiLCJjaGlsZExpc3QiLCJkaXNjb25uZWN0IiwidXNlT25TY3JvbGxUb0JvdHRvbSIsInVzZVRocmVhZFZpZXdwb3J0QXV0b1Njcm9sbCIsImF1dG9TY3JvbGwiLCJkaXZSZWYiLCJsYXN0U2Nyb2xsVG9wIiwiaXNTY3JvbGxpbmdUb0JvdHRvbVJlZiIsImJlaGF2aW9yIiwic2Nyb2xsVG8iLCJ0b3AiLCJzY3JvbGxIZWlnaHQiLCJoYW5kbGVTY3JvbGwiLCJuZXdJc0F0Qm90dG9tIiwic2Nyb2xsVG9wIiwiY2xpZW50SGVpZ2h0IiwicmVzaXplUmVmIiwic2Nyb2xsUmVmIiwiYXV0b1Njcm9sbFJlZiIsIm9uU2Nyb2xsIiwibWFrZUVkaXRDb21wb3NlclN0b3JlIiwib25TZW5kIiwibWFrZU1lc3NhZ2VVdGlsc1N0b3JlIiwiZ2V0SXNMYXN0IiwiZ2V0TWVzc2FnZVN0YXRlIiwibWVzc2FnZUluZGV4IiwicHJldmlvdXNUZXh0Iiwibm9uVGV4dFBhcnRzIiwic3luY01lc3NhZ2UiLCJNZXNzYWdlUHJvdmlkZXIiLCJERUZBVUxUX1NZU1RFTV9NRVNTQUdFIiwiZ2V0Q29tcG9uZW50cyIsIkVkaXRDb21wb3NlciIsIlVzZXJNZXNzYWdlIiwiTWVzc2FnZSIsIkFzc2lzdGFudE1lc3NhZ2UiLCJTeXN0ZW1NZXNzYWdlIiwiVGhyZWFkTWVzc2FnZUltcGwiLCJUaHJlYWRNZXNzYWdlIiwiVGhyZWFkUHJpbWl0aXZlTWVzc2FnZXNJbXBsIiwibWVzc2FnZXNMZW5ndGgiLCJUaHJlYWRDb25maWdDb250ZXh0IiwidXNlVGhyZWFkQ29uZmlnIiwiVGhyZWFkQ29uZmlnUHJvdmlkZXIiLCJBdWRpb0xpbmVzSWNvbiIsIkNoZWNrSWNvbiIsIkNvcHlJY29uIiwiUmVmcmVzaEN3SWNvbiIsIlN0b3BDaXJjbGVJY29uIiwidXNlQWxsb3dDb3B5IiwiZW5zdXJlQ2FwYWJpbGl0eSIsImFsbG93Q29weSIsImNvcHlTdXBwb3J0ZWQiLCJ1c2VBbGxvd1NwZWFrIiwiYWxsb3dTcGVhayIsInNwZWFrU3VwcG9ydGVkIiwidXNlQWxsb3dSZWxvYWQiLCJhbGxvd1JlbG9hZCIsInJlbG9hZFN1cHBvcnRlZCIsIkFzc2lzdGFudEFjdGlvbkJhciIsIkFzc2lzdGFudEFjdGlvbkJhclJvb3QiLCJBc3Npc3RhbnRBY3Rpb25CYXJTcGVlY2hDb250cm9sIiwiQXNzaXN0YW50QWN0aW9uQmFyQ29weSIsIkFzc2lzdGFudEFjdGlvbkJhclJlbG9hZCIsInN0cmluZ3MiLCJBc3Npc3RhbnRBY3Rpb25CYXJTcGVhayIsIkFzc2lzdGFudEFjdGlvbkJhclN0b3BTcGVha2luZyIsInN0b3BUb29sdGlwIiwiZXhwb3J0cyIsIlNwZWVjaENvbnRyb2wiLCJhc3Npc3RhbnRfYWN0aW9uX2Jhcl9kZWZhdWx0IiwiYXNzaWduIiwiQ2hldnJvbkxlZnRJY29uIiwiQ2hldnJvblJpZ2h0SWNvbiIsInVzZUFsbG93QnJhbmNoUGlja2VyIiwiYnJhbmNoUGlja2VyIiwiYWxsb3dCcmFuY2hQaWNrZXIiLCJicmFuY2hQaWNrZXJTdXBwb3J0ZWQiLCJCcmFuY2hQaWNrZXIiLCJCcmFuY2hQaWNrZXJSb290IiwiQnJhbmNoUGlja2VyU3RhdGUiLCJCcmFuY2hQaWNrZXJOZXh0IiwicHJldmlvdXMiLCJCcmFuY2hQaWNrZXJTdGF0ZVdyYXBwZXIiLCJicmFuY2hfcGlja2VyX2RlZmF1bHQiLCJBdmF0YXJQcmltaXRpdmUiLCJBdmF0YXIiLCJhbHQiLCJBdmF0YXJSb290IiwiQXZhdGFySW1hZ2UiLCJBdmF0YXJGYWxsYmFjayIsImNvbnRlbnRfcGFydF9kZWZhdWx0IiwiQXNzaXN0YW50TWVzc2FnZVJvb3QiLCJBc3Npc3RhbnRNZXNzYWdlQXZhdGFyIiwiQXNzaXN0YW50TWVzc2FnZUNvbnRlbnQiLCJhc3Npc3RhbnRBdmF0YXIiLCJhdmF0YXIiLCJBc3Npc3RhbnRNZXNzYWdlQ29udGVudFdyYXBwZXIiLCJjb21wb25lbnRzUHJvcCIsInRvb2xzQ29tcG9uZW50cyIsIlRvb2xGYWxsYmFjayIsImFzc2lzdGFudF9tZXNzYWdlX2RlZmF1bHQiLCJCb3RJY29uIiwiQ2hldnJvbkRvd25JY29uIiwiQXJyb3dEb3duSWNvbiIsIlBhcGVyY2xpcEljb24iLCJTZW5kSG9yaXpvbnRhbEljb24iLCJDaXJjbGVTdG9wSWNvbiIsInhtbG5zIiwidmlld0JveCIsImZpbGwiLCJ3aWR0aCIsImhlaWdodCIsIngiLCJ5IiwicngiLCJDaXJjbGVYSWNvbiIsIkNvbXBvc2VyQXR0YWNobWVudFJvb3QiLCJDb21wb3NlckF0dGFjaG1lbnRSZW1vdmUiLCJoYW5kbGVSZW1vdmVBdHRhY2htZW50IiwiUmVtb3ZlIiwiY29tcG9zZXJfYXR0YWNobWVudF9kZWZhdWx0IiwidXNlQWxsb3dBdHRhY2htZW50cyIsImFsbG93QXR0YWNobWVudHMiLCJhdHRhY2htZW50c1N1cHBvcnRlZCIsIkNvbXBvc2VyIiwiQ29tcG9zZXJSb290IiwiQ29tcG9zZXJBdHRhY2htZW50cyIsIkNvbXBvc2VyQWRkQXR0YWNobWVudCIsIkNvbXBvc2VySW5wdXQiLCJDb21wb3NlckFjdGlvbiIsIkNvbXBvc2VySW5wdXRTdHlsZWQiLCJyb3dzIiwicGxhY2Vob2xkZXIiLCJDb21wb3NlckF0dGFjaG1lbnRzQ29udGFpbmVyIiwiQ29tcG9zZXJBdHRhY2hCdXR0b24iLCJ1c2VBbGxvd0NhbmNlbCIsImNhbmNlbFN1cHBvcnRlZCIsImFsbG93Q2FuY2VsIiwiQ29tcG9zZXJTZW5kIiwiQ29tcG9zZXJDYW5jZWwiLCJDb21wb3NlclNlbmRCdXR0b24iLCJDb21wb3NlckNhbmNlbEJ1dHRvbiIsIkFjdGlvbiIsImNvbXBvc2VyX2RlZmF1bHQiLCJUaHJlYWRXZWxjb21lIiwiVGhyZWFkV2VsY29tZVJvb3QiLCJUaHJlYWRXZWxjb21lQ2VudGVyIiwiVGhyZWFkV2VsY29tZUF2YXRhciIsIlRocmVhZFdlbGNvbWVNZXNzYWdlIiwiVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25zIiwiVGhyZWFkV2VsY29tZVJvb3RTdHlsZWQiLCJUaHJlYWRXZWxjb21lTWVzc2FnZVN0eWxlZCIsIm1lc3NhZ2VQcm9wIiwid2VsY29tZSIsIlRocmVhZFdlbGNvbWVTdWdnZXN0aW9uQ29udGFpbmVyIiwiVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25TdHlsZWQiLCJUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbiIsInN1Z2dlc3Rpb24iLCJzdWdnZXN0aW9ucyIsIkNlbnRlciIsIlN1Z2dlc3Rpb25zIiwidGhyZWFkX3dlbGNvbWVfZGVmYXVsdCIsIlBlbmNpbEljb24iLCJ1c2VBbGxvd0VkaXQiLCJhbGxvd0VkaXQiLCJlZGl0U3VwcG9ydGVkIiwiVXNlckFjdGlvbkJhciIsIlVzZXJBY3Rpb25CYXJSb290IiwiVXNlckFjdGlvbkJhckVkaXQiLCJ1c2VyX2FjdGlvbl9iYXJfZGVmYXVsdCIsIlVzZXJNZXNzYWdlQXR0YWNobWVudFJvb3QiLCJVc2VyTWVzc2FnZUF0dGFjaG1lbnQiLCJ1c2VyX21lc3NhZ2VfYXR0YWNobWVudF9kZWZhdWx0IiwiVXNlck1lc3NhZ2VSb290IiwiVXNlck1lc3NhZ2VBdHRhY2htZW50cyIsIlVzZXJNZXNzYWdlQ29udGVudCIsIlVzZXJNZXNzYWdlQ29udGVudFdyYXBwZXIiLCJVc2VyTWVzc2FnZUF0dGFjaG1lbnRzQ29udGFpbmVyIiwidXNlcl9tZXNzYWdlX2RlZmF1bHQiLCJFZGl0Q29tcG9zZXJSb290IiwiRWRpdENvbXBvc2VySW5wdXQiLCJFZGl0Q29tcG9zZXJGb290ZXIiLCJFZGl0Q29tcG9zZXJDYW5jZWwiLCJFZGl0Q29tcG9zZXJTZW5kIiwiZWRpdENvbXBvc2VyIiwibGFiZWwiLCJGb290ZXIiLCJlZGl0X2NvbXBvc2VyX2RlZmF1bHQiLCJUaHJlYWQiLCJUaHJlYWRSb290IiwiVGhyZWFkVmlld3BvcnQiLCJUaHJlYWRNZXNzYWdlcyIsIlRocmVhZFZpZXdwb3J0Rm9vdGVyIiwiVGhyZWFkU2Nyb2xsVG9Cb3R0b20iLCJUaHJlYWRSb290U3R5bGVkIiwiVGhyZWFkU2Nyb2xsVG9Cb3R0b21JY29uQnV0dG9uIiwiVmlld3BvcnRGb290ZXIiLCJ0aHJlYWRfZGVmYXVsdCIsIkFzc2lzdGFudE1vZGFsIiwiQXNzaXN0YW50TW9kYWxSb290IiwiQXNzaXN0YW50TW9kYWxUcmlnZ2VyIiwiQXNzaXN0YW50TW9kYWxDb250ZW50IiwiQXNzaXN0YW50TW9kYWxBbmNob3IiLCJBc3Npc3RhbnRNb2RhbEJ1dHRvbiIsIk1vZGFsQnV0dG9uU3R5bGVkIiwiYXNzaXN0YW50TW9kYWwiLCJvcGVuVG9vbHRpcCIsImNsb3NlZCIsImNsb3NlZFRvb2x0aXAiLCJhc3Npc3RhbnRfbW9kYWxfZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/@assistant-ui+react@0.5.51_@types+react-dom@18.3.0_@types+react@18.3.5_react-dom@18.3.1_react_7uyi4neb6eo7mndhuosvbsxsle/node_modules/@assistant-ui/react/dist/index.mjs\n");

/***/ })

};
;